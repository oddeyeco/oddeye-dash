!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.echarts={})}(this,function(ail){function aiV(d){var g={},j={},c=d.match(/Firefox\/([\d.]+)/),b=d.match(/MSIE\s([\d.]+)/)||d.match(/Trident\/.+?rv:(([\d.]+))/),h=d.match(/Edge\/([\d.]+)/),f=/micromessenger/i.test(d);return c&&(j.firefox=!0,j.version=c[1]),b&&(j.ie=!0,j.version=b[1]),h&&(j.edge=!0,j.version=h[1]),f&&(j.weChat=!0),{browser:j,os:g,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart" in window&&!j.ie&&!j.edge,pointerEventsSupported:"onpointerdown" in window&&(j.edge||j.ie&&j.version>=11),domSupported:"undefined"!=typeof document}}function aiy(a,b){"createCanvas"===a&&(xY=null),wB[a]=b}function aiO(c){if(null==c||"object"!=typeof c){return c}var g=c,i=AK.call(c);if("[object Array]"===i){if(!ajY(c)){g=[];for(var b=0,h=c.length;h>b;b++){g[b]=aiO(c[b])}}}else{if(fH[i]){if(!ajY(c)){var f=c.constructor;if(c.constructor.from){g=f.from(c)}else{g=new f(c.length);for(var b=0,h=c.length;h>b;b++){g[b]=aiO(c[b])}}}}else{if(!DB[i]&&!ajY(c)&&!ajo(c)){g={};for(var d in c){c.hasOwnProperty(d)&&(g[d]=aiO(c[d]))}}}}return g}function ai5(a,d,g){if(!ajq(d)||!ajq(a)){return g?aiO(d):a}for(var f in d){if(d.hasOwnProperty(f)){var c=a[f],b=d[f];!ajq(b)||!ajq(c)||ai9(b)||ai9(c)||ajo(b)||ajo(c)||ajF(b)||ajF(c)||ajY(b)||ajY(c)?!g&&f in a||(a[f]=aiO(d[f],!0)):ai5(c,b,g)}}return a}function aix(b,c){for(var f=b[0],a=1,d=b.length;d>a;a++){f=ai5(f,b[a],c)}return f}function aip(a,b){for(var c in b){b.hasOwnProperty(c)&&(a[c]=b[c])}return a}function ain(b,c,d){for(var a in c){c.hasOwnProperty(a)&&(d?null!=c[a]:null==b[a])&&(b[a]=c[a])}return b}function aiE(){return xY||(xY=Mq().getContext("2d")),xY}function aij(b,c){if(b){if(b.indexOf){return b.indexOf(c)}for(var d=0,a=b.length;a>d;d++){if(b[d]===c){return d}}}return -1}function aiP(d,f){function g(){}var c=d.prototype;g.prototype=f.prototype,d.prototype=new g;for(var b in c){d.prototype[b]=c[b]}d.prototype.constructor=d,d.superClass=f}function aiZ(a,b,c){a="prototype" in a?a.prototype:a,b="prototype" in b?b.prototype:b,ain(a,b,c)}function aiX(a){return a?"string"==typeof a?!1:"number"==typeof a.length:void 0}function aiT(d,f,h){if(d&&f){if(d.forEach&&d.forEach===d6){d.forEach(f,h)}else{if(d.length===+d.length){for(var c=0,b=d.length;b>c;c++){f.call(h,d[c],c,d)}}else{for(var g in d){d.hasOwnProperty(g)&&f.call(h,d[g],g,d)}}}}}function aiu(d,f,h){if(d&&f){if(d.map&&d.map===iq){return d.map(f,h)}for(var c=[],b=0,g=d.length;g>b;b++){c.push(f.call(h,d[b],b,d))}return c}}function aiQ(d,f,h,c){if(d&&f){if(d.reduce&&d.reduce===ZX){return d.reduce(f,h,c)}for(var b=0,g=d.length;g>b;b++){h=f.call(c,h,d[b],b,d)}return h}}function aiB(d,f,h){if(d&&f){if(d.filter&&d.filter===cW){return d.filter(f,h)}for(var c=[],b=0,g=d.length;g>b;b++){f.call(h,d[b],b,d)&&c.push(d[b])}return c}}function aih(d,f,g){if(d&&f){for(var c=0,b=d.length;b>c;c++){if(f.call(g,d[c],c,d)){return d[c]}}}}function aic(a,b){var c=ad7.call(arguments,2);return function(){return a.apply(b,c.concat(ad7.call(arguments)))}}function aie(a){var b=ad7.call(arguments,1);return function(){return a.apply(this,b.concat(ad7.call(arguments)))}}function ai9(a){return"[object Array]"===AK.call(a)}function aif(a){return"function"==typeof a}function ai2(a){return"[object String]"===AK.call(a)}function ajq(a){var b=typeof a;return"function"===b||!!a&&"object"==b}function ajF(a){return !!DB[AK.call(a)]}function ajQ(a){return !!fH[AK.call(a)]}function ajo(a){return"object"==typeof a&&"number"==typeof a.nodeType&&"object"==typeof a.ownerDocument}function aka(a){return a!==a}function aj0(){for(var a=0,b=arguments.length;b>a;a++){if(null!=arguments[a]){return arguments[a]}}}function aj3(a,b){return null!=a?a:b}function ajI(a,b,c){return null!=a?a:null!=b?b:c}function aiH(){return Function.call.apply(ad7,arguments)}function ajy(a){if("number"==typeof a){return[a,a,a,a]}var b=a.length;return 2===b?[a[0],a[1],a[0],a[1]]:3===b?[a[0],a[1],a[2],a[1]]:a}function ajz(a,b){if(!a){throw new Error(b)}}function ajs(a){return null==a?null:"function"==typeof a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function aib(a){a[n1]=!0}function ajY(a){return a[n1]}function ajC(b){function c(f,g){d?a.set(f,g):a.set(g,f)}var d=ai9(b);this.data={};var a=this;b instanceof ajC?b.each(c):b&&aiT(b,c)}function aj6(a){return new ajC(a)}function ajl(d,f){for(var g=new d.constructor(d.length+f.length),c=0;c<d.length;c++){g[c]=d[c]}var b=d.length;for(c=0;c<f.length;c++){g[c+b]=f[c]}return g}function ajU(){}function ajW(a,b){var c=new ahx(2);return null==a&&(a=0),null==b&&(b=0),c[0]=a,c[1]=b,c}function aji(a,b){return a[0]=b[0],a[1]=b[1],a}function ajR(a){var b=new ahx(2);return b[0]=a[0],b[1]=a[1],b}function ajd(a,b,c){return a[0]=b,a[1]=c,a}function ajg(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a}function ajf(b,c,d,a){return b[0]=c[0]+d[0]*a,b[1]=c[1]+d[1]*a,b}function aiK(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a}function ajm(a){return Math.sqrt(air(a))}function air(a){return a[0]*a[0]+a[1]*a[1]}function ajL(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a}function akH(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a}function ajP(a,b){return a[0]*b[0]+a[1]*b[1]}function ajv(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a}function WJ(a,b){var c=ajm(b);return 0===c?(a[0]=0,a[1]=0):(a[0]=b[0]/c,a[1]=b[1]/c),a}function ahr(a,b){return Math.sqrt((a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1]))}function ab7(a,b){return(a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1])}function ae3(a,b){return a[0]=-b[0],a[1]=-b[1],a}function akF(b,c,d,a){return b[0]=c[0]+a*(d[0]-c[0]),b[1]=c[1]+a*(d[1]-c[1]),b}function abw(d,f,g){var c=f[0],b=f[1];return d[0]=g[0]*c+g[2]*b+g[4],d[1]=g[1]*c+g[3]*b+g[5],d}function Zq(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a}function X1(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a}function adj(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function U6(a,b){return{target:a,topTarget:b&&b.topTarget}}function afE(a,b){var c=a._$eventProcessor;return null!=b&&c&&c.normalizeQuery&&(b=c.normalizeQuery(b)),b}function ai0(a){return a.getBoundingClientRect?a.getBoundingClientRect():{left:0,top:0}}function ah1(b,c,d,a){return d=d||{},a||!B3.canvasSupported?agQ(b,c,d):B3.browser.firefox&&null!=c.layerX&&c.layerX!==c.offsetX?(d.zrX=c.layerX,d.zrY=c.layerY):null!=c.offsetX?(d.zrX=c.offsetX,d.zrY=c.offsetY):agQ(b,c,d),d}function agQ(b,c,d){var a=ai0(b);d.zrX=c.clientX-a.left,d.zrY=c.clientY-a.top}function aaV(d,g,j){if(g=g||window.event,null!=g.zrX){return g}var c=g.type,b=c&&c.indexOf("touch")>=0;if(b){var h="touchend"!=c?g.targetTouches[0]:g.changedTouches[0];h&&ah1(d,h,g,j)}else{ah1(d,g,g,j),g.zrDelta=g.wheelDelta?g.wheelDelta/120:-(g.detail||0)/3}var f=g.button;return null==g.which&&void 0!==f&&afK.test(g.type)&&(g.which=1&f?1:2&f?3:4&f?2:0),g}function agf(a,b,c){Vt?a.addEventListener(b,c):a.attachEvent("on"+b,c)}function acI(a,b,c){Vt?a.removeEventListener(b,c):a.detachEvent("on"+b,c)}function TW(a){return a.which>1}function PJ(a,b,c){return{type:a,event:c,target:b.target,topTarget:b.topTarget,cancelBubble:!1,offsetX:c.zrX,offsetY:c.zrY,gestureEvent:c.gestureEvent,pinchX:c.pinchX,pinchY:c.pinchY,pinchScale:c.pinchScale,wheelDelta:c.zrDelta,zrByTouch:c.zrByTouch,which:c.which,stop:Q1}}function Q1(){ai8(this.event)}function a2(){}function Sq(d,f,g){if(d[d.rectHover?"rectContain":"contain"](f,g)){for(var c,b=d;b;){if(b.clipPath&&!b.clipPath.contain(f,g)){return !1}b.silent&&(c=!0),b=b.parent}return c?ah7:!0}return !1}function aj1(){var a=new agl(6);return l3(a),a}function l3(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}function uG(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a}function z5(k,h,d){var g=h[0]*d[0]+h[2]*d[1],j=h[1]*d[0]+h[3]*d[1],c=h[0]*d[2]+h[2]*d[3],b=h[1]*d[2]+h[3]*d[3],m=h[0]*d[4]+h[2]*d[5]+h[4],f=h[1]*d[4]+h[3]*d[5]+h[5];return k[0]=g,k[1]=j,k[2]=c,k[3]=b,k[4]=m,k[5]=f,k}function kK(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+c[0],a[5]=b[5]+c[1],a}function Lq(q,k,d){var g=k[0],m=k[2],c=k[4],b=k[1],v=k[3],f=k[5],p=Math.sin(d),j=Math.cos(d);return q[0]=g*j+b*p,q[1]=-g*p+b*j,q[2]=m*j+v*p,q[3]=-m*p+j*v,q[4]=j*c+p*f,q[5]=j*f-p*c,q}function G7(d,f,g){var c=g[0],b=g[1];return d[0]=f[0]*c,d[1]=f[1]*b,d[2]=f[2]*c,d[3]=f[3]*b,d[4]=f[4]*c,d[5]=f[5]*b,d}function IJ(k,h){var d=h[0],g=h[2],j=h[4],c=h[1],b=h[3],m=h[5],f=d*b-c*g;return f?(f=1/f,k[0]=b*f,k[1]=-c*f,k[2]=-g*f,k[3]=d*f,k[4]=(g*m-b*j)*f,k[5]=(c*j-d*m)*f,k):null}function v0(a){var b=aj1();return uG(b,a),b}function adU(a){return a>PX||-PX>a}function p9(a){this._target=a.target,this._life=a.life||1000,this._delay=a.delay||0,this._initialized=!1,this.loop=null==a.loop?!1:a.loop,this.gap=a.gap||0,this.easing=a.easing||"Linear",this.onframe=a.onframe,this.ondestroy=a.ondestroy,this.onrestart=a.onrestart,this._pausedTime=0,this._paused=!1}function rQ(a){return a=Math.round(a),0>a?0:a>255?255:a}function nF(a){return a=Math.round(a),0>a?0:a>360?360:a}function Oj(a){return 0>a?0:a>1?1:a}function FW(a){return rQ(a.length&&"%"===a.charAt(a.length-1)?parseFloat(a)/100*255:parseInt(a,10))}function s4(a){return Oj(a.length&&"%"===a.charAt(a.length-1)?parseFloat(a)/100:parseFloat(a))}function J1(a,b,c){return 0>c?c+=1:c>1&&(c-=1),1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}function hY(a,b,c){return a+(b-a)*c}function C0(d,f,g,c,b){return d[0]=f,d[1]=g,d[2]=c,d[3]=b,d}function Eq(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a}function gB(a,b){qG&&Eq(qG,b),qG=ad0.put(a,qG||b.slice())}function BH(m,h){if(m){h=h||[];var d=ad0.get(m);if(d){return Eq(h,d)}m+="";var g=m.replace(/ /g,"").toLowerCase();if(g in v6){return Eq(h,v6[g]),gB(m,h),h}if("#"!==g.charAt(0)){var j=g.indexOf("("),c=g.indexOf(")");if(-1!==j&&c+1===g.length){var b=g.substr(0,j),p=g.substr(j+1,c-(j+1)).split(","),f=1;switch(b){case"rgba":if(4!==p.length){return void C0(h,0,0,0,1)}f=s4(p.pop());case"rgb":return 3!==p.length?void C0(h,0,0,0,1):(C0(h,FW(p[0]),FW(p[1]),FW(p[2]),f),gB(m,h),h);case"hsla":return 4!==p.length?void C0(h,0,0,0,1):(p[3]=s4(p[3]),cB(p,h),gB(m,h),h);case"hsl":return 3!==p.length?void C0(h,0,0,0,1):(cB(p,h),gB(m,h),h);default:return}}C0(h,0,0,0,1)}else{if(4===g.length){var k=parseInt(g.substr(1),16);return k>=0&&4095>=k?(C0(h,(3840&k)>>4|(3840&k)>>8,240&k|(240&k)>>4,15&k|(15&k)<<4,1),gB(m,h),h):void C0(h,0,0,0,1)}if(7===g.length){var k=parseInt(g.substr(1),16);return k>=0&&16777215>=k?(C0(h,(16711680&k)>>16,(65280&k)>>8,255&k,1),gB(m,h),h):void C0(h,0,0,0,1)}}}}function cB(d,g){var j=(parseFloat(d[0])%360+360)%360/360,c=s4(d[1]),b=s4(d[2]),h=0.5>=b?b*(c+1):b+c-b*c,f=2*b-h;return g=g||[],C0(g,rQ(255*J1(f,h,j+1/3)),rQ(255*J1(f,h,j)),rQ(255*J1(f,h,j-1/3)),1),4===d.length&&(g[3]=d[3]),g}function e3(A){if(A){var v,j,m=A[0]/255,y=A[1]/255,g=A[2]/255,b=Math.min(m,y,g),B=Math.max(m,y,g),k=B-b,z=(B+b)/2;if(0===k){v=0,j=0}else{j=0.5>z?k/(B+b):k/(2-B-b);var p=((B-m)/6+k/2)/k,x=((B-y)/6+k/2)/k,w=((B-g)/6+k/2)/k;m===B?v=w-x:y===B?v=1/3+p-w:g===B&&(v=2/3+x-p),0>v&&(v+=1),v>1&&(v-=1)}var q=[360*v,j,z];return null!=A[3]&&q.push(A[3]),q}}function dQ(b,c){var d=BH(b);if(d){for(var a=0;3>a;a++){d[a]=0>c?d[a]*(1-c)|0:(255-d[a])*c+d[a]|0,d[a]>255?d[a]=255:b[a]<0&&(d[a]=0)}return yV(d,4===d.length?"rgba":"rgb")}}function aev(a){var b=BH(a);return b?((1<<24)+(b[0]<<16)+(b[1]<<8)+ +b[2]).toString(16).slice(1):void 0}function i9(k,h,d){if(h&&h.length&&k>=0&&1>=k){d=d||[];var g=k*(h.length-1),j=Math.floor(g),c=Math.ceil(g),b=h[j],m=h[c],f=g-j;return d[0]=rQ(hY(b[0],m[0],f)),d[1]=rQ(hY(b[1],m[1],f)),d[2]=rQ(hY(b[2],m[2],f)),d[3]=Oj(hY(b[3],m[3],f)),d}}function aal(m,h,d){if(h&&h.length&&m>=0&&1>=m){var g=m*(h.length-1),j=Math.floor(g),c=Math.ceil(g),b=BH(h[j]),p=BH(h[c]),f=g-j,k=yV([rQ(hY(b[0],p[0],f)),rQ(hY(b[1],p[1],f)),rQ(hY(b[2],p[2],f)),Oj(hY(b[3],p[3],f))],"rgba");return d?{color:k,leftIndex:j,rightIndex:c,value:g}:k}}function xq(b,c,d,a){return b=BH(b),b?(b=e3(b),null!=c&&(b[0]=nF(c)),null!=d&&(b[1]=s4(d)),null!=a&&(b[2]=s4(a)),yV(cB(b),"rgba")):void 0}function M0(a,b){return a=BH(a),a&&null!=b?(a[3]=Oj(b),yV(a,"rgba")):void 0}function yV(a,b){if(a&&a.length){var c=a[0]+","+a[1]+","+a[2];return("rgba"===b||"hsva"===b||"hsla"===b)&&(c+=","+a[3]),b+"("+c+")"}}function oZ(a,b){return a[b]}function V5(a,b,c){a[b]=c}function ahf(a,b,c){return(b-a)*c+a}function abV(a,b,c){return c>0.5?b:a}function akt(k,h,d,g,j){var c=k.length;if(1==j){for(var b=0;c>b;b++){g[b]=ahf(k[b],h[b],d)}}else{for(var m=c&&k[0].length,b=0;c>b;b++){for(var f=0;m>f;f++){g[b][f]=ahf(k[b][f],h[b][f],d)}}}}function abk(k,h,d){var g=k.length,j=h.length;if(g!==j){var c=g>j;if(c){k.length=j}else{for(var b=g;j>b;b++){k.push(1===d?h[b]:F2.call(h[b]))}}}for(var m=k[0]&&k[0].length,b=0;b<k.length;b++){if(1===d){isNaN(k[b])&&(k[b]=h[b])}else{for(var f=0;m>f;f++){isNaN(k[b][f])&&(k[b][f]=h[b][f])}}}}function YZ(d,g,j){if(d===g){return !0}var c=d.length;if(c!==g.length){return !1}if(1===j){for(var b=0;c>b;b++){if(d[b]!==g[b]){return !1}}}else{for(var h=d[0].length,b=0;c>b;b++){for(var f=0;h>f;f++){if(d[b][f]!==g[b][f]){return !1}}}}return !0}function XH(y,p,g,k,w,f,b,z,j){var x=y.length;if(1==j){for(var m=0;x>m;m++){z[m]=ac7(y[m],p[m],g[m],k[m],w,f,b)}}else{for(var v=y[0].length,m=0;x>m;m++){for(var q=0;v>q;q++){z[m][q]=ac7(y[m][q],p[m][q],g[m][q],k[m][q],w,f,b)}}}}function ac7(k,h,d,g,j,c,b){var m=0.5*(d-k),f=0.5*(g-h);return(2*(h-d)+m+f)*b+(-3*(h-d)-2*m-f)*c+m*j+h}function UU(b){if(aiX(b)){var c=b.length;if(aiX(b[0])){for(var d=[],a=0;c>a;a++){d.push(F2.call(b[a]))}return d}return F2.call(b)}return b}function afs(a){return a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.floor(a[2]),"rgba("+a.join(",")+")"}function aiF(a){var b=a[a.length-1].value;return aiX(b&&b[0])?2:1}function ahP(W,an,ae,ai,ar,ad){var aa=W._getter,Y=W._setter,ag="spline"===an,V=ai.length;if(V){var ak,ao=ai[0].value,am=aiX(ao),ac=!1,al=!1,af=am?aiF(ai):0;ai.sort(function(a,b){return a.time-b.time}),ak=ai[V-1].time;for(var U=[],J=[],N=ai[0].value,au=!0,Q=0;V>Q;Q++){U.push(ai[Q].time/ak);var ap=ai[Q].value;if(am&&YZ(ap,N,af)||!am&&ap===N||(au=!1),N=ap,"string"==typeof ap){var j=BH(ap);j?(ap=j,ac=!0):al=!0}J.push(ap)}if(ad||!au){for(var F=J[V-1],Q=0;V-1>Q;Q++){am?abk(J[Q],F,af):!isNaN(J[Q])||isNaN(F)||al||ac||(J[Q]=F)}am&&abk(aa(W._target,ar),F,af);var K,d,ab,X,Z,G,ah=0,B=0;if(ac){var E=[0,0,0,0]}var q=function(b,c){var g;if(0>c){g=0}else{if(B>c){for(K=Math.min(ah+1,V-1),g=K;g>=0&&!(U[g]<=c);g--){}g=Math.min(g,V-2)}else{for(g=ah;V>g&&!(U[g]>c);g++){}g=Math.min(g-1,V-2)}}ah=g,B=c;var a=U[g+1]-U[g];if(0!==a){if(d=(c-U[g])/a,ag){if(X=J[g],ab=J[0===g?g:g-1],Z=J[g>V-2?V-1:g+1],G=J[g>V-3?V-1:g+2],am){XH(ab,X,Z,G,d,d*d,d*d*d,aa(b,ar),af)}else{var f;if(ac){f=XH(ab,X,Z,G,d,d*d,d*d*d,E,1),f=afs(E)}else{if(al){return abV(X,Z,d)}f=ac7(ab,X,Z,G,d,d*d,d*d*d)}Y(b,ar,f)}}else{if(am){akt(J[g],J[g+1],d,aa(b,ar),af)}else{var f;if(ac){akt(J[g],J[g+1],d,E,1),f=afs(E)}else{if(al){return abV(J[g],J[g+1],d)}f=ahf(J[g],J[g+1],d)}Y(b,ar,f)}}}},H=new p9({target:W._target,life:ak,loop:W._loop,delay:W._delay,onframe:q,ondestroy:ae});return an&&"spline"!==an&&(H.easing=an),H}}}function agE(w,m,f,j,q,d,b,x){function g(){k--,k||d&&d()}ai2(j)?(d=q,q=j,j=0):aif(q)?(d=q,q="linear",j=0):aif(j)?(d=j,j=0):aif(f)?(d=f,f=500):f||(f=500),w.stopAnimation(),aaK(w,"",w,m,f,j,x);var v=w.animators.slice(),k=v.length;k||d&&d();for(var p=0;p<v.length;p++){v[p].done(g).start(q,b)}}function aaK(m,h,d,g,j,c,b){var p={},f=0;for(var k in g){g.hasOwnProperty(k)&&(null!=d[k]?ajq(g[k])&&!aiX(g[k])?aaK(m,h?h+"."+k:k,d[k],g[k],j,c,b):(b?(p[k]=d[k],af3(m,h,k,g[k])):p[k]=g[k],f++):null==g[k]||b||af3(m,h,k,g[k]))}f>0&&m.animate(h,!1).when(null==j?500:j,p).delay(c||0)}function af3(d,f,g,c){if(f){var b={};b[f]={},b[f][g]=c,d.attr(b)}else{d.attr(g,c)}}function acw(b,c,d,a){0>d&&(b+=d,d=-d),0>a&&(c+=a,a=-a),this.x=b,this.y=c,this.width=d,this.height=a}function Tj(a){for(var b=0;a>=aar;){b|=1&a,a>>=1}return a+b}function O5(d,f,g,c){var b=f+1;if(b===g){return 1}if(c(d[b++],d[f])<0){for(;g>b&&c(d[b],d[b-1])<0;){b++}QH(d,f,b)}else{for(;g>b&&c(d[b],d[b-1])>=0;){b++}}return b-f}function QH(b,c,d){for(d--;d>c;){var a=b[c];b[c++]=b[d],b[d--]=a}}function aU(m,h,d,g,j){for(g===h&&g++;d>g;g++){for(var c,b=m[g],p=h,f=g;f>p;){c=p+f>>>1,j(b,m[c])<0?f=c:p=c+1}var k=g-p;switch(k){case 3:m[p+3]=m[p+2];case 2:m[p+2]=m[p+1];case 1:m[p+1]=m[p];break;default:for(;k>0;){m[p+k]=m[p+k-1],k--}}m[p]=b}}function RZ(q,k,d,g,m,c){var b=0,v=0,f=1;if(c(q,k[d+m])>0){for(v=g-m;v>f&&c(q,k[d+m+f])>0;){b=f,f=(f<<1)+1,0>=f&&(f=v)}f>v&&(f=v),b+=m,f+=m}else{for(v=m+1;v>f&&c(q,k[d+m-f])<=0;){b=f,f=(f<<1)+1,0>=f&&(f=v)}f>v&&(f=v);var p=b;b=m-f,f=m-p}for(b++;f>b;){var j=b+(f-b>>>1);c(q,k[d+j])>0?b=j+1:f=j}return f}function ajG(q,k,d,g,m,c){var b=0,v=0,f=1;if(c(q,k[d+m])<0){for(v=m+1;v>f&&c(q,k[d+m-f])<0;){b=f,f=(f<<1)+1,0>=f&&(f=v)}f>v&&(f=v);var p=b;b=m-f,f=m-p}else{for(v=g-m;v>f&&c(q,k[d+m+f])>=0;){b=f,f=(f<<1)+1,0>=f&&(f=v)}f>v&&(f=v),b+=m,f+=m}for(b++;f>b;){var j=b+(f-b>>>1);c(q,k[d+j])<0?f=j:b=j+1}return f}function lJ(y,p){function g(a,c){j[v]=a,x[v]=c,v+=1}function k(){for(;v>1;){var a=v-2;if(a>=1&&x[a-1]<=x[a]+x[a+1]||a>=2&&x[a-2]<=x[a]+x[a-1]){x[a-1]<x[a+1]&&a--}else{if(x[a]>x[a+1]){break}}f(a)}}function w(){for(;v>1;){var a=v-2;a>0&&x[a-1]<x[a+1]&&a--,f(a)}}function f(t){var e=j[t],c=x[t],s=j[t+1],l=x[t+1];x[t]=c+l,t===v-3&&(j[t+1]=j[t+2],x[t+1]=x[t+2]),v--;var r=ajG(y[s],y,e,c,0,p);e+=r,c-=r,0!==c&&(l=RZ(y[e+c-1],y,s,l,l-1,p),0!==l&&(l>=c?b(e,c,s,l):z(e,c,s,l)))}function b(t,B,F,h){var d=0;for(d=0;B>d;d++){q[d]=y[t+d]}var H=0,A=F,G=t;if(y[G++]=y[A++],0!==--h){if(1===B){for(d=0;h>d;d++){y[G+d]=y[A+d]}return void (y[G+h]=q[H])}for(var E,D,e,C=m;;){E=0,D=0,e=!1;do{if(p(y[A],q[H])<0){if(y[G++]=y[A++],D++,E=0,0===--h){e=!0;break}}else{if(y[G++]=q[H++],E++,D=0,1===--B){e=!0;break}}}while(C>(E|D));if(e){break}do{if(E=ajG(y[A],q,H,B,0,p),0!==E){for(d=0;E>d;d++){y[G+d]=q[H+d]}if(G+=E,H+=E,B-=E,1>=B){e=!0;break}}if(y[G++]=y[A++],0===--h){e=!0;break}if(D=RZ(q[H],y,A,h,0,p),0!==D){for(d=0;D>d;d++){y[G+d]=y[A+d]}if(G+=D,A+=D,h-=D,0===h){e=!0;break}}if(y[G++]=q[H++],1===--B){e=!0;break}C--}while(E>=xJ||D>=xJ);if(e){break}0>C&&(C=0),C+=2}if(m=C,1>m&&(m=1),1===B){for(d=0;h>d;d++){y[G+d]=y[A+d]}y[G+h]=q[H]}else{if(0===B){throw new Error}for(d=0;B>d;d++){y[G+d]=q[H+d]}}}else{for(d=0;B>d;d++){y[G+d]=q[H+d]}}}function z(t,C,G,h){var d=0;for(d=0;h>d;d++){q[d]=y[G+d]}var J=t+C-1,B=h-1,I=G+h-1,F=0,E=0;if(y[I--]=y[J--],0!==--C){if(1===h){for(I-=C,J-=C,E=I+1,F=J+1,d=C-1;d>=0;d--){y[E+d]=y[F+d]}return void (y[I]=q[B])}for(var e=m;;){var D=0,A=0,H=!1;do{if(p(q[B],y[J])<0){if(y[I--]=y[J--],D++,A=0,0===--C){H=!0;break}}else{if(y[I--]=q[B--],A++,D=0,1===--h){H=!0;break}}}while(e>(D|A));if(H){break}do{if(D=C-ajG(q[B],y,t,C,C-1,p),0!==D){for(I-=D,J-=D,C-=D,E=I+1,F=J+1,d=D-1;d>=0;d--){y[E+d]=y[F+d]}if(0===C){H=!0;break}}if(y[I--]=q[B--],1===--h){H=!0;break}if(A=h-RZ(y[J],q,0,h,h-1,p),0!==A){for(I-=A,B-=A,h-=A,E=I+1,F=B+1,d=0;A>d;d++){y[E+d]=q[F+d]}if(1>=h){H=!0;break}}if(y[I--]=y[J--],0===--C){H=!0;break}e--}while(D>=xJ||A>=xJ);if(H){break}0>e&&(e=0),e+=2}if(m=e,1>m&&(m=1),1===h){for(I-=C,J-=C,E=I+1,F=J+1,d=C-1;d>=0;d--){y[E+d]=y[F+d]}y[I]=q[B]}else{if(0===h){throw new Error}for(F=I-(h-1),d=0;h>d;d++){y[F+d]=q[d]}}}else{for(F=I-(h-1),d=0;h>d;d++){y[F+d]=q[d]}}}var j,x,m=xJ,v=0,q=[];j=[],x=[],this.mergeRuns=k,this.forceMergeRuns=w,this.pushRun=g}function t3(k,h,d,g){d||(d=0),g||(g=k.length);var j=g-d;if(!(2>j)){var c=0;if(aar>j){return c=O5(k,d,g,h),void aU(k,d,g,d+c,h)}var b=new lJ(k,h),m=Tj(j);do{if(c=O5(k,d,g,h),m>c){var f=j;f>m&&(f=m),aU(k,d,d+f,d+c,h),c=f}b.pushRun(d,c),b.mergeRuns(),j-=c,d+=c}while(0!==j);b.forceMergeRuns()}}function zU(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}function j7(d,h,k){var c=null==h.x?0:h.x,b=null==h.x2?1:h.x2,j=null==h.y?0:h.y,g=null==h.y2?0:h.y2;h.global||(c=c*k.width+k.x,b=b*k.width+k.x,j=j*k.height+k.y,g=g*k.height+k.y),c=isNaN(c)?0:c,b=isNaN(b)?1:b,j=isNaN(j)?0:j,g=isNaN(g)?0:g;var f=d.createLinearGradient(c,j,b,g);return f}function KZ(m,h,d){var g=d.width,j=d.height,c=Math.min(g,j),b=null==h.x?0.5:h.x,p=null==h.y?0.5:h.y,f=null==h.r?0.5:h.r;h.global||(b=b*g+d.x,p=p*j+d.y,f*=c);var k=m.createRadialGradient(b,p,0,b,p,f);return k}function GV(){return !1}function H5(d,g,j){var c=Mq(),b=g.getWidth(),h=g.getHeight(),f=c.style;return f&&(f.position="absolute",f.left=0,f.top=0,f.width=b+"px",f.height=h+"px",c.setAttribute("data-zr-dom-id",d)),c.width=b*j,c.height=h*j,c}function vF(a){if("string"==typeof a){var b=adB.get(a);return b&&b.image}return a}function adI(d,g,j,c,b){if(d){if("string"==typeof d){if(g&&g.__zrImageSrc===d||!j){return g}var h=adB.get(d),f={hostEl:j,cb:c,cbPayload:b};return h?(g=h.image,!q7(g)&&h.pending.push(f)):(!g&&(g=new Image),g.onload=g.onerror=pY,adB.put(d,g.__cachedImgObj={image:g,pending:[f]}),g.src=g.__zrImageSrc=d),g}return d}return g}function pY(){var b=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var c=0;c<b.pending.length;c++){var d=b.pending[c],a=d.cb;a&&a(this,d.cbPayload),d.hostEl.dirty()}b.pending.length=0}function q7(a){return a&&a.width&&a.height}function m2(d,g){g=g||ag8;var j=d+":"+g;if(VY[j]){return VY[j]}for(var c=(d+"").split("\n"),b=0,h=0,f=c.length;f>h;h++){b=Math.max(c8(c[h],g).width,b)}return afW>aju&&(afW=0,VY={}),afW++,VY[j]=b,b}function N2(d,g,j,c,b,h,f){return h?sK(d,g,j,c,b,h,f):Fj(d,g,j,c,b,f)}function Fj(w,m,f,j,q,d){var b=aej(w,m,q,d),x=m2(w,m);q&&(x+=q[1]+q[3]);var g=b.outerHeight,v=JH(0,x,f),k=ht(0,g,j),p=new acw(v,k,x,g);return p.lineHeight=b.lineHeight,p}function sK(w,m,f,j,q,d,b){var x=iX(w,{rich:d,truncate:b,font:m,textAlign:f,textPadding:q}),g=x.outerWidth,v=x.outerHeight,k=JH(0,g,f),p=ht(0,v,j);return new acw(k,p,g,v)}function JH(a,b,c){return"right"===c?a-=b:"center"===c&&(a-=b/2),a}function ht(a,b,c){return"middle"===c?a-=b/2:"bottom"===c&&(a-=b),a}function CG(m,h,d){var g=h.x,j=h.y,c=h.height,b=h.width,p=c/2,f="left",k="top";switch(m){case"left":g-=d,j+=p,f="right",k="middle";break;case"right":g+=d+b,j+=p,k="middle";break;case"top":g+=b/2,j-=d,f="center",k="bottom";break;case"bottom":g+=b/2,j+=c+d,f="center";break;case"inside":g+=b/2,j+=p,f="center",k="middle";break;case"insideLeft":g+=d,j+=p,k="middle";break;case"insideRight":g+=b-d,j+=p,f="right",k="middle";break;case"insideTop":g+=b/2,j+=d,f="center";break;case"insideBottom":g+=b/2,j+=c-d,f="center",k="bottom";break;case"insideTopLeft":g+=d,j+=d;break;case"insideTopRight":g+=b-d,j+=d,f="right";break;case"insideBottomLeft":g+=d,j+=c-d,k="bottom";break;case"insideBottomRight":g+=b-d,j+=c-d,f="right",k="bottom"}return{x:g,y:j,textAlign:f,textVerticalAlign:k}}function DZ(d,h,k,c,b){if(!h){return""}var j=(d+"").split("\n");b=f2(h,k,c,b);for(var g=0,f=j.length;f>g;g++){j[g]=A4(j[g],b)}return j.join("\n")}function f2(k,g,c,f){f=aip({},f),f.font=g;var c=aj3(c,"...");f.maxIterations=aj3(f.maxIterations,2);var h=f.minChar=aj3(f.minChar,0);f.cnCharWidth=m2("国",g);var b=f.ascCharWidth=m2("a",g);f.placeholder=aj3(f.placeholder,"");for(var m=k=Math.max(0,k-1),d=0;h>d&&m>=b;d++){m-=b}var j=m2(c);return j>m&&(c="",j=0),m=k-j,f.ellipsis=c,f.ellipsisWidth=j,f.contentWidth=m,f.containerWidth=k,f}function A4(d,h){var k=h.containerWidth,c=h.font,b=h.contentWidth;if(!k){return""}var j=m2(d,c);if(k>=j){return d}for(var g=0;;g++){if(b>=j||g>=h.maxIterations){d+=h.ellipsis;break}var f=0===g?b5(d,b,h.ascCharWidth,h.cnCharWidth):j>0?Math.floor(d.length*b/j):0;d=d.substr(0,f),j=m2(d,c)}return""===d&&(d=h.placeholder),d}function b5(d,h,k,c){for(var b=0,j=0,g=d.length;g>j&&h>b;j++){var f=d.charCodeAt(j);b+=f>=0&&127>=f?k:c}return j}function eK(a){return m2("国",a)}function c8(a,b){return abd.measureText(a,b)}function aej(y,p,g,k){null!=y&&(y+="");var w=eK(p),f=y?y.split("\n"):[],b=f.length*w,z=b;if(g&&(z+=g[0]+g[2]),y&&k){var j=k.outerHeight,x=k.outerWidth;if(null!=j&&z>j){y="",f=[]}else{if(null!=x){for(var m=f2(x-(g?g[1]+g[3]:0),p,k.ellipsis,{minChar:k.minChar,placeholder:k.placeholder}),v=0,q=f.length;q>v;v++){f[v]=A4(f[v],m)}}}}return{lines:f,height:b,outerHeight:z,lineHeight:w}}function iX(K,ad){var V={lines:[],width:0,height:0};if(null!=K&&(K+=""),!K){return V}for(var Z,ah=ait.lastIndex=0;null!=(Z=ait.exec(K));){var U=Z.index;U>ah&&Z9(V,K.substring(ah,U)),Z9(V,Z[2],Z[1]),ah=ait.lastIndex}ah<K.length&&Z9(V,K.substring(ah,K.length));var O=V.lines,N=0,X=0,J=[],aa=ad.textPadding,af=ad.truncate,ae=af&&af.outerWidth,ac=af&&af.outerHeight;aa&&(null!=ae&&(ae-=aa[1]+aa[3]),null!=ac&&(ac-=aa[0]+aa[2]));for(var R=0;R<O.length;R++){for(var ab=O[R],W=0,H=0,C=0;C<ab.tokens.length;C++){var F=ab.tokens[C],ai=F.styleName&&ad.rich[F.styleName]||{},G=F.textPadding=ai.textPadding,ag=F.font=ai.font||ad.font,q=F.textHeight=aj3(ai.textHeight,eK(ag));if(G&&(q+=G[0]+G[2]),F.height=q,F.lineHeight=ajI(ai.textLineHeight,ad.textLineHeight,q),F.textAlign=ai&&ai.textAlign||ad.textAlign,F.textVerticalAlign=ai&&ai.textVerticalAlign||"middle",null!=ac&&N+F.lineHeight>ac){return{lines:[],width:0,height:0}}F.textWidth=m2(F.text,ag);var B=ai.textWidth,E=null==B||"auto"===B;if("string"==typeof B&&"%"===B.charAt(B.length-1)){F.percentWidth=B,J.push(F),B=0}else{if(E){B=F.textWidth;var j=ai.textBackgroundColor,Q=j&&j.image;Q&&(Q=vF(Q),q7(Q)&&(B=Math.max(B,Q.width*q/Q.height)))}var L=G?G[1]+G[3]:0;B+=L;var Y=null!=ae?ae-H:null;null!=Y&&B>Y&&(!E||L>Y?(F.text="",F.textWidth=B=0):(F.text=DZ(F.text,Y-L,ag,af.ellipsis,{minChar:af.minChar}),F.textWidth=m2(F.text,ag),B=F.textWidth+L))}H+=F.width=B,ai&&(W=Math.max(W,F.lineHeight))}ab.width=H,ab.lineHeight=W,N+=W,X=Math.max(X,H)}V.outerWidth=V.width=aj3(ad.textWidth,X),V.outerHeight=V.height=aj3(ad.textHeight,N),aa&&(V.outerWidth+=aa[1]+aa[3],V.outerHeight+=aa[0]+aa[2]);for(var R=0;R<J.length;R++){var F=J[R],z=F.percentWidth;F.width=parseInt(z,10)/100*X}return V}function Z9(q,k,d){for(var g=""===k,m=k.split("\n"),c=q.lines,b=0;b<m.length;b++){var v=m[b],f={styleName:d,text:v,isLineHolder:!v&&!g};if(b){c.push({tokens:[f]})}else{var p=(c[c.length-1]||(c[0]={tokens:[]})).tokens,j=p.length;1===j&&p[0].isLineHolder?p[0]=f:(v||!j||g)&&p.push(f)}}}function wZ(a){var b=(a.fontSize||a.fontFamily)&&[a.fontStyle,a.fontWeight,(a.fontSize||12)+"px",a.fontFamily||"sans-serif"].join(" ");return b&&ajs(b)||a.textFont||a.font}function MK(w,m){var f,j,q,d,b=m.x,x=m.y,g=m.width,v=m.height,k=m.r;0>g&&(b+=g,g=-g),0>v&&(x+=v,v=-v),"number"==typeof k?f=j=q=d=k:k instanceof Array?1===k.length?f=j=q=d=k[0]:2===k.length?(f=q=k[0],j=d=k[1]):3===k.length?(f=k[0],j=d=k[1],q=k[2]):(f=k[0],j=k[1],q=k[2],d=k[3]):f=j=q=d=0;var p;f+j>g&&(p=f+j,f*=g/p,j*=g/p),q+d>g&&(p=q+d,q*=g/p,d*=g/p),j+q>v&&(p=j+q,j*=v/p,q*=v/p),f+d>v&&(p=f+d,f*=v/p,d*=v/p),w.moveTo(b+f,x),w.lineTo(b+g-j,x),0!==j&&w.arc(b+g-j,x+j,j,-Math.PI/2,0),w.lineTo(b+g,x+v-q),0!==q&&w.arc(b+g-q,x+v-q,q,0,Math.PI/2),w.lineTo(b+d,x+v),0!==d&&w.arc(b+d,x+v-d,d,Math.PI/2,Math.PI),w.lineTo(b,x+f),0!==f&&w.arc(b+f,x+f,f,Math.PI,1.5*Math.PI)}function yj(a){return oB(a),aiT(a.rich,oB),a}function oB(b){if(b){b.font=wZ(b);var c=b.textAlign;"middle"===c&&(c="center"),b.textAlign=null==c||agx[c]?c:"left";var d=b.textVerticalAlign||b.textBaseline;"center"===d&&(d="middle"),b.textVerticalAlign=null==d||ac0[d]?d:"top";var a=b.textPadding;a&&(b.textPadding=ajy(b.textPadding))}}function Wt(d,f,h,c,b,g){c.rich?ab2(d,f,h,c,b):ahm(d,f,h,c,b,g)}function ahm(ae,av,ak,ao,az,ai){var ag=ai&&ai.style,af=ag&&"text"===ai.type,am=ao.font||ag8;af&&am===(ag.font||ag8)||(av.font=am);var ad=ae.__computedFont;ae.__styleFont!==am&&(ae.__styleFont=am,ad=ae.__computedFont=av.font);var ap=ao.textPadding,ax=ae.__textCotentBlock;(!ax||ae.__dirtyText)&&(ax=ae.__textCotentBlock=aej(ak,ad,ap,ao.truncate));var aw=ax.outerHeight,au=ax.lines,ah=ax.lineHeight,ar=U1(aw,ao,az),al=ar.baseX,ac=ar.baseY,Z=ar.textAlign||"left",aa=ar.textVerticalAlign;akA(av,ao,az,al,ac);var aA=ht(ac,aw,aa),ab=al,ay=aA,q=Y6(ao);if(q||ap){var J=m2(ak,ad),Q=J;ap&&(Q+=ap[1]+ap[3]);var j=JH(al,Q,Z);q&&XW(ae,av,ao,j,aA,Q,aw),ap&&(ab=aaQ(al,Z,ap),ay+=ap[0])}av.textAlign=Z,av.textBaseline="middle";for(var X=0;X<UF.length;X++){var V=UF[X],W=V[0],K=V[1],an=ao[W];af&&an===ag[W]||(av[K]=o5(av,K,an||V[2]))}ay+=ah/2;var F=ao.textStrokeWidth,G=af?ag.textStrokeWidth:null,B=!af||F!==G,Y=!af||B||ao.textStroke!==ag.textStroke,U=aiR(ao.textStroke,F),H=ahW(ao.textFill);if(U&&(B&&(av.lineWidth=F),Y&&(av.strokeStyle=U)),H&&(!af||ao.textFill!==ag.textFill||ag.textBackgroundColor)&&(av.fillStyle=H),1===au.length){U&&av.strokeText(au[0],ab,ay),H&&av.fillText(au[0],ab,ay)}else{for(var X=0;X<au.length;X++){U&&av.strokeText(au[X],ab,ay),H&&av.fillText(au[X],ab,ay),ay+=ah}}}function ab2(d,f,h,c,b){var g=d.__textCotentBlock;(!g||d.__dirtyText)&&(g=d.__textCotentBlock=iX(h,c)),aeZ(d,f,g,c,b)}function aeZ(J,ab,U,X,af){var R=U.width,O=U.outerWidth,L=U.outerHeight,W=X.textPadding,H=U1(L,X,af),Y=H.baseX,ad=H.baseY,ac=H.textAlign,aa=H.textVerticalAlign;akA(ab,X,af,Y,ad);var Q=JH(Y,O,ac),Z=ht(ad,L,aa),V=Q,G=Z;W&&(V+=W[3],G+=W[0]);var z=V+R;Y6(X)&&XW(J,ab,X,Q,Z,O,L);for(var E=0;E<U.lines.length;E++){for(var ag,F=U.lines[E],ae=F.tokens,k=ae.length,q=F.lineHeight,B=F.width,j=0,P=V,K=z,N=k-1;k>j&&(ag=ae[j],!ag.textAlign||"left"===ag.textAlign);){abr(J,ab,ag,X,q,G,P,"left"),B-=ag.width,P+=ag.width,j++}for(;N>=0&&(ag=ae[N],"right"===ag.textAlign);){abr(J,ab,ag,X,q,G,K,"right"),B-=ag.width,K-=ag.width,N--}for(P+=(R-(P-V)-(z-K)-B)/2;N>=j;){ag=ae[j],abr(J,ab,ag,X,q,G,P+ag.width/2,"center"),P+=ag.width,j++}G+=q}}function akA(d,f,h,c,b){if(h&&f.textRotation){var g=f.textOrigin;"center"===g?(c=h.width/2+h.x,b=h.height/2+h.y):g&&(c=g[0]+h.x,b=g[1]+h.y),d.translate(c,b),d.rotate(-f.textRotation),d.translate(-c,-b)}}function abr(C,x,k,q,A,j,b,D){var m=q.rich[k.styleName]||{};m.text=k.text;var B=k.textVerticalAlign,v=j+A/2;"top"===B?v=j+k.height/2:"bottom"===B&&(v=j+A-k.height/2),!k.isLineHolder&&Y6(m)&&XW(C,x,m,"right"===D?b-k.width:"center"===D?b-k.width/2:b,v-k.height/2,k.width,k.height);var z=k.textPadding;z&&(b=aaQ(b,D,z),v-=k.height/2-z[2]-k.textHeight/2),afz(x,"shadowBlur",ajI(m.textShadowBlur,q.textShadowBlur,0)),afz(x,"shadowColor",m.textShadowColor||q.textShadowColor||"transparent"),afz(x,"shadowOffsetX",ajI(m.textShadowOffsetX,q.textShadowOffsetX,0)),afz(x,"shadowOffsetY",ajI(m.textShadowOffsetY,q.textShadowOffsetY,0)),afz(x,"textAlign",D),afz(x,"textBaseline","middle"),afz(x,"font",k.font||ag8);var y=aiR(m.textStroke||q.textStroke,g),w=ahW(m.textFill||q.textFill),g=aj3(m.textStrokeWidth,q.textStrokeWidth);y&&(afz(x,"lineWidth",g),afz(x,"strokeStyle",y),x.strokeText(k.text,b,v)),w&&(afz(x,"fillStyle",w),x.fillText(k.text,b,v))}function Y6(a){return a.textBackgroundColor||a.textBorderWidth&&a.textBorderColor}function XW(A,v,j,m,y,g,b){var B=j.textBackgroundColor,k=j.textBorderWidth,z=j.textBorderColor,p=ai2(B);if(afz(v,"shadowBlur",j.textBoxShadowBlur||0),afz(v,"shadowColor",j.textBoxShadowColor||"transparent"),afz(v,"shadowOffsetX",j.textBoxShadowOffsetX||0),afz(v,"shadowOffsetY",j.textBoxShadowOffsetY||0),p||k&&z){v.beginPath();var x=j.textBorderRadius;x?MK(v,{x:m,y:y,width:g,height:b,r:x}):v.rect(m,y,g,b),v.closePath()}if(p){if(afz(v,"fillStyle",B),null!=j.fillOpacity){var w=v.globalAlpha;v.globalAlpha=j.fillOpacity*j.opacity,v.fill(),v.globalAlpha=w}else{v.fill()}}else{if(aif(B)){afz(v,"fillStyle",B(j)),v.fill()}else{if(ajq(B)){var q=B.image;q=adI(q,null,A,ade,B),q&&q7(q)&&v.drawImage(q,m,y,g,b)}}}if(k&&z){if(afz(v,"lineWidth",k),afz(v,"strokeStyle",z),null!=j.strokeOpacity){var w=v.globalAlpha;v.globalAlpha=j.strokeOpacity*j.opacity,v.stroke(),v.globalAlpha=w}else{v.stroke()}}}function ade(a,b){b.image=a}function U1(m,h,d){var g=h.x||0,j=h.y||0,c=h.textAlign,b=h.textVerticalAlign;if(d){var p=h.textPosition;if(p instanceof Array){g=d.x+agL(p[0],d.width),j=d.y+agL(p[1],d.height)}else{var f=CG(p,d,h.textDistance);g=f.x,j=f.y,c=c||f.textAlign,b=b||f.textVerticalAlign}var k=h.textOffset;k&&(g+=k[0],j+=k[1])}return{baseX:g,baseY:j,textAlign:c,textVerticalAlign:b}}function afz(a,b,c){return a[b]=o5(a,b,c),a[b]}function aiR(a,b){return null==a||0>=b||"transparent"===a||"none"===a?null:a.image||a.colorStops?"#000":a}function ahW(a){return null==a||"none"===a?null:a.image||a.colorStops?"#000":a}function agL(a,b){return"string"==typeof a?a.lastIndexOf("%")>=0?parseFloat(a)/100*b:parseFloat(a):a}function aaQ(a,b,c){return"right"===b?a-c[1]:"center"===b?a+c[3]/2-c[1]/2:a+c[3]}function aga(a,b){return null!=a&&(a||b.textBackgroundColor||b.textBorderWidth&&b.textBorderColor||b.textPadding)}function acD(a){a=a||{},cH.call(this,a);for(var b in a){a.hasOwnProperty(b)&&"style"!==b&&(this[b]=a[b])}this.style=new ahJ(a.style,this),this._rect=null,this.__clipPaths=[]}function TJ(a){acD.call(this,a)}function Pt(a){return parseInt(a,10)}function QW(a){return a?a.__builtin__?!0:"function"!=typeof a.resize||"function"!=typeof a.refresh?!1:!0:!1}function aY(a,b,c){return u7.copy(a.getBoundingRect()),a.transform&&u7.applyTransform(a.transform),AX.width=b,AX.height=c,!u7.intersect(AX)}function R6(a,b){if(a==b){return !1}if(!a||!b||a.length!==b.length){return !0}for(var c=0;c<a.length;c++){if(a[c]!==b[c]){return !0}}}function ajS(b,c){for(var d=0;d<b.length;d++){var a=b[d];a.setTransform(c),c.beginPath(),a.buildPath(c,a.shape),c.clip(),a.restoreTransform(c)}}function lY(a,b){var c=document.createElement("div");return c.style.cssText=["position:relative","overflow:hidden","width:"+a+"px","height:"+b+"px","padding:0","margin:0","border-width:0"].join(";")+";",c}function uj(a){var b=a[1][0]-a[0][0],c=a[1][1]-a[0][1];return Math.sqrt(b*b+c*c)}function z0(a){return[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]}function kB(a){return"mousewheel"===a&&B3.browser.firefox?"DOMMouseScroll":a}function K6(d,f,h){var c=d._gestureMgr;"start"===h&&c.clear();var b=c.recognize(f,d.handler.findHover(f.zrX,f.zrY,null).target,d.dom);if("end"===h&&c.clear(),b){var g=b.type;f.gestureEvent=g,d.handler.dispatchToElement({target:b.target},g,b.event)}}function G2(a){a._touching=!0,clearTimeout(a._touchTimer),a._touchTimer=setTimeout(function(){a._touching=!1},700)}function It(a){var b=a.pointerType;return"pen"===b||"touch"===b}function vV(a){function b(c,d){return function(){return d._touching?void 0:c.apply(d,arguments)}}aiT(q0,function(c){a._handlers[c]=aic(OY[c],a)}),aiT(n6,function(c){a._handlers[c]=aic(OY[c],a)}),aiT(aec,function(c){a._handlers[c]=b(OY[c],a)})}function adP(a){function b(c,d){aiT(c,function(f){agf(a,kB(f),d._handlers[f])},d)}adp.call(this),this.dom=a,this._touching=!1,this._touchTimer,this._gestureMgr=new HY,this._handlers={},vV(this),B3.pointerEventsSupported?b(n6,this):(B3.touchEventsSupported&&b(q0,this),b(aec,this))}function p4(a,b){var c=new E3(I4(),a,b);return iH[c.id]=c,c}function rF(a){if(a){a.dispose()}else{for(var b in iH){iH.hasOwnProperty(b)&&iH[b].dispose()}iH={}}return this}function m9(a){return iH[a]}function N6(a,b){KN[a]=b}function FJ(a){delete iH[a]}function sZ(a){return a instanceof Array?a:null==a?[]:[a]}function JW(d,f,h){if(d){d[f]=d[f]||{},d.emphasis=d.emphasis||{},d.emphasis[f]=d.emphasis[f]||{};for(var c=0,b=h.length;b>c;c++){var g=h[c];!d.emphasis[f].hasOwnProperty(g)&&d[f].hasOwnProperty(g)&&(d.emphasis[f][g]=d[f][g])}}}function hQ(a){return !c1(a)||fV(a)||a instanceof Date?a:a.value}function CV(a){return c1(a)&&!(a instanceof Array)}function D6(a,b){b=(b||[]).slice();var c=aiu(a||[],function(d){return{exist:d}});return B8(b,function(f,e){if(c1(f)){for(var d=0;d<c.length;d++){if(!c[d].option&&null!=f.id&&c[d].exist.id===f.id+""){return c[d].option=f,void (b[e]=null)}}for(var d=0;d<c.length;d++){var g=c[d].exist;if(!(c[d].option||null!=g.id&&null!=f.id||null==f.name||b9(f)||b9(g)||g.name!==f.name+"")){return c[d].option=f,void (b[e]=null)}}}}),B8(b,function(f){if(c1(f)){for(var g=0;g<c.length;g++){var d=c[g].exist;if(!c[g].option&&!b9(d)&&null==f.id){c[g].option=f;break}}g>=c.length&&c.push({option:f})}}),c}function f8(a){var b=aj6();B8(a,function(c){var d=c.exist;d&&b.set(d.id,c)}),B8(a,function(c){var d=c.option;ajz(!d||null==d.id||!b.get(d.id)||b.get(d.id)===c,"id duplicates: "+(d&&d.id)),d&&null!=d.id&&b.set(d.id,c),!c.keyInfo&&(c.keyInfo={})}),B8(a,function(e,h){var d=e.exist,c=e.option,g=e.keyInfo;if(c1(c)){if(g.name=null!=c.name?c.name+"":d?d.name:eq+h,d){g.id=d.id}else{if(null!=c.id){g.id=c.id+""}else{var f=0;do{g.id="\x00"+g.name+"\x00"+f++}while(b.get(g.id))}}b.set(g.id,e)}})}function Bq(a){var b=a.name;return !(!b||!b.indexOf(eq))}function b9(a){return c1(a)&&a.id&&0===(a.id+"").indexOf("\x00_ec_\x00")}function eY(d,f){function h(z,w,m){for(var q=0,x=z.length;x>q;q++){for(var k=z[q].seriesId,j=sZ(z[q].dataIndex),A=m&&m[k],p=0,y=j.length;y>p;p++){var v=j[p];A&&A[v]?A[v]=null:(w[k]||(w[k]={}))[v]=1}}}function c(j,k){var m=[];for(var i in j){if(j.hasOwnProperty(i)&&null!=j[i]){if(k){m.push(+i)}else{var l=c(j[i],!0);l.length&&m.push({seriesId:i,dataIndex:l})}}}return m}var b={},g={};return h(d||[],b),h(f||[],g,b),[c(b),c(g)]}function dF(a,b){return null!=b.dataIndexInside?b.dataIndexInside:null!=b.dataIndex?ai9(b.dataIndex)?aiu(b.dataIndex,function(c){return a.indexOfRawIndex(c)}):a.indexOfRawIndex(b.dataIndex):null!=b.name?ai9(b.name)?aiu(b.name,function(c){return a.indexOfName(c)}):a.indexOfName(b.name):void 0}function aeq(){var a="__\x00ec_inner_"+j0+++"_"+Math.random().toFixed(5);return function(b){return b[a]||(b[a]={})}}function i4(d,f,h){if(ai2(f)){var c={};c[f+"Index"]=0,f=c}var b=h&&h.defaultMainType;!b||aag(f,b+"Index")||aag(f,b+"Id")||aag(f,b+"Name")||(f[b+"Index"]=0);var g={};return B8(f,function(k,j){var k=f[j];if("dataIndex"===j||"dataIndexInside"===j){return void (g[j]=k)}var o=j.match(/^(\w+)(Index|Id|Name)$/)||[],n=o[1],e=(o[2]||"").toLowerCase();if(!(!n||!e||null==k||"index"===e&&"none"===k||h&&h.includeMainTypes&&aij(h.includeMainTypes,n)<0)){var m={mainType:n};("index"!==e||"all"!==k)&&(m[e]=k);var p=d.queryComponents(m);g[n+"Models"]=p,g[n+"Model"]=p[0]}}),g}function aag(a,b){return a&&a.hasOwnProperty(b)}function w6(a,b,c){a.setAttribute?a.setAttribute(b,c):a[b]=c}function MW(a,b){return a.getAttribute?a.getAttribute(b):a[b]}function yH(a){return"auto"===a?B3.domSupported?"html":"richText":a||"html"}function oU(a){var b={main:"",sub:""};return a&&(a=a.split(aaD),b.main=a[0]||"",b.sub=a[1]||""),b}function WY(a){ajz(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(a),'componentType "'+a+'" illegal')}function ahy(a){a.$constructor=a,a.extend=function(b){var c=this,d=function(){b.$constructor?b.$constructor.apply(this,arguments):c.apply(this,arguments)};return aip(d.prototype,b),d.extend=this.extend,d.superCall=afa,d.superApply=akN,aiP(d,this),d.superClass=c,d}}function ace(a){var b=["__\x00is_clz",M7++,Math.random().toFixed(3)].join("_");a.prototype[b]=!0,a.isInstance=function(c){return !(!c||!c[b])}}function afa(a,b){var c=aiH(arguments,2);return this.superClass.prototype[b].apply(a,c)}function akN(a,b,c){return this.superClass.prototype[b].apply(a,c)}function abD(d,f){function g(a){var h=c[a.main];return h&&h[x3]||(h=c[a.main]={},h[x3]=!0),h}f=f||{};var c={};if(d.registerClass=function(i,j){if(j){if(WY(j),j=oU(j),j.sub){if(j.sub!==x3){var h=g(j);h[j.sub]=i}}else{c[j.main]=i}}return i},d.getClass=function(i,j,k){var h=c[i];if(h&&h[x3]&&(h=j?h[j]:null),k&&!h){throw new Error(j?"Component "+i+"."+(j||"")+" not exists. Load it first.":i+".type should be specified.")}return h},d.getClassesByMainType=function(a){a=oU(a);var h=[],i=c[a.main];return i&&i[x3]?aiT(i,function(e,j){j!==x3&&h.push(e)}):h.push(i),h},d.hasClass=function(a){return a=oU(a),!!c[a.main]},d.getAllClassMainTypes=function(){var a=[];return aiT(c,function(h,i){a.push(i)}),a},d.hasSubTypes=function(a){a=oU(a);var h=c[a.main];return h&&h[x3]},d.parseClassType=oU,f.registerWhenExtend){var b=d.extend;b&&(d.extend=function(a){var h=b.call(this,a);return d.registerClass(h,a.type)})}return d}function ZK(a){return a>-abY&&abY>a}function X8(a){return a>abY||-abY>a}function adq(d,f,h,c,b){var g=1-b;return g*g*(g*d+3*b*f)+b*b*(b*c+3*g*h)}function VB(d,f,h,c,b){var g=1-b;return 3*(((f-d)*g+2*(h-f)*b)*g+(c-h)*b*b)}function afL(E,T,K,O,X,J){var G=O+3*(T-K)-E,F=3*(K-2*T+E),N=3*(T-E),D=E-X,P=F*F-3*G*N,V=F*N-9*G*D,U=N*N-3*F*D,R=0;if(ZK(P)&&ZK(V)){if(ZK(F)){J[0]=0}else{var H=-N/F;H>=0&&1>=H&&(J[R++]=H)}}else{var Q=V*V-4*P*U;if(ZK(Q)){var L=V/P,H=-F/G+L,C=-L/2;H>=0&&1>=H&&(J[R++]=H),C>=0&&1>=C&&(J[R++]=C)}else{if(Q>0){var q=akW(Q),A=P*F+1.5*G*(-V+q),Y=P*F+1.5*G*(-V-q);A=0>A?-afv(-A,adL):afv(A,adL),Y=0>Y?-afv(-Y,adL):afv(Y,adL);var H=(-F-(A+Y))/(3*G);H>=0&&1>=H&&(J[R++]=H)}else{var B=(2*P*F-3*G*V)/(2*akW(P*P*P)),W=Math.acos(B)/3,j=akW(P),k=Math.cos(W),H=(-F-2*j*k)/(3*G),C=(-F+j*(k+Y2*Math.sin(W)))/(3*G),z=(-F+j*(k-Y2*Math.sin(W)))/(3*G);H>=0&&1>=H&&(J[R++]=H),C>=0&&1>=C&&(J[R++]=C),z>=0&&1>=z&&(J[R++]=z)}}}return R}function aja(y,p,g,k,w){var f=6*g-12*p+6*y,b=9*p+3*k-3*y-9*g,z=3*p-3*y,j=0;if(ZK(b)){if(X8(f)){var x=-z/f;x>=0&&1>=x&&(w[j++]=x)}}else{var m=f*f-4*b*z;if(ZK(m)){w[0]=-f/(2*b)}else{if(m>0){var v=akW(m),x=(-f+v)/(2*b),q=(-f-v)/(2*b);x>=0&&1>=x&&(w[j++]=x),q>=0&&1>=q&&(w[j++]=q)}}}return j}function ah8(w,m,f,j,q,d){var b=(m-w)*q+w,x=(f-m)*q+m,g=(j-f)*q+f,v=(x-b)*q+b,k=(g-x)*q+x,p=(k-v)*q+v;d[0]=w,d[1]=b,d[2]=v,d[3]=p,d[4]=p,d[5]=k,d[6]=g,d[7]=j}function agX(w,K,D,G,N,C,A,z,F,q,H){var M,L,J,B,I,E=0.005,k=1/0;V8[0]=F,V8[1]=q;for(var b=0;1>b;b+=0.05){af6[0]=adq(w,D,N,A,b),af6[1]=adq(K,G,C,z,b),B=abC(V8,af6),k>B&&(M=b,k=B)}k=1/0;for(var j=0;32>j&&!(aac>E);j++){L=M-E,J=M+E,af6[0]=adq(w,D,N,A,L),af6[1]=adq(K,G,C,z,L),B=abC(af6,V8),L>=0&&k>B?(M=L,k=B):(ajK[0]=adq(w,D,N,A,J),ajK[1]=adq(K,G,C,z,J),I=abC(ajK,V8),1>=J&&k>I?(M=J,k=I):E*=0.5)}return H&&(H[0]=adq(w,D,N,A,M),H[1]=adq(K,G,C,z,M)),akW(k)}function aa2(d,f,g,c){var b=1-c;return b*(b*d+2*c*f)+c*c*g}function agm(b,c,d,a){return 2*((1-a)*(c-b)+a*(d-c))}function acP(y,p,g,k,w){var f=y-2*p+g,b=2*(p-y),z=y-k,j=0;if(ZK(f)){if(X8(b)){var x=-z/b;x>=0&&1>=x&&(w[j++]=x)}}else{var m=b*b-4*f*z;if(ZK(m)){var x=-b/(2*f);x>=0&&1>=x&&(w[j++]=x)}else{if(m>0){var v=akW(m),x=(-b+v)/(2*f),q=(-b-v)/(2*f);x>=0&&1>=x&&(w[j++]=x),q>=0&&1>=q&&(w[j++]=q)}}}return j}function T3(b,c,d){var a=b+d-2*c;return 0===a?0.5:(b-c)/a}function PY(d,h,k,c,b){var j=(h-d)*c+d,g=(k-h)*c+h,f=(g-j)*c+j;b[0]=d,b[1]=j,b[2]=f,b[3]=f,b[4]=g,b[5]=k}function Q8(k,G,z,C,J,y,w,q,B){var j,D=0.005,I=1/0;V8[0]=w,V8[1]=q;for(var H=0;1>H;H+=0.05){af6[0]=aa2(k,z,J,H),af6[1]=aa2(G,C,y,H);var F=abC(V8,af6);I>F&&(j=H,I=F)}I=1/0;for(var x=0;32>x&&!(aac>D);x++){var E=j-D,A=j+D;af6[0]=aa2(k,z,J,E),af6[1]=aa2(G,C,y,E);var F=abC(af6,V8);if(E>=0&&I>F){j=E,I=F}else{ajK[0]=aa2(k,z,J,A),ajK[1]=aa2(G,C,y,A);var b=abC(ajK,V8);1>=A&&I>b?(j=A,I=b):D*=0.5}}return B&&(B[0]=aa2(k,z,J,j),B[1]=aa2(G,C,y,j)),akW(I)}function a6(k,h,d){if(0!==k.length){var g,j=k[0],c=j[0],b=j[0],m=j[1],f=j[1];for(g=1;g<k.length;g++){j=k[g],c=aiJ(c,j[0]),b=ahi(b,j[0]),m=aiJ(m,j[1]),f=ahi(f,j[1])}h[0]=c,h[1]=m,d[0]=b,d[1]=f}}function SK(d,f,h,c,b,g){b[0]=aiJ(d,h),b[1]=aiJ(f,c),g[0]=ahi(d,h),g[1]=ahi(f,c)}function akb(E,z,m,v,C,k,b,F,q,D){var w,B=aja,A=adq,y=B(E,m,C,b,bF);for(q[0]=1/0,q[1]=1/0,D[0]=-1/0,D[1]=-1/0,w=0;y>w;w++){var j=A(E,m,C,b,bF[w]);q[0]=aiJ(j,q[0]),D[0]=ahi(j,D[0])}for(y=B(z,v,k,F,TB),w=0;y>w;w++){var x=A(z,v,k,F,TB[w]);q[1]=aiJ(x,q[1]),D[1]=ahi(x,D[1])}q[0]=aiJ(E,q[0]),D[0]=ahi(E,D[0]),q[0]=aiJ(b,q[0]),D[0]=ahi(b,D[0]),q[1]=aiJ(z,q[1]),D[1]=ahi(z,D[1]),q[1]=aiJ(F,q[1]),D[1]=ahi(F,D[1])}function mj(A,v,j,m,y,g,b,B){var k=T3,z=aa2,p=ahi(aiJ(k(A,j,y),1),0),x=ahi(aiJ(k(v,m,g),1),0),w=z(A,j,y,p),q=z(v,m,g,x);b[0]=aiJ(A,y,w),b[1]=aiJ(v,g,q),B[0]=ahi(A,y,w),B[1]=ahi(v,g,q)}function uW(A,v,j,m,y,g,b,B,k){var z=Zq,p=X1,x=Math.abs(y-g);if(0.0001>x%ada&&x>0.0001){return B[0]=A-j,B[1]=v-m,k[0]=A+j,void (k[1]=v+m)}if(UX[0]=agH(y)*j+A,UX[1]=abn(y)*m+v,QN[0]=agH(g)*j+A,QN[1]=abn(g)*m+v,z(B,UX,QN),p(k,UX,QN),y%=ada,0>y&&(y+=ada),g%=ada,0>g&&(g+=ada),y>g&&!b?g+=ada:g>y&&b&&(y+=ada),b){var w=g;g=y,y=w}for(var q=0;g>q;q+=Math.PI/2){q>y&&(R2[0]=agH(q)*j+A,R2[1]=abn(q)*m+v,z(B,R2,B),p(k,R2,k))}}function At(w,m,f,j,q,d,b){if(0===q){return !1}var x=q,g=0,v=w;if(b>m+x&&b>j+x||m-x>b&&j-x>b||d>w+x&&d>f+x||w-x>d&&f-x>d){return !1}if(w===f){return Math.abs(d-w)<=x/2}g=(m-j)/(w-f),v=(w*j-f*m)/(w-f);var k=g*d-b+v,p=k*k/(g*g+1);return x/2*x/2>=p}function kZ(y,p,g,k,w,f,b,z,j,x,m){if(0===j){return !1}var v=j;if(m>p+v&&m>k+v&&m>f+v&&m>z+v||p-v>m&&k-v>m&&f-v>m&&z-v>m||x>y+v&&x>g+v&&x>w+v&&x>b+v||y-v>x&&g-v>x&&w-v>x&&b-v>x){return !1}var q=agX(y,p,g,k,w,f,b,z,x,m,null);return v/2>=q}function LK(q,k,d,g,m,c,b,v,f){if(0===b){return !1}var p=b;if(f>k+p&&f>g+p&&f>c+p||k-p>f&&g-p>f&&c-p>f||v>q+p&&v>d+p&&v>m+p||q-p>v&&d-p>v&&m-p>v){return !1}var j=Q8(q,k,d,g,m,c,v,f,null);return p/2>=j}function HF(a){return a%=O8,0>a&&(a+=O8),a}function IY(y,p,g,k,w,f,b,z,j){if(0===b){return !1}var x=b;z-=y,j-=p;var m=Math.sqrt(z*z+j*j);if(m-x>g||g>m+x){return !1}if(Math.abs(k-w)%GY<0.0001){return !0}if(f){var v=k;k=HF(w),w=HF(v)}else{k=HF(k),w=HF(w)}k>w&&(w+=GY);var q=Math.atan2(j,z);return 0>q&&(q+=GY),q>=k&&w>=q||q+GY>=k&&w>=q+GY}function v7(k,h,d,g,j,c){if(c>h&&c>g||h>c&&g>c){return 0}if(g===h){return 0}var b=h>g?1:-1,m=(c-h)/(g-h);(1===m||0===m)&&(b=h>g?0.5:-0.5);var f=m*(d-k)+k;return f===j?1/0:f>j?b:0}function ad1(a,b){return Math.abs(a-b)<i0}function qH(){var a=FB[0];FB[0]=FB[1],FB[1]=a}function r0(q,I,B,E,L,A,x,w,D,k){if(k>I&&k>E&&k>A&&k>w||I>k&&E>k&&A>k&&w>k){return 0}var F=afL(I,E,A,w,k,D2);if(0===F){return 0}for(var K,J,H=0,z=-1,G=0;F>G;G++){var C=D2[G],j=0===C||1===C?0.5:1,b=adq(q,B,L,x,C);D>b||(0>z&&(z=aja(I,E,A,w,FB),FB[1]<FB[0]&&z>1&&qH(),K=adq(I,E,A,w,FB[0]),z>1&&(J=adq(I,E,A,w,FB[1]))),H+=2==z?C<FB[0]?I>K?j:-j:C<FB[1]?K>J?j:-j:J>w?j:-j:C<FB[0]?I>K?j:-j:K>w?j:-j)}return H}function nV(C,x,k,q,A,j,b,D){if(D>x&&D>q&&D>j||x>D&&q>D&&j>D){return 0}var m=acP(x,q,j,D,D2);if(0===m){return 0}var B=T3(x,q,j);if(B>=0&&1>=B){for(var v=0,z=aa2(x,q,j,B),y=0;m>y;y++){var w=0===D2[y]||1===D2[y]?0.5:1,g=aa2(C,k,A,D2[y]);b>g||(v+=D2[y]<B?x>z?w:-w:z>j?w:-w)}return v}var w=0===D2[0]||1===D2[0]?0.5:1,g=aa2(C,k,A,D2[0]);return b>g?0:x>j?w:-w}function OF(C,x,k,q,A,j,b,D){if(D-=x,D>k||-k>D){return 0}var m=Math.sqrt(k*k-D*D);D2[0]=-m,D2[1]=m;var B=Math.abs(q-A);if(0.0001>B){return 0}if(0.0001>B%K2){q=0,A=K2;var v=j?1:-1;return b>=D2[0]+C&&b<=D2[1]+C?v:0}if(j){var m=q;q=HF(A),A=HF(m)}else{q=HF(q),A=HF(A)}q>A&&(A+=K2);for(var z=0,y=0;2>y;y++){var w=D2[y];if(w+C>b){var g=Math.atan2(D,w),v=j?1:-1;0>g&&(g=K2+g),(g>=q&&A>=g||g+K2>=q&&A>=g+K2)&&(g>Math.PI/2&&g<1.5*Math.PI&&(v=-v),z+=v)}}return z}function F3(C,O,H,K,T){for(var G=0,E=0,D=0,J=0,B=0,L=0;L<C.length;){var Q=C[L++];switch(Q===t6.M&&L>1&&(H||(G+=v7(E,D,J,B,K,T))),1==L&&(E=C[L],D=C[L+1],J=E,B=D),Q){case t6.M:J=C[L++],B=C[L++],E=J,D=B;break;case t6.L:if(H){if(At(E,D,C[L],C[L+1],O,K,T)){return !0}}else{G+=v7(E,D,C[L],C[L+1],K,T)||0}E=C[L++],D=C[L++];break;case t6.C:if(H){if(kZ(E,D,C[L++],C[L++],C[L++],C[L++],C[L],C[L+1],O,K,T)){return !0}}else{G+=r0(E,D,C[L++],C[L++],C[L++],C[L++],C[L],C[L+1],K,T)||0}E=C[L++],D=C[L++];break;case t6.Q:if(H){if(LK(E,D,C[L++],C[L++],C[L],C[L+1],O,K,T)){return !0}}else{G+=nV(E,D,C[L++],C[L++],C[L],C[L+1],K,T)||0}E=C[L++],D=C[L++];break;case t6.A:var P=C[L++],N=C[L++],F=C[L++],M=C[L++],I=C[L++],A=C[L++],k=(C[L++],1-C[L++]),q=Math.cos(I)*F+P,U=Math.sin(I)*M+N;L>1?G+=v7(E,D,q,U,K,T):(J=q,B=U);var z=(K-P)*M/F+P;if(H){if(IY(P,N,M,I,I+A,k,O,z,T)){return !0}}else{G+=OF(P,N,M,I,I+A,k,z,T)}E=Math.cos(I+A)*F+P,D=Math.sin(I+A)*M+N;break;case t6.R:J=E=C[L++],B=D=C[L++];var R=C[L++],j=C[L++],q=J+R,U=B+j;if(H){if(At(J,B,q,B,O,K,T)||At(q,B,q,U,O,K,T)||At(q,U,J,U,O,K,T)||At(J,U,J,B,O,K,T)){return !0}}else{G+=v7(q,B,q,U,K,T),G+=v7(J,U,J,B,K,T)}break;case t6.Z:if(H){if(At(E,D,J,B,O,K,T)){return !0}}else{G+=v7(E,D,J,B,K,T)}E=J,D=B}}return H||ad1(D,B)||(G+=v7(E,D,J,B,K,T)||0),0!==G}function tq(a,b,c){return F3(a,0,!1,b,c)}function J8(b,c,d,a){return F3(b,c,!0,d,a)}function h5(a){acD.call(this,a),this.path=null}function C7(C,O,H,K,T,G,E,D,J,B,L){var Q=J*(p0/180),P=zW(Q)*(C-H)/2+Nq(Q)*(O-K)/2,N=-1*Nq(Q)*(C-H)/2+zW(Q)*(O-K)/2,F=P*P/(E*E)+N*N/(D*D);F>1&&(E*=yt(F),D*=yt(F));var M=(T===G?-1:1)*yt((E*E*D*D-E*E*N*N-D*D*P*P)/(E*E*N*N+D*D*P*P))||0,I=M*E*N/D,A=M*-D*P/E,k=(C+H)/2+zW(Q)*I-Nq(Q)*A,q=(O+K)/2+Nq(Q)*I+zW(Q)*A,U=acE([1,0],[(P-I)/E,(N-A)/D]),z=[(P-I)/E,(N-A)/D],R=[(-1*P-I)/E,(-1*N-A)/D],j=acE(z,R);ahX(z,R)<=-1&&(j=p0),ahX(z,R)>=1&&(j=0),0===G&&j>0&&(j-=2*p0),1===G&&0>j&&(j+=2*p0),L.addData(B,k,q,E,D,U,j,Q,G)}function EK(G){if(!G){return new oH}for(var X,O=0,R=0,ab=O,N=R,J=new oH,H=oH.CMD,Q=G.match(afA),F=0;F<Q.length;F++){for(var U,Z=Q[F],Y=Z.charAt(0),W=Z.match(akY)||[],L=W.length,V=0;L>V;V++){W[V]=parseFloat(W[V])}for(var P=0;L>P;){var E,z,C,ac,D,aa,k,q=O,B=R;switch(Y){case"l":O+=W[P++],R+=W[P++],U=H.L,J.addData(U,O,R);break;case"L":O=W[P++],R=W[P++],U=H.L,J.addData(U,O,R);break;case"m":O+=W[P++],R+=W[P++],U=H.M,J.addData(U,O,R),ab=O,N=R,Y="l";break;case"M":O=W[P++],R=W[P++],U=H.M,J.addData(U,O,R),ab=O,N=R,Y="L";break;case"h":O+=W[P++],U=H.L,J.addData(U,O,R);break;case"H":O=W[P++],U=H.L,J.addData(U,O,R);break;case"v":R+=W[P++],U=H.L,J.addData(U,O,R);break;case"V":R=W[P++],U=H.L,J.addData(U,O,R);break;case"C":U=H.C,J.addData(U,W[P++],W[P++],W[P++],W[P++],W[P++],W[P++]),O=W[P-2],R=W[P-1];break;case"c":U=H.C,J.addData(U,W[P++]+O,W[P++]+R,W[P++]+O,W[P++]+R,W[P++]+O,W[P++]+R),O+=W[P-2],R+=W[P-1];break;case"S":E=O,z=R;var j=J.len(),K=J.data;X===H.C&&(E+=O-K[j-4],z+=R-K[j-3]),U=H.C,q=W[P++],B=W[P++],O=W[P++],R=W[P++],J.addData(U,E,z,q,B,O,R);break;case"s":E=O,z=R;var j=J.len(),K=J.data;X===H.C&&(E+=O-K[j-4],z+=R-K[j-3]),U=H.C,q=O+W[P++],B=R+W[P++],O+=W[P++],R+=W[P++],J.addData(U,E,z,q,B,O,R);break;case"Q":q=W[P++],B=W[P++],O=W[P++],R=W[P++],U=H.Q,J.addData(U,q,B,O,R);break;case"q":q=W[P++]+O,B=W[P++]+R,O+=W[P++],R+=W[P++],U=H.Q,J.addData(U,q,B,O,R);break;case"T":E=O,z=R;var j=J.len(),K=J.data;X===H.Q&&(E+=O-K[j-4],z+=R-K[j-3]),O=W[P++],R=W[P++],U=H.Q,J.addData(U,E,z,O,R);break;case"t":E=O,z=R;var j=J.len(),K=J.data;X===H.Q&&(E+=O-K[j-4],z+=R-K[j-3]),O+=W[P++],R+=W[P++],U=H.Q,J.addData(U,E,z,O,R);break;case"A":C=W[P++],ac=W[P++],D=W[P++],aa=W[P++],k=W[P++],q=O,B=R,O=W[P++],R=W[P++],U=H.A,C7(q,B,O,R,aa,k,C,ac,D,U,J);break;case"a":C=W[P++],ac=W[P++],D=W[P++],aa=W[P++],k=W[P++],q=O,B=R,O+=W[P++],R+=W[P++],U=H.A,C7(q,B,O,R,aa,k,C,ac,D,U,J)}}("z"===Y||"Z"===Y)&&(U=H.Z,J.addData(U),O=ab,R=N),X=U}return J.toStatic(),J}function gU(a,b){var c=EK(a);return b=b||{},b.buildPath=function(d){if(d.setData){d.setData(c.data);var f=d.getContext();f&&d.rebuildPath(f)}else{var f=d;c.rebuildPath(f)}},b.applyTransform=function(d){aaM(c,d),this.dirty(!0)},b}function BX(a,b){return new h5(gU(a,b))}function cJ(a,b){return h5.extend(gU(a,b))}function fj(d,g){for(var j=[],c=d.length,b=0;c>b;b++){var h=d[b];h.path||h.createPathProxy(),h.__dirtyPath&&h.buildPath(h.path,h.shape,!0),j.push(h.path)}var f=new h5(g);return f.createPathProxy(),f.buildPath=function(a){a.appendPath(j);var i=a.getContext();i&&a.rebuildPath(i)},f}function d0(k,h,d,g,j,c,b){var m=0.5*(d-k),f=0.5*(g-h);return(2*(h-d)+m+f)*b+(-3*(h-d)-2*m-f)*c+m*j+h}function aeC(w,m,f){var j=m.points,q=m.smooth;if(j&&j.length>=2){if(q&&"spline"!==q){var d=aiS(j,q,f,m.smoothConstraint);w.moveTo(j[0][0],j[0][1]);for(var b=j.length,x=0;(f?b:b-1)>x;x++){var g=d[2*x],v=d[2*x+1],k=j[(x+1)%b];w.bezierCurveTo(g[0],g[1],v[0],v[1],k[0],k[1])}}else{"spline"===q&&(j=ajT(j,f)),w.moveTo(j[0][0],j[0][1]);for(var x=1,p=j.length;p>x;x++){w.lineTo(j[x][0],j[x][1])}}f&&w.closePath()}}function jH(d,f,g){var c=d.cpx2,b=d.cpy2;return null===c||null===b?[(g?VB:adq)(d.x1,d.cpx1,d.cpx2,d.x2,f),(g?VB:adq)(d.y1,d.cpy1,d.cpy2,d.y2,f)]:[(g?agm:aa2)(d.x1,d.cpx1,d.x2,f),(g?agm:aa2)(d.y1,d.cpy1,d.y2,f)]}function aas(a){acD.call(this,a),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function xK(a){return h5.extend(a)}function M4(a,b){return cJ(a,b)}function y2(d,f,g,c){var b=BX(d,f);return g&&("center"===c&&(g=V3(g,b.getBoundingRect())),ahd(b,g)),b}function o6(b,c,d){var a=new TJ({style:{image:b,x:c.x,y:c.y,width:c.width,height:c.height},onload:function(f){if("center"===d){var e={width:f.width,height:f.height};a.setStyle(V3(c,e))}}});return a}function V3(d,g){var j,c=g.width/g.height,b=d.height*c;b<=d.width?j=d.height:(b=d.width,j=b/c);var h=d.x+d.width/2,f=d.y+d.height/2;return{x:h-b/2,y:f-j/2,width:b,height:j}}function ahd(b,c){if(b.applyTransform){var d=b.getBoundingRect(),a=d.calculateTransform(c);b.applyTransform(a)}}function abT(a){var b=a.shape,c=a.style.lineWidth;return Bt(2*b.x1)===Bt(2*b.x2)&&(b.x1=b.x2=akr(b.x1,c,!0)),Bt(2*b.y1)===Bt(2*b.y2)&&(b.y1=b.y2=akr(b.y1,c,!0)),a}function aeS(d){var g=d.shape,j=d.style.lineWidth,c=g.x,b=g.y,h=g.width,f=g.height;return g.x=akr(g.x,j,!0),g.y=akr(g.y,j,!0),g.width=Math.max(akr(c+h,j,!1)-g.x,0===h?0:1),g.height=Math.max(akr(b+f,j,!1)-g.y,0===f?0:1),d}function akr(b,c,d){var a=Bt(2*b);return(a+Bt(c))%2===0?a/2:(a+(d?1:-1))/2}function abi(a){return null!=a&&"none"!==a}function YX(a){if("string"!=typeof a){return a}var b=w7.get(a);return b||(b=dQ(a,-0.1),10000>aer&&(w7.set(a,b),aer++)),b}function XF(d){if(d.__hoverStlDirty){d.__hoverStlDirty=!1;var f=d.__hoverStl;if(!f){return void (d.__normalStl=null)}var g=d.__normalStl={},c=d.style;for(var b in f){null!=f[b]&&(g[b]=c[b])}g.fill=c.fill,g.stroke=c.stroke}}function ac5(d){var f=d.__hoverStl;if(f&&!d.__highlighted){var h=d.useHoverLayer;d.__highlighted=h?"layer":"plain";var c=d.__zr;if(c||!h){var b=d,g=d.style;h&&(b=c.addHover(d),g=b.style),vt(g),h||XF(b),g.extendFrom(f),UN(g,f,"fill"),UN(g,f,"stroke"),H3(g),h||(d.dirty(!1),d.z2+=1)}}}function UN(a,b,c){!abi(b[c])&&abi(a[c])&&(a[c]=YX(a[c]))}function afq(a){a.__highlighted&&(aiC(a),a.__highlighted=!1)}function aiC(b){var c=b.__highlighted;if("layer"===c){b.__zr&&b.__zr.removeHover(b)}else{if(c){var d=b.style,a=b.__normalStl;a&&(vt(d),b.setStyle(a),H3(d),b.z2-=1)}}}function agC(a,b){a.isGroup?a.traverse(function(c){!c.isGroup&&b(c)}):b(a)}function aaI(a,b){b=a.__hoverStl=b!==!1&&(b||{}),a.__hoverStlDirty=!0,a.__highlighted&&(afq(a),ac5(a))}function af1(a){return a&&a.__isEmphasisEntered}function acu(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasisEntered&&agC(this,ac5)}function S8(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasisEntered&&agC(this,afq)}function O3(){this.__isEmphasisEntered=!0,agC(this,ac5)}function QF(){this.__isEmphasisEntered=!1,agC(this,afq)}function aQ(a,b,c){a.isGroup?a.traverse(function(d){!d.isGroup&&aaI(d,d.hoverStyle||b)}):aaI(a,a.hoverStyle||b),RX(a,c)}function RX(b,c){var d=c===!1;if(b.__hoverSilentOnTouch=null!=c&&c.hoverSilentOnTouch,!d||b.__hoverStyleTrigger){var a=d?"off":"on";b[a]("mouseover",acu)[a]("mouseout",S8),b[a]("emphasis",O3)[a]("normal",QF),b.__hoverStyleTrigger=!d}}function ajD(C,x,k,q,A,j,b){A=A||IB;var D,m=A.labelFetcher,B=A.labelDataIndex,v=A.labelDimIndex,z=k.getShallow("show"),y=q.getShallow("show");(z||y)&&(m&&(D=m.getFormattedLabel(B,"normal",null,v)),null==D&&(D=aif(A.defaultText)?A.defaultText(B,A):A.defaultText));var w=z?D:null,g=y?aj3(m?m.getFormattedLabel(B,"emphasis",null,v):null,D):null;(null!=w||null!=g)&&(lG(C,k,j,A),lG(x,q,b,A,!0)),C.text=w,x.text=g}function lG(d,f,g,c,b){return zK(d,f,c,b),g&&aip(d,g),d}function t1(d,f,g){var c,b={isRectText:!0};g===!1?c=!0:b.autoColor=g,zK(d,f,b,c)}function zK(w,m,f,j){if(f=f||IB,f.isRectText){var q=m.getShallow("position")||(j?null:"inside");"outside"===q&&(q="top"),w.textPosition=q,w.textOffset=m.getShallow("offset");var d=m.getShallow("rotate");null!=d&&(d*=Math.PI/180),w.textRotation=d,w.textDistance=aj3(m.getShallow("distance"),j?null:5)}var b,x=m.ecModel,g=x&&x.option.textStyle,v=j5(m);if(v){b={};for(var k in v){if(v.hasOwnProperty(k)){var p=m.getModel(["rich",k]);KX(b[k]={},p,g,f,j)}}}return w.rich=b,KX(w,m,g,f,j,!0),f.forceRich&&!f.textStyle&&(f.textStyle={}),w}function j5(b){for(var c;b&&b!==b.ecModel;){var d=(b.option||IB).rich;if(d){c=c||{};for(var a in d){d.hasOwnProperty(a)&&(c[a]=1)}}b=b.parentModel}return c}function KX(d,f,h,c,b,g){h=!b&&h||IB,d.textFill=GQ(f.getShallow("color"),c)||h.color,d.textStroke=GQ(f.getShallow("textBorderColor"),c)||h.textBorderColor,d.textStrokeWidth=aj3(f.getShallow("textBorderWidth"),h.textBorderWidth),d.insideRawTextPosition=d.textPosition,b||(g&&(d.insideRollbackOpt=c,H3(d)),null==d.textFill&&(d.textFill=c.autoColor)),d.fontStyle=f.getShallow("fontStyle")||h.fontStyle,d.fontWeight=f.getShallow("fontWeight")||h.fontWeight,d.fontSize=f.getShallow("fontSize")||h.fontSize,d.fontFamily=f.getShallow("fontFamily")||h.fontFamily,d.textAlign=f.getShallow("align"),d.textVerticalAlign=f.getShallow("verticalAlign")||f.getShallow("baseline"),d.textLineHeight=f.getShallow("lineHeight"),d.textWidth=f.getShallow("width"),d.textHeight=f.getShallow("height"),d.textTag=f.getShallow("tag"),g&&c.disableBox||(d.textBackgroundColor=GQ(f.getShallow("backgroundColor"),c),d.textPadding=f.getShallow("padding"),d.textBorderColor=GQ(f.getShallow("borderColor"),c),d.textBorderWidth=f.getShallow("borderWidth"),d.textBorderRadius=f.getShallow("borderRadius"),d.textBoxShadowColor=f.getShallow("shadowColor"),d.textBoxShadowBlur=f.getShallow("shadowBlur"),d.textBoxShadowOffsetX=f.getShallow("shadowOffsetX"),d.textBoxShadowOffsetY=f.getShallow("shadowOffsetY")),d.textShadowColor=f.getShallow("textShadowColor")||h.textShadowColor,d.textShadowBlur=f.getShallow("textShadowBlur")||h.textShadowBlur,d.textShadowOffsetX=f.getShallow("textShadowOffsetX")||h.textShadowOffsetX,d.textShadowOffsetY=f.getShallow("textShadowOffsetY")||h.textShadowOffsetY}function GQ(a,b){return"auto"!==a?a:b&&b.autoColor?b.autoColor:null}function H3(d){var f=d.insideRollbackOpt;if(f&&null==d.textFill){var h,c=f.useInsideStyle,b=d.insideRawTextPosition,g=f.autoColor;c!==!1&&(c===!0||f.isRectText&&b&&"string"==typeof b&&b.indexOf("inside")>=0)?(h={textFill:null,textStroke:d.textStroke,textStrokeWidth:d.textStrokeWidth},d.textFill="#fff",null==d.textStroke&&(d.textStroke=g,null==d.textStrokeWidth&&(d.textStrokeWidth=2))):null!=g&&(h={textFill:null},d.textFill=g),h&&(d.insideRollback=h)}}function vt(a){var b=a.insideRollback;b&&(a.textFill=b.textFill,a.textStroke=b.textStroke,a.textStrokeWidth=b.textStrokeWidth,a.insideRollback=null)}function adG(a,b){var c=b||b.getModel("textStyle");return ajs([a.fontStyle||c&&c.getShallow("fontStyle")||"",a.fontWeight||c&&c.getShallow("fontWeight")||"",(a.fontSize||c&&c.getShallow("fontSize")||12)+"px",a.fontFamily||c&&c.getShallow("fontFamily")||"sans-serif"].join(" "))}function pW(q,k,d,g,m,c){"function"==typeof m&&(c=m,m=null);var b=g&&g.isAnimationEnabled();if(b){var v=q?"Update":"",f=g.getShallow("animationDuration"+v),p=g.getShallow("animationEasing"+v),j=g.getShallow("animationDelay"+v);"function"==typeof j&&(j=j(m,g.getAnimationDelayParams?g.getAnimationDelayParams(k,m):null)),"function"==typeof f&&(f=f(m)),f>0?k.animateTo(d,f,j||0,p,c,!!c):(k.stopAnimation(),k.attr(d),c&&c())}else{k.stopAnimation(),k.attr(d),c&&c()}}function q5(d,f,g,c,b){pW(!0,d,f,g,c,b)}function m0(d,f,g,c,b){pW(!1,d,f,g,c,b)}function N1(a,b){for(var c=l3([]);a&&a!==b;){z5(c,a.getLocalTransform(),c),a=a.parent}return c}function E8(a,b,c){return b&&!aiX(b)&&(b=Q7.getLocalTransform(b)),c&&(b=IJ([],b)),abw([],a,b)}function sH(d,f,h){var c=0===f[4]||0===f[5]||0===f[0]?1:Math.abs(2*f[4]/f[0]),b=0===f[4]||0===f[5]||0===f[2]?1:Math.abs(2*f[4]/f[2]),g=["left"===d?-c:"right"===d?c:0,"top"===d?-b:"bottom"===d?b:0];return g=E8(g,f,h),Math.abs(g[0])>Math.abs(g[1])?g[0]>0?"right":"left":g[1]>0?"bottom":"top"}function JF(d,f,h){function c(a){var i={};return a.traverse(function(e){!e.isGroup&&e.anid&&(i[e.anid]=e)}),i}function b(a){var i={position:ajR(a.position),rotation:a.rotation};return a.shape&&(i.shape=aip({},a.shape)),i}if(d&&f){var g=c(d);f.traverse(function(j){if(!j.isGroup&&j.anid){var k=g[j.anid];if(k){var a=b(j);j.attr(b(k)),q5(j,a,h,j.dataIndex)}}})}}function hj(a,b){return aiu(a,function(d){var e=d[0];e=lZ(e,b.x),e=L3(e,b.x+b.width);var c=d[1];return c=lZ(c,b.y),c=L3(c,b.y+b.height),[e,c]})}function CB(d,f){var h=lZ(d.x,f.x),c=L3(d.x+d.width,f.x+f.width),b=lZ(d.y,f.y),g=L3(d.y+d.height,f.y+f.height);return c>=h&&g>=b?{x:h,y:b,width:c-h,height:g-b}:void 0}function DX(b,c,d){c=aip({rectHover:!0},c);var a=c.style={strokeNoScale:!0};return d=d||{x:-1,y:-1,width:2,height:2},b?0===b.indexOf("image://")?(a.image=b.slice(8),ain(a,d),new TJ(c)):y2(b.replace("path://",""),c,d,"center"):void 0}function f0(a,b,c){this.parentModel=b,this.ecModel=c,this.option=a}function A2(b,c,d){for(var a=0;a<c.length&&(!c[a]||(b=b&&"object"==typeof b?b[c[a]]:null,null!=b));a++){}return null==b&&d&&(b=d.get(c)),b}function b4(a,b){var c=K7(a).getParent;return c?c.call(a,b):a.parentModel}function eH(a){return[a||"",i5++,Math.random().toFixed(5)].join("_")}function c6(a){var b={};return a.registerSubTypeDefaulter=function(c,d){c=oU(c),b[c.main]=d},a.determineSubType=function(f,d){var c=d.type;if(!c){var e=oU(f).main;a.hasSubTypes(f)&&b[e]&&(c=b[e](d))}return c},a}function aeh(d,f){function g(a){var h={},e=[];return aiT(a,function(m){var k=c(h,m),i=k.originalDeps=f(m),j=b(i,a);k.entryCount=j.length,0===k.entryCount&&e.push(m),aiT(j,function(l){aij(k.predecessor,l)<0&&k.predecessor.push(l);var n=c(h,l);aij(n.successor,l)<0&&n.successor.push(m)})}),{graph:h,noEntryList:e}}function c(a,h){return a[h]||(a[h]={predecessor:[],successor:[]}),a[h]}function b(a,h){var i=[];return aiT(a,function(e){aij(h,e)>=0&&i.push(e)}),i}d.topologicalTravel=function(B,w,q,z){function m(a){n[a].entryCount--,0===n[a].entryCount&&A.push(a)}function j(a){v[a]=!0,m(a)}if(B.length){var C=g(w),n=C.graph,A=C.noEntryList,v={};for(aiT(B,function(a){v[a]=!0});A.length;){var y=A.pop(),x=n[y],k=!!v[y];k&&(q.call(z,y,x.originalDeps.slice()),delete v[y]),aiT(x.successor,k?j:m)}aiT(v,function(){throw new Error("Circle dependency may exists")})}}}function iV(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")}function Z7(d,f,h,c){var b=f[1]-f[0],g=h[1]-h[0];if(0===b){return 0===g?h[0]:(h[0]+h[1])/2}if(c){if(b>0){if(d<=f[0]){return h[0]}if(d>=f[1]){return h[1]}}else{if(d>=f[0]){return h[0]}if(d<=f[1]){return h[1]}}}else{if(d===f[0]){return h[0]}if(d===f[1]){return h[1]}}return(d-f[0])/b*g+h[0]}function wX(a,b){switch(a){case"center":case"middle":a="50%";break;case"left":case"top":a="0%";break;case"right":case"bottom":a="100%"}return"string"==typeof a?iV(a).match(/%$/)?parseFloat(a)/100*b:parseFloat(a):null==a?0/0:+a}function MJ(a,b,c){return null==b&&(b=10),b=Math.min(Math.max(0,b),20),a=(+a).toFixed(b),c?a:+a}function x8(a){return a.sort(function(b,c){return b-c}),a}function oq(a){if(a=+a,isNaN(a)){return 0}for(var b=1,c=0;Math.round(a*b)/b!==a;){b*=10,c++}return c}function VZ(d){var f=d.toString(),g=f.indexOf("e");if(g>0){var c=+f.slice(g+1);return 0>c?-c:0}var b=f.indexOf(".");return 0>b?0:f.length-1-b}function ag9(d,g){var j=Math.log,c=Math.LN10,b=Math.floor(j(d[1]-d[0])/c),h=Math.round(j(Math.abs(g[1]-g[0]))/c),f=Math.min(Math.max(-b+h,0),20);return isFinite(f)?f:20}function abP(A,v,j){if(!A[v]){return 0}var m=aiQ(A,function(a,c){return a+(isNaN(c)?0:c)},0);if(0===m){return 0}for(var y=Math.pow(10,j),g=aiu(A,function(a){return(isNaN(a)?0:a)/m*y*100}),b=100*y,B=aiu(g,function(a){return Math.floor(a)}),k=aiQ(B,function(a,c){return a+c},0),z=aiu(g,function(a,c){return a-B[c]});b>k;){for(var p=Number.NEGATIVE_INFINITY,x=null,w=0,q=z.length;q>w;++w){z[w]>p&&(p=z[w],x=w)}++B[x],z[x]=0,++k}return B[v]/y}function aeO(a){var b=2*Math.PI;return(a%b+b)%b}function akn(a){return a>-D7&&D7>a}function abe(a){if(a instanceof Date){return a}if("string"==typeof a){var b=hU.exec(a);if(!b){return new Date(0/0)}if(b[8]){var c=+b[4]||0;return"Z"!==b[8].toUpperCase()&&(c-=b[8].slice(0,3)),new Date(Date.UTC(+b[1],+(b[2]||1)-1,+b[3]||1,c,+(b[5]||0),+b[6]||0,+b[7]||0))}return new Date(+b[1],+(b[2]||1)-1,+b[3]||1,+b[4]||0,+(b[5]||0),+b[6]||0,+b[7]||0)}return new Date(null==a?0/0:Math.round(a))}function YQ(a){return Math.pow(10,Xj(a))}function Xj(a){return Math.floor(Math.log(a)/Math.LN10)}function ac1(d,f){var h,c=Xj(d),b=Math.pow(10,c),g=d/b;return h=f?1.5>g?1:2.5>g?2:4>g?3:7>g?5:10:1>g?1:2>g?2:3>g?3:5>g?5:10,d=h*b,c>=-20?+d.toFixed(0>c?-c:0):d}function UG(d,f){var h=(d.length-1)*f+1,c=Math.floor(h),b=+d[c-1],g=h-c;return g?b+g*(d[c]-b):b}function afm(d){function h(e,l,a){return e.interval[a]<l.interval[a]||e.interval[a]===l.interval[a]&&(e.close[a]-l.close[a]===(a?-1:1)||!a&&h(e,l,1))}d.sort(function(a,e){return h(a,e,0)?-1:1});for(var k=-1/0,c=1,b=0;b<d.length;){for(var j=d[b].interval,g=d[b].close,f=0;2>f;f++){j[f]<=k&&(j[f]=k,g[f]=f?1:1-c),k=j[f],c=g[f]}j[0]===j[1]&&g[0]*g[1]!==1?d.splice(b,1):b++}return d}function aiv(a){return a-parseFloat(a)>=0}function ahK(a){return isNaN(a)?"-":(a=(a+"").split("."),a[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(a.length>1?"."+a[1]:""))}function agy(a,b){return a=(a||"").toLowerCase().replace(/-(.)/g,function(c,d){return d.toUpperCase()}),b&&a&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a}function aaE(a){return null==a?"":(a+"").replace(f9,function(b,c){return eZ[c]})}function afX(m,h,d){ai9(h)||(h=[h]);var g=h.length;if(!g){return""}for(var j=h[0].$vars||[],c=0;c<j.length;c++){var b=ae0[c];m=m.replace(kF(b),kF(b,0))}for(var p=0;g>p;p++){for(var f=0;f<j.length;f++){var k=h[p][j[f]];m=m.replace(kF(ae0[f],p),d?aaE(k):k)}}return m}function acq(a,b,c){return aiT(b,function(f,d){a=a.replace("{"+d+"}",c?aaE(f):f)}),a}function S4(d,f){d=ai2(d)?{color:d,extraCssText:f}:d||{};var h=d.color,c=d.type,f=d.extraCssText,b=d.renderMode||"html",g=d.markerId||"X";return h?"html"===b?"subItem"===c?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+aaE(h)+";"+(f||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+aaE(h)+";"+(f||"")+'"></span>':{renderMode:b,content:"{marker"+g+"|}  ",style:{color:h}}:""}function OZ(a,b){return a+="","0000".substr(0,b-a.length)+a}function Qj(w,m,f){("week"===w||"month"===w||"quarter"===w||"half-year"===w||"year"===w)&&(w="MM-dd\nyyyy");var j=abe(m),q=f?"UTC":"",d=j["get"+q+"FullYear"](),b=j["get"+q+"Month"]()+1,x=j["get"+q+"Date"](),g=j["get"+q+"Hours"](),v=j["get"+q+"Minutes"](),k=j["get"+q+"Seconds"](),p=j["get"+q+"Milliseconds"]();return w=w.replace("MM",OZ(b,2)).replace("M",b).replace("yyyy",d).replace("yy",d%100).replace("dd",OZ(x,2)).replace("d",x).replace("hh",OZ(g,2)).replace("h",g).replace("mm",OZ(v,2)).replace("m",v).replace("ss",OZ(k,2)).replace("s",k).replace("SSS",OZ(p,3))}function aJ(a){return a?a.charAt(0).toUpperCase()+a.substr(1):a}function RQ(d,h,k,c,b){var j=0,g=0;null==c&&(c=1/0),null==b&&(b=1/0);var f=0;h.eachChild(function(i,w){var n,s,r=i.position,q=i.getBoundingRect(),a=h.childAt(w+1),o=a&&a.getBoundingRect();if("horizontal"===d){var e=q.width+(o?-o.x+q.x:0);n=j+e,n>c||i.newline?(j=0,n=e,g+=f+k,f=q.height):f=Math.max(f,q.height)}else{var t=q.height+(o?-o.y+q.y:0);s=g+t,s>b||i.newline?(j+=f+k,g=0,s=t,f=q.width):f=Math.max(f,q.width)}i.newline||(r[0]=j,r[1]=g,"horizontal"===d?j=n+k:g=s+k)})}function ajw(k,h,d){var g=h.width,j=h.height,c=wX(k.x,g),b=wX(k.y,j),m=wX(k.x2,g),f=wX(k.y2,j);return(isNaN(c)||isNaN(parseFloat(k.x)))&&(c=0),(isNaN(m)||isNaN(parseFloat(k.x2)))&&(m=g),(isNaN(b)||isNaN(parseFloat(k.y)))&&(b=0),(isNaN(f)||isNaN(parseFloat(k.y2)))&&(f=j),d=dG(d||0),{width:Math.max(m-c-d[1]-d[3],0),height:Math.max(f-b-d[0]-d[2],0)}}function lq(C,x,k){k=dG(k||0);var q=x.width,A=x.height,j=wX(C.left,q),b=wX(C.top,A),D=wX(C.right,q),m=wX(C.bottom,A),B=wX(C.width,q),v=wX(C.height,A),z=k[2]+k[0],y=k[1]+k[3],w=C.aspect;switch(isNaN(B)&&(B=q-D-y-j),isNaN(v)&&(v=A-m-z-b),null!=w&&(isNaN(B)&&isNaN(v)&&(w>q/A?B=0.8*q:v=0.8*A),isNaN(B)&&(B=w*v),isNaN(v)&&(v=B/w)),isNaN(j)&&(j=q-D-B-y),isNaN(b)&&(b=A-m-v-z),C.left||C.right){case"center":j=q/2-B/2-k[3];break;case"right":j=q-B-y}switch(C.top||C.bottom){case"middle":case"center":b=A/2-v/2-k[0];break;case"bottom":b=A-v-z}j=j||0,b=b||0,isNaN(B)&&(B=q-y-j-(D||0)),isNaN(v)&&(v=A-z-b-(m||0));var g=new acw(j+k[3],b+k[0],B,v);return g.margin=k,g}function tX(z,s,j,m,x){var g=!x||!x.hv||x.hv[0],b=!x||!x.hv||x.hv[1],k=x&&x.boundingMode||"all";if(g||b){var y;if("raw"===k){y="group"===z.type?new acw(0,0,+s.width||0,+s.height||0):z.getBoundingRect()}else{if(y=z.getBoundingRect(),z.needLocalTransform()){var p=z.getLocalTransform();y=y.clone(),y.applyTransform(p)}}s=lq(ain({width:y.width,height:y.height},s),j,m);var w=z.position,v=g?s.x-y.x:0,q=b?s.y-y.y:0;z.attr("position","raw"===k?[v,q]:[w[0]+v,w[1]+q])}}function zF(a,b){return null!=a[W7[b][0]]||null!=a[W7[b][1]]&&null!=a[W7[b][2]]}function j1(m,h,d){function g(e,q){var a={},o=0,x={},s=0,w=2;if(z1(e,function(i){x[i]=m[i]}),z1(e,function(i){j(h,i)&&(a[i]=x[i]=h[i]),c(a,i)&&o++,c(x,i)&&s++}),p[q]){return c(h,e[1])?x[e[2]]=null:c(h,e[2])&&(x[e[1]]=null),x}if(s!==w&&o){if(o>=w){return a}for(var v=0;v<e.length;v++){var t=e[v];if(!j(a,t)&&j(m,t)){a[t]=m[t];break}}return a}return x}function j(a,i){return a.hasOwnProperty(i)}function c(a,i){return null!=a[i]&&"auto"!==a[i]}function b(a,i,l){z1(a,function(e){i[e]=l[e]})}!ajq(d)&&(d={});var p=d.ignoreSize;!ai9(p)&&(p=[p,p]);var f=g(W7[0],0),k=g(W7[1],1);b(W7[0],m,f),b(W7[1],m,k)}function KQ(a){return GG({},a)}function GG(a,b){return b&&a&&z1(p5,function(c){b.hasOwnProperty(c)&&(a[c]=b[c])}),a}function HZ(a){var b=[];return aiT(akQ.getClassesByMainType(a),function(c){b=b.concat(c.prototype.dependencies||[])}),b=aiu(b,function(c){return oU(c).main}),"dataset"!==a&&aij(b,"dataset")<=0&&b.unshift("dataset"),b}function u8(b,c){for(var d=b.length,a=0;d>a;a++){if(b[a].length>c){return b[a]}}return b[d-1]}function adC(b){var c=b.get("coordinateSystem"),d={coordSysName:c,coordSysDims:[],axisMap:aj6(),categoryAxisMap:aj6()},a=VW[c];return a?(a(b,d,d.axisMap,d.categoryAxisMap),d):void 0}function pK(a){return"category"===a.get("type")}function q1(a){this.fromDataset=a.fromDataset,this.data=a.data||(a.sourceFormat===ag6?{}:[]),this.sourceFormat=a.sourceFormat||abb,this.seriesLayoutBy=a.seriesLayoutBy||acY,this.dimensionsDefine=a.dimensionsDefine,this.encodeDefine=a.encodeDefine&&aj6(a.encodeDefine),this.startIndex=a.startIndex||0,this.dimensionsDetectCount=a.dimensionsDetectCount}function mW(d){var g=d.option.source,j=abb;if(ajQ(g)){j=agv}else{if(ai9(g)){0===g.length&&(j=ajr);for(var c=0,b=g.length;b>c;c++){var h=g[c];if(null!=h){if(ai9(h)){j=ajr;break}if(ajq(h)){j=aiq;break}}}}else{if(ajq(g)){for(var f in g){if(g.hasOwnProperty(f)&&aiX(g[f])){j=ag6;break}}}else{if(null!=g){throw new Error("Invalid data")}}}}P7(d).sourceFormat=j}function NZ(a){return P7(a).source}function E4(a){P7(a).datasetMap=aj6()}function st(w){var m=w.option,f=m.data,j=ajQ(f)?agv:afU,q=!1,d=m.seriesLayoutBy,b=m.sourceHeader,x=m.dimensions,g=AY(w);if(g){var v=g.option;f=v.source,j=P7(g).sourceFormat,q=!0,d=d||v.seriesLayoutBy,null==b&&(b=v.sourceHeader),x=x||v.dimensions}var k=Jj(f,j,d,b,x),p=m.encode;!p&&g&&(p=fW(w,g,f,j,d,k)),P7(w).source=new q1({data:f,fromDataset:q,seriesLayoutBy:d,sourceFormat:j,dimensionsDefine:k.dimensionsDefine,startIndex:k.startIndex,dimensionsDetectCount:k.dimensionsDetectCount,encodeDefine:p})}function Jj(m,h,d,g,j){if(!m){return{dimensionsDefine:g6(j)}}var c,b,p;if(h===ajr){"auto"===g||null==g?B9(function(a){null!=a&&"-"!==a&&(ai2(a)?null==b&&(b=1):b=0)},d,m,10):b=g?1:0,j||1!==b||(j=[],B9(function(a,i){j[i]=null!=a?a:""},d,m)),c=j?j.length:d===Ut?m.length:m[0]?m[0].length:null}else{if(h===aiq){j||(j=DQ(m),p=!0)}else{if(h===ag6){j||(j=[],p=!0,aiT(m,function(a,i){j.push(i)}))}else{if(h===afU){var f=hQ(m[0]);c=ai9(f)&&f.length||1}}}}var k;return p&&aiT(j,function(a,i){"name"===(ajq(a)?a.name:a)&&(k=i)}),{startIndex:b,dimensionsDefine:g6(j),dimensionsDetectCount:c,potentialNameDimIndex:k}}function g6(a){if(a){var b=aj6();return aiu(a,function(c){if(c=aip({},ajq(c)?c:{name:c}),null==c.name){return c}c.name+="",null==c.displayName&&(c.displayName=c.name);var d=b.get(c.name);return d?c.name+="-"+d.count++:b.set(c.name,{count:1}),c})}}function B9(d,f,h,c){if(null==c&&(c=1/0),f===Ut){for(var b=0;b<h.length&&c>b;b++){d(h[b]?h[b][0]:null,b)}}else{for(var g=h[0]||[],b=0;b<g.length&&c>b;b++){d(g[b],b)}}}function DQ(b){for(var c,d=0;d<b.length&&!(c=b[d++]);){}if(c){var a=[];return aiT(c,function(f,g){a.push(g)}),a}}function fW(q,I,C,F,L,B){var z=adC(q),w={},E=[],k=[],G=q.subType,K=aj6(["pie","map","funnel"]),J=aj6(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]);if(z&&null!=J.get(G)){var A=q.ecModel,H=P7(A).datasetMap,D=I.uid+"_"+L,j=H.get(D)||H.set(D,{categoryWayDim:1,valueWayDim:0});aiT(z.coordSysDims,function(a){if(null==z.firstCategoryDimIndex){var c=j.valueWayDim++;w[a]=c,k.push(c)}else{if(z.categoryAxisMap.get(a)){w[a]=0,E.push(0)}else{var c=j.categoryWayDim++;w[a]=c,k.push(c)}}})}else{if(null!=K.get(G)){for(var b,f=0;5>f&&null==b;f++){et(C,F,L,B.dimensionsDefine,B.startIndex,f)||(b=f)}if(null!=b){w.value=b;var M=B.potentialNameDimIndex||Math.max(b-1,0);k.push(M),E.push(M)}}}return E.length&&(w.itemName=E),k.length&&(w.seriesName=k),w}function AY(a){var b=a.option,c=b.data;return c?void 0:a.ecModel.getComponent("dataset",b.datasetIndex||0)}function b2(a,b){return et(a.data,a.sourceFormat,a.seriesLayoutBy,a.dimensionsDefine,a.startIndex,b)}function et(C,x,k,q,A,j){function b(a){return null!=a&&isFinite(a)&&""!==a?!1:ai2(a)&&"-"!==a?!0:void 0}var D,m=5;if(ajQ(C)){return !1}var B;if(q&&(B=q[j],B=ajq(B)?B.name:B),x===ajr){if(k===Ut){for(var v=C[j],z=0;z<(v||[]).length&&m>z;z++){if(null!=(D=b(v[A+z]))){return D}}}else{for(var z=0;z<C.length&&m>z;z++){var y=C[A+z];if(y&&null!=(D=b(y[j]))){return D}}}}else{if(x===aiq){if(!B){return}for(var z=0;z<C.length&&m>z;z++){var w=C[z];if(w&&null!=(D=b(w[B]))){return D}}}else{if(x===ag6){if(!B){return}var v=C[B];if(!v||ajQ(v)){return !1}for(var z=0;z<v.length&&m>z;z++){if(null!=(D=b(v[z]))){return D}}}else{if(x===afU){for(var z=0;z<C.length&&m>z;z++){var w=C[z],g=hQ(w);if(!ai9(g)){return !1}if(null!=(D=b(g[j]))){return D}}}}}}return !1}function c2(d,f){if(f){var g=f.seiresIndex,c=f.seriesId,b=f.seriesName;return null!=g&&d.componentIndex!==g||null!=c&&d.id!==c||null!=b&&d.name!==b}}function aed(a,b){var c=a.color&&!a.colorLayer;aiT(b,function(d,f){"colorLayer"===f&&c||akQ.hasClass(f)||("object"==typeof d?a[f]=a[f]?ai5(a[f],d,!1):aiO(d):null==a[f]&&(a[f]=d))})}function iJ(a){a=a,this.option={},this.option[RH]=1,this._componentsMap=aj6({series:[]}),this._seriesIndices,this._seriesIndicesMap,aed(a,this._theme.option),ai5(a,Z0,!1),this.mergeOption(a)}function Z3(a,b){ai9(b)||(b=b?[b]:[]);var c={};return aiT(b,function(d){c[d]=(a.get(d)||[]).slice()}),c}function wQ(b,c,d){var a=c.type?c.type:d?d.subType:akQ.determineSubType(b,c);return a}function MG(a,b){a._seriesIndicesMap=aj6(a._seriesIndices=aiu(b,function(c){return c.componentIndex})||[])}function x4(a,b){return b.hasOwnProperty("subType")?aiB(a,function(c){return c.subType===b.subType}):a}function n7(a){aiT(S1,function(b){this[b]=aic(a[b],a)},this)}function VX(){this._coordinateSystems=[]}function ag7(a){this._api=a,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function abN(k,h,d){var g,j,c=[],b=[],m=k.timeline;if(k.baseOption&&(j=k.baseOption),(m||k.options)&&(j=j||{},c=(k.options||[]).slice()),k.media){j=j||{};var f=k.media;mQ(f,function(a){a&&a.option&&(a.query?b.push(a):g||(g=a))})}return j||(j=k),j.timeline||(j.timeline=m),mQ([j].concat(c).concat(aiu(b,function(a){return a.option})),function(a){mQ(h,function(i){i(a,d)})}),{baseOption:j,timelineOptions:c,mediaDefault:g,mediaList:b}}function aeM(d,f,g){var c={width:f,height:g,aspectratio:f/g},b=!0;return aiT(d,function(a,i){var k=i.match(LV);if(k&&k[1]&&k[2]){var j=k[1],h=k[2].toLowerCase();akl(c[h],a,j)||(b=!1)}}),b}function akl(a,b,c){return"min"===c?a>=b:"max"===c?b>=a:a===b}function abc(a,b){return a.join(",")===b.join(",")}function YK(a,b){b=b||{},mQ(b,function(f,g){if(null!=f){var d=a[g];if(akQ.hasClass(g)){f=sZ(f),d=sZ(d);var c=D6(d,f);a[g]=AV(c,function(e){return e.option&&e.exist?k8(e.exist,e.option,!0):e.exist||e.option})}else{a[g]=k8(d,f,!0)}}})}function W8(b){var f=b&&b.itemStyle;if(f){for(var h=0,a=wH.length;a>h;h++){var g=wH[h],d=f.normal,c=f.emphasis;d&&d[g]&&(b[g]=b[g]||{},b[g].normal?ai5(b[g].normal,d[g]):b[g].normal=d[g],d[g]=null),c&&c[g]&&(b[g]=b[g]||{},b[g].emphasis?ai5(b[g].emphasis,c[g]):b[g].emphasis=c[g],c[g]=null)}}}function acZ(d,f,g){if(d&&d[f]&&(d[f].normal||d[f].emphasis)){var c=d[f].normal,b=d[f].emphasis;c&&(g?(d[f].normal=d[f].emphasis=null,ain(d[f],c)):d[f]=c),b&&(d.emphasis=d.emphasis||{},d.emphasis[f]=b)}}function UB(a){acZ(a,"itemStyle"),acZ(a,"lineStyle"),acZ(a,"areaStyle"),acZ(a,"label"),acZ(a,"labelLine"),acZ(a,"upperLabel"),acZ(a,"edgeLabel")}function afk(d,f){var h=I7(d)&&d[f],c=I7(h)&&h.textStyle;if(c){for(var b=0,g=aeN.length;g>b;b++){var f=aeN[b];c.hasOwnProperty(f)&&(h[f]=c[f])}}}function ais(a){a&&(UB(a),afk(a,"label"),a.emphasis&&afk(a.emphasis,"label"))}function ahI(k){if(I7(k)){W8(k),UB(k),afk(k,"label"),afk(k,"upperLabel"),afk(k,"edgeLabel"),k.emphasis&&(afk(k.emphasis,"label"),afk(k.emphasis,"upperLabel"),afk(k.emphasis,"edgeLabel"));var h=k.markPoint;h&&(W8(h),ais(h));var d=k.markLine;d&&(W8(d),ais(d));var g=k.markArea;g&&ais(g);var j=k.data;if("graph"===k.type){j=j||k.nodes;var c=k.links||k.edges;if(c&&!ajQ(c)){for(var b=0;b<c.length;b++){ais(c[b])}}aiT(k.categories,function(a){UB(a)})}if(j&&!ajQ(j)){for(var b=0;b<j.length;b++){ais(j[b])}}var h=k.markPoint;if(h&&h.data){for(var m=h.data,b=0;b<m.length;b++){ais(m[b])}}var d=k.markLine;if(d&&d.data){for(var f=d.data,b=0;b<f.length;b++){ai9(f[b])?(ais(f[b][0]),ais(f[b][1])):ais(f[b])}}"gauge"===k.type?(afk(k,"axisLabel"),afk(k,"title"),afk(k,"detail")):"treemap"===k.type?(acZ(k.breadcrumb,"itemStyle"),aiT(k.levels,function(a){UB(a)})):"tree"===k.type&&UB(k.leaves)}}function agw(a){return ai9(a)?a:a?[a]:[]}function aaC(a){return(ai9(a)?a[0]:a)||{}}function afV(b,c){c=c.split(",");for(var d=b,a=0;a<c.length&&(d=d&&d[c[a]],null!=d);a++){}return d}function aco(d,g,j,c){g=g.split(",");for(var b,h=d,f=0;f<g.length-1;f++){b=g[f],null==h[b]&&(h[b]={}),h=h[b]}(c||null==h[g[f]])&&(h[g[f]]=j)}function S2(a){aiT(qY,function(b){b[0] in a&&!(b[1] in a)&&(a[b[1]]=a[b[0]])})}function OX(a){aiT(a,function(h,k){var d=[],c=[0/0,0/0],j=[h.stackResultDimension,h.stackedOverDimension],g=h.data,f=h.isStackedByIndex,b=g.map(j,function(i,q,x){var r=g.get(h.stackedDimension,x);if(isNaN(r)){return c}var w,v;f?v=g.getRawIndex(x):w=g.get(h.stackedByDimension,x);for(var t=0/0,e=k-1;e>=0;e--){var s=a[e];if(f||(v=s.data.rawIndexOf(s.stackedByDimension,w)),v>=0){var n=s.data.getByRawIndex(s.stackResultDimension,v);if(r>=0&&n>0||0>=r&&0>n){r+=n,t=n;break}}}return d[0]=r,d[1]=t,d});g.hostModel.setData(b),h.data=b})}function P8(d,f){q1.isInstance(d)||(d=q1.seriesDataToSource(d)),this._source=d;var g=this._data=d.data,c=d.sourceFormat;c===agv&&(this._offset=0,this._dimSize=f,this._data=g);var b=tU[c===ajr?c+"_"+d.seriesLayoutBy:c];aip(this,b)}function aH(){return this._data.length}function RJ(a){return this._data[a]}function ajt(a){for(var b=0;b<a.length;b++){this._data.push(a[b])}}function k9(a,b,c){return null!=c?a[c]:a}function tV(b,c,d,a){return zt(b[a],this._dimensionInfos[c])}function zt(b,c){var d=c&&c.type;if("ordinal"===d){var a=c&&c.ordinalMeta;return a?a.parseAndCollect(b):b}return"time"===d&&"number"!=typeof b&&null!=b&&"-"!==b&&(b=+abe(b)),null==b||""===b?0/0:+b}function jZ(d,h,k){if(d){var c=d.getRawDataItem(h);if(null!=c){var b,j,g=d.getProvider().getSource().sourceFormat,f=d.getDimensionInfo(k);return f&&(b=f.name,j=f.index),KJ[g](c,h,j,b)}}}function KK(d,f,g){if(d){var c=d.getProvider().getSource().sourceFormat;if(c===afU||c===aiq){var b=d.getRawDataItem(f);return c!==afU||ajq(b)||(b=null),b?b[g]:void 0}}}function GB(a){return new HX(a)}function HX(a){a=a||{},this._reset=a.reset,this._plan=a.plan,this._count=a.count,this._onDirty=a.onDirty,this._dirty=!0,this.context}function u6(d,f,h,c,b,g){B6.reset(h,c,b,g),d._callingProgress=f,d._callingProgress({start:h,end:c,count:c-h,next:B6.next},d.context)}function adA(d,f){d._dueIndex=d._outputDueEnd=d._dueEnd=0,d._settedOutputEnd=null;var g,c;!f&&d._reset&&(g=d._reset(d.context),g&&g.progress&&(c=g.forceFirstProgress,g=g.progress),ai9(g)&&!g.length&&(g=null)),d._progress=g,d._modBy=d._modDataCount=null;var b=d._downstream;return b&&b.dirty(),c}function pH(a){var b=a.name;Bq(a)||(a.name=qZ(a)||b)}function qZ(b){var c=b.getRawData(),d=c.mapDimension("seriesName",!0),a=[];return aiT(d,function(e){var f=c.getDimensionInfo(e);f.displayName&&a.push(f.displayName)}),a.join(" ")}function mU(a){return a.model.getRawData().count()}function NY(a){var b=a.model;return b.setData(b.getRawData().cloneShallow()),E2}function E2(a,b){a.end>b.outputData.count()&&b.model.getRawData().cloneShallow(b.outputData)}function sj(a,b){aiT(a.CHANGABLE_METHODS,function(c){a.wrapMethod(c,aie(I8,b))})}function I8(a){var b=g4(a);b&&b.setOutputEnd(this.count())}function g4(d){var f=(d.ecModel||{}).scheduler,g=f&&f.getPipeline(d.uid);if(g){var c=g.currentTask;if(c){var b=c.agentStubMap;b&&(c=b.get(d.uid))}return c}}function B7(){this.group=new jG,this.uid=eH("viewChart"),this.renderTask=GB({plan:AW,reset:b1}),this.renderTask.context={view:this}}function DJ(a,b){if(a&&(a.trigger(b),"group"===a.type)){for(var c=0;c<a.childCount();c++){DJ(a.childAt(c),b)}}}function fU(b,c,d){var a=dF(b,c);null!=a?aiT(sZ(a),function(f){DJ(b.getItemGraphicEl(f),d)}):b.eachItemGraphicEl(function(e){DJ(e,d)})}function AW(a){return x1(a.model)}function b1(k){var h=k.model,d=k.ecModel,g=k.api,j=k.payload,c=h.pipelineContext.progressiveRender,b=k.view,m=j&&aaB(j).updateMethod,f=c?"incrementalPrepareRender":m&&b[m]?m:"render";return"render"!==f&&b[f](h,d,g,j),zq[f]}function ej(y,p,g){function k(){m=(new Date).getTime(),v=null,y.apply(b,z||[])}var w,f,b,z,j,x=0,m=0,v=null;p=p||0;var q=function(){w=(new Date).getTime(),b=this,z=arguments;var a=j||p,c=j||g;j=null,f=w-(c?x:m)-a,clearTimeout(v),c?v=setTimeout(k,a):f>=0?k():v=setTimeout(k,-f),x=w};return q.clear=function(){v&&(clearTimeout(v),v=null)},q.debounceNextCall=function(a){j=a},q}function c0(d,h,k,c){var b=d[h];if(b){var j=b[pG]||b,g=b[ah9],f=b[X9];if(f!==k||g!==c){if(null==k||!c){return d[h]=j}b=d[h]=ej(j,k,"debounce"===c),b[pG]=j,b[ah9]=c,b[X9]=k}return b}}function aeb(a,b){var c=a[b];c&&c[pG]&&(a[b]=c[pG])}function iG(b,c,d,a){this.ecInstance=b,this.api=c,this.unfinished;var d=this._dataProcessorHandlers=d.slice(),a=this._visualHandlers=a.slice();this._allHandlers=d.concat(a),this._stageTaskMap=aj6()}function Z1(d,g,j,c,b){function h(a,i){return a.setDirty&&(!a.dirtyMap||a.dirtyMap.get(i.__pipeline.id))}b=b||{};var f;aiT(g,function(n){if(!b.visualType||b.visualType===n.visualType){var m=d._stageTaskMap.get(n.uid),a=m.seriesTaskMap,i=m.overallTask;if(i){var k,p=i.agentStubMap;p.each(function(e){h(b,e)&&(e.dirty(),k=!0)}),k&&i.dirty(),ad2(i,c);var o=d.getPerformArgs(i,b.block);p.each(function(e){e.perform(o)}),f|=i.perform(o)}else{a&&a.each(function(q){h(b,q)&&q.dirty();var e=d.getPerformArgs(q,b.block);e.skip=!n.performRawSeries&&j.isSeriesFiltered(q.context.model),ad2(q,c),f|=q.perform(e)})}}}),d.unfinished|=f}function wJ(m,h,d,g,j){function c(i){var e=i.uid,a=b.get(e)||b.set(e,GB({plan:abZ,reset:aeW,count:abo}));a.context={model:i,ecModel:g,api:j,useClearVisual:h.isVisual&&!h.isLayout,plan:h.plan,reset:h.reset,scheduler:m},Y3(m,i,a)}var b=d.seriesTaskMap||(d.seriesTaskMap=aj6()),p=h.seriesType,f=h.getTargetSeries;h.createOnAllSeries?g.eachRawSeries(c):p?g.eachRawSeriesByType(p,c):f&&f(g,j).each(c);var k=m._pipelineMap;b.each(function(a,i){k.get(i)||(a.dispose(),b.removeKey(i))})}function MF(y,p,g,k,w){function f(c){var d=c.uid,a=z.get(d);a||(a=z.set(d,GB({reset:n5,onDirty:ahj})),b.dirty()),a.context={model:c,overallProgress:m,modifyOutputEnd:v},a.agent=b,a.__block=m,Y3(y,c,a)}var b=g.overallTask=g.overallTask||GB({reset:x2});b.context={ecModel:k,api:w,overallReset:p.overallReset,scheduler:y};var z=b.agentStubMap=b.agentStubMap||aj6(),j=p.seriesType,x=p.getTargetSeries,m=!0,v=p.modifyOutputEnd;j?k.eachRawSeriesByType(j,f):x?x(k,w).each(f):(m=!1,aiT(k.getSeries(),f));var q=y._pipelineMap;z.each(function(a,c){q.get(c)||(a.dispose(),b.dirty(),z.removeKey(c))})}function x2(a){a.overallReset(a.ecModel,a.api,a.payload)}function n5(a){return a.overallProgress&&V9}function V9(){this.agent.dirty(),this.getDownstream().dirty()}function ahj(){this.agent&&this.agent.dirty()}function abZ(a){return a.plan&&a.plan(a.model,a.ecModel,a.api,a.payload)}function aeW(a){a.useClearVisual&&a.data.clearAllVisual();var b=a.resetDefines=sZ(a.reset(a.model,a.ecModel,a.api,a.payload));return b.length>1?aiu(b,function(c,d){return akx(d)}):WZ}function akx(a){return function(d,g){var c=g.data,b=g.resetDefines[a];if(b&&b.dataEach){for(var f=d.start;f<d.end;f++){b.dataEach(c,f)}}else{b&&b.progress&&b.progress(d,c)}}}function abo(a){return a.data.count()}function Y3(d,f,g){var c=f.uid,b=d._pipelineMap.get(c);!b.head&&(b.head=g),b.tail&&b.tail.pipe(g),b.tail=g,g.__idxInPipeline=b.count++,g.__pipeline=b}function XQ(a){agn=null;try{a(akc,ajb)}catch(b){}return agn}function adb(a,b){for(var c in b.prototype){a[c]=ajU}}function UY(a){if(ai2(a)){var b=new DOMParser;a=b.parseFromString(a,"text/xml")}for(9===a.nodeType&&(a=a.firstChild);"svg"!==a.nodeName.toLowerCase()||1!==a.nodeType;){a=a.nextSibling}return a}function afw(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}function aiL(d,f){for(var g=d.firstChild;g;){if(1===g.nodeType){var c=g.getAttribute("offset");c=c.indexOf("%")>0?parseInt(c,10)/100:c?parseFloat(c):0;var b=g.getAttribute("stop-color")||"#000000";f.addColorStop(c,b)}g=g.nextSibling}}function ahT(a,b){a&&a.__inheritedStyle&&(b.__inheritedStyle||(b.__inheritedStyle={}),ain(b.__inheritedStyle,a.__inheritedStyle))}function agI(d){for(var f=ajs(d).split(bU),h=[],c=0;c<f.length;c+=2){var b=parseFloat(f[c]),g=parseFloat(f[c+1]);h.push([b,g])}return h}function aaN(r,k,d,g){var p=k.__inheritedStyle||{},b="text"===k.type;if(1===r.nodeType&&(acA(r,k),aip(p,TF(r)),!g)){for(var v in nW){if(nW.hasOwnProperty(v)){var f=r.getAttribute(v);null!=f&&(p[nW[v]]=f)}}}var q=b?"textFill":"fill",j=b?"textStroke":"stroke";k.style=k.style||new ahJ;var m=k.style;null!=p.fill&&m.set(q,af7(p.fill,d)),null!=p.stroke&&m.set(j,af7(p.stroke,d)),aiT(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(a){var c="lineWidth"===a&&b?"textStrokeWidth":a;null!=p[a]&&m.set(c,parseFloat(p[a]))}),p.textBaseline&&"auto"!==p.textBaseline||(p.textBaseline="alphabetic"),"alphabetic"===p.textBaseline&&(p.textBaseline="bottom"),"start"===p.textAlign&&(p.textAlign="left"),"end"===p.textAlign&&(p.textAlign="right"),aiT(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(a){null!=p[a]&&m.set(a,p[a])}),p.lineDash&&(k.style.lineDash=ajs(p.lineDash).split(bU)),m[j]&&"none"!==m[j]&&(k[j]=!0),k.__inheritedStyle=p}function af7(d,f){var g=f&&d&&d.match(v8);if(g){var c=ajs(g[1]),b=f[c];return b}return d}function acA(d,h){var k=d.getAttribute("transform");if(k){k=k.replace(/,/g," ");var c=null,b=[];k.replace(BY,function(a,i,l){b.push(i,l)});for(var j=b.length-1;j>0;j-=2){var g=b[j],f=b[j-1];switch(c=c||aj1(),f){case"translate":g=ajs(g).split(bU),kK(c,c,[parseFloat(g[0]),parseFloat(g[1]||0)]);break;case"scale":g=ajs(g).split(bU),G7(c,c,[parseFloat(g[0]),parseFloat(g[1]||g[0])]);break;case"rotate":g=ajs(g).split(bU),Lq(c,c,parseFloat(g[0]));break;case"skew":g=ajs(g).split(bU),console.warn("Skew transform is not supported yet");break;case"matrix":var g=ajs(g).split(bU);c[0]=parseFloat(g[0]),c[1]=parseFloat(g[1]),c[2]=parseFloat(g[2]),c[3]=parseFloat(g[3]),c[4]=parseFloat(g[4]),c[5]=parseFloat(g[5])}}}h.setLocalTransform(c)}function TF(d){var f=d.getAttribute("style"),h={};if(!f){return h}var c={};mq.lastIndex=0;for(var b;null!=(b=mq.exec(f));){c[b[1]]=b[2]}for(var g in nW){nW.hasOwnProperty(g)&&null!=c[g]&&(h[nW[g]]=c[g])}return h}function O9(d,h,k){var c=h/d.width,b=k/d.height,j=Math.min(c,b),g=[j,j],f=[-(d.x+d.width/2)*j+h/2,-(d.y+d.height/2)*j+k/2];return{scale:g,position:f}}function QQ(a,b){var c=new afw;return c.parse(a,b)}function aW(a){return function(c,d,b){c=c&&c.toLowerCase(),adp.prototype[a].call(this,c,d,b)}}function R3(){adp.call(this)}function ajM(c,g,i){function b(a,j){return a.__prio-j.__prio}i=i||{},"string"==typeof g&&(g=ak0[g]),this.id,this.group,this._dom=c;var h="canvas",f=this._zr=p4(c,{renderer:i.renderer||h,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height});this._throttledZrFlush=ej(aic(f.flush,f),17);var g=aiO(g);g&&n4(g,!0),this._theme=g,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new VX;var d=this._api=CK(this);t3(afH,b),t3(X4,b),this._scheduler=new iG(this,d,X4,afH),adp.call(this,this._ecEventProcessor=new D3),this._messageCenter=new R3,this._initEvents(),this.resize=aic(this.resize,this),this._pendingActions=[],f.animation.on("frame",this._onframe,this),vK(f,this),aib(this)}function lV(d,h,k){var c,b=this._model,j=this._coordSysMgr.getCoordinateSystems();h=i4(b,h);for(var g=0;g<j.length;g++){var f=j[g];if(f[d]&&null!=(c=f[d](b,h,k))){return c}}}function t7(a){var b=a._model,c=a._scheduler;c.restorePipelines(b),c.prepareStageTasks(),adM(a,"component",b,c),adM(a,"chart",b,c),c.plan()}function zX(m,h,d,g,j){function c(a){a&&a.__alive&&a[h]&&a[h](a.__model,b,m._api,d)}var b=m._model;if(!g){return void aeD(m._componentsViews.concat(m._chartsViews),c)}var p={};p[g+"Id"]=d[g+"Id"],p[g+"Index"]=d[g+"Index"],p[g+"Name"]=d[g+"Name"];var f={mainType:g,query:p};j&&(f.subType=j);var k=d.excludeSeriesId;null!=k&&(k=aj6(sZ(k))),b&&b.eachComponent(f,function(a){k&&null!=k.get(a.id)||c(m["series"===g?"_chartsMap":"_componentsMap"][a.__viewId])},m)}function kj(b,c){var d=b._chartsMap,a=b._scheduler;c.eachSeries(function(e){a.updateStreamModes(e,d[e.__viewId])})}function K3(z,s){var j=z.type,m=z.escapeConnect,x=AB[j],b=x.actionInfo,k=(b.update||"update").split(":"),y=k.pop();k=null!=k[0]&&o7(k[0]),this[fq]=!0;var p=[z],w=!1;z.batch&&(w=!0,p=aiu(z.batch,function(a){return a=ain(aip({},a),z),a.batch=null,a}));var v,r=[],q="highlight"===j||"downplay"===j;aeD(p,function(a){v=x.action(a,this._model,this._api),v=v||aip({},a),v.type=b.event||v.type,r.push(v),q?zX(this,y,a,"series"):k&&zX(this,y,a,k.main,k.sub)},this),"none"===y||q||k||(this[afb]?(t7(this),y3.update.call(this,z),this[afb]=!1):y3[y].call(this,z)),v=w?{type:b.event||j,escapeConnect:m,batch:r}:r[0],this[fq]=!1,!s&&this._messageCenter.trigger(v.type,v)}function GZ(a){for(var b=this._pendingActions;b.length;){var c=b.shift();K3.call(this,c,a)}}function H9(a){!a&&this.trigger("updated")}function vK(a,b){a.on("rendered",function(){b.trigger("rendered"),!a.animation.isFinished()||b[afb]||b._scheduler.unfinished||b._pendingActions.length||b.trigger("finished")})}function adM(w,m,f,j){function q(l){var o="_ec_"+l.id+"_"+l.type,i=x[o];if(!i){var n=o7(l.type),r=d?d9.getClass(n.main,n.sub):B7.getClass(n.sub);i=new r,i.init(f,v),x[o]=i,b.push(i),g.add(i.group)}l.__viewId=i.__id=o,i.__alive=!0,i.__model=l,i.group.__ecComponentInfo={mainType:l.mainType,index:l.componentIndex},!d&&j.prepareView(i,l,f,v)}for(var d="component"===m,b=d?w._componentsViews:w._chartsViews,x=d?w._componentsMap:w._chartsMap,g=w._zr,v=w._api,k=0;k<b.length;k++){b[k].__alive=!1}d?f.eachComponent(function(a,c){"series"!==a&&q(c)}):f.eachSeries(q);for(var k=0;k<b.length;){var p=b[k];p.__alive?k++:(!d&&p.renderTask.dispose(),g.remove(p.group),p.dispose(f,v),b.splice(k,1),delete x[p.__id],p.__id=p.group.__ecComponentInfo=null)}}function p1(a){a.clearColorPalette(),a.eachSeries(function(b){b.clearColorPalette()})}function rq(b,c,d,a){m6(b,c,d,a),aeD(b._chartsViews,function(e){e.__alive=!1}),N4(b,c,d,a),aeD(b._chartsViews,function(e){e.__alive||e.remove(c,d)})}function m6(d,f,g,c,b){aeD(b||d._componentsViews,function(h){var e=h.__model;h.render(e,f,g,c),hH(e,h)})}function N4(d,g,j,c,b){var h,f=d._scheduler;g.eachSeries(function(i){var k=d._chartsMap[i.__viewId];k.__alive=!0;var a=k.renderTask;f.updatePayload(a,c),b&&b.get(i.uid)&&a.dirty(),h|=a.perform(f.getPerformArgs(a)),k.group.silent=!!i.get("silent"),hH(i,k),JQ(i,k)}),f.unfinished|=h,sW(d._zr,g),ak2(d._zr.dom,g)}function FF(a,b){aeD(acL,function(c){c(a,b)})}function sW(b,c){var d=b.storage,a=0;d.traverse(function(e){e.isGroup||a++}),a>c.get("hoverLayerThreshold")&&!B3.node&&d.traverse(function(e){e.isGroup||(e.useHoverLayer=!0)})}function JQ(a,b){var c=a.get("blendMode")||null;b.group.traverse(function(d){d.isGroup||d.style.blend!==c&&d.setStyle("blend",c),d.eachPendingDisplayable&&d.eachPendingDisplayable(function(e){e.setStyle("blend",c)})})}function hH(b,c){var d=b.get("z"),a=b.get("zlevel");c.group.traverse(function(e){"group"!==e.type&&(null!=d&&(e.z=d),null!=a&&(e.zlevel=a))})}function CK(a){var b=a._coordSysMgr;return aip(new n7(a),{getCoordinateSystems:aic(b.getCoordinateSystems,b),getComponentByElement:function(c){for(;c;){var d=c.__ecComponentInfo;if(null!=d){return a._model.getComponent(d.mainType,d.index)}c=c.parent}}})}function D3(){this.eventInfo}function f5(d){function f(j,k){for(var l=0;l<j.length;l++){var a=j[l];a[g]=k}}var h=0,c=1,b=2,g="__connectUpdateStatus";aeD(qJ,function(e,a){d._messageCenter.on(a,function(k){if(ZF[d.group]&&d[g]!==h){if(k&&k.escapeConnect){return}var j=d.makeActionFromEvent(k),i=[];aeD(aao,function(l){l!==d&&l.group===d.group&&i.push(l)}),f(i,h),aeD(i,function(l){l[g]!==c&&l.dispatchAction(j)}),f(i,b)}})})}function A8(d,f,g){var c=aen(d);if(c){return c}var b=new ajM(d,f,g);return b.id="ec_"+adX++,aao[b.id]=b,w6(d,agi,b.id),f5(b),b}function b7(a){if(ai9(a)){var b=a;a=null,aeD(b,function(c){null!=c.group&&(a=c.group)}),a=a||"g_"+WU++,aeD(b,function(c){c.group=a})}return ZF[a]=!0,a}function eV(a){ZF[a]=!1}function dq(a){"string"==typeof a?a=aao[a]:a instanceof ajM||(a=aen(a)),a instanceof ajM&&!a.isDisposed()&&a.dispose()}function aen(a){return aao[MW(a,agi)]}function i1(a){return aao[a]}function aad(a,b){ak0[a]=b}function w3(a){ah4.push(a)}function MU(a,b){akj(X4,a,b,LQ)}function yB(a){acL.push(a)}function oJ(b,c,d){"function"==typeof c&&(d=c,c="");var a=tt(b)?b.type:[b,b={event:c}][0];b.event=(b.event||a).toLowerCase(),c=b.event,xQ(k0.test(a)&&k0.test(c)),AB[a]||(AB[a]={action:d,actionInfo:b}),qJ[c]=a}function VV(a,b){VX.register(a,b)}function ag5(a){var b=VX.get(a);return b?b.getDimensionsInfo?b.getDimensionsInfo():b.dimensions.slice():void 0}function abL(a,b){akj(afH,a,b,EQ,"layout")}function aeK(a,b){akj(afH,a,b,h6,"visual")}function akj(d,f,h,c,b){(r1(f)||tt(f))&&(h=f,f=c);var g=iG.wrapStageHandler(h,b);return g.__prio=f,g.__raw=h,d.push(g),g}function aba(a,b){aca[a]=b}function YH(a){return akQ.extend(a)}function W6(a){return d9.extend(a)}function acX(a){return fQ.extend(a)}function Uq(a){return B7.extend(a)}function afi(a){aiy("createCanvas",a)}function aio(a,b,c){IZ.registerMap(a,b,c)}function ahG(a){var b=IZ.retrieveMap(a);return b&&b[0]&&{geoJson:b[0].geoJSON,specialAreas:b[0].specialAreas}}function agu(a){return a}function aaA(d,f,g,c,b){this._old=d,this._new=f,this._oldKeyGetter=g||agu,this._newKeyGetter=c||agu,this.context=b}function afT(d,h,k,c,b){for(var j=0;j<d.length;j++){var g="_ec_"+b[c](d[j],j),f=h[g];null==f?(k.push(g),h[g]=j):(f.length||(h[g]=f=[f]),f.push(j))}}function acm(m){var h={},d=h.encode={},g=aj6(),j=[],c=[];aiT(m.dimensions,function(o){var n=m.getDimensionInfo(o),i=n.coordDim;if(i){var a=d[i];d.hasOwnProperty(i)||(a=d[i]=[]),a[n.coordDimIndex]=o,n.isExtraCoord||(g.set(i,1),OV(n.type)&&(j[0]=o)),n.defaultTooltip&&c.push(o)}ahu.each(function(r,s){var q=d[s];d.hasOwnProperty(s)||(q=d[s]=[]);var l=n.otherDims[s];null!=l&&l!==!1&&(q[l]=n.name)})});var b=[],p={};g.each(function(l,n){var a=d[n];p[n]=a[0],b=b.concat(a)}),h.dataDimsOnCoord=b,h.encodeFirstDimNotExtra=p;var f=d.label;f&&f.length&&(j=f.slice());var k=d.tooltip;return k&&k.length?c=k.slice():c.length||(c=j.slice()),d.defaultedLabel=j,d.defaultedTooltip=c,h}function S0(a){return"category"===a?"ordinal":"time"===a?"time":"float"}function OV(a){return !("ordinal"===a||"time"===a)}function P6(a){return a._rawCount>65535?Q4:SF}function aG(a){var b=a.constructor;return b===Array?a.slice():new b(a)}function RG(a,b){aiT(bK.concat(b.__wrappedMethods||[]),function(c){b.hasOwnProperty(c)&&(a[c]=b[c])}),a.__wrappedMethods=b.__wrappedMethods,aiT(TZ,function(c){a[c]=aiO(b[c])}),a._calculationInfo=aip(b._calculationInfo)}function ajp(a){var b=a._invertedIndicesMap;aiT(b,function(g,d){var c=a._dimensionInfos[d],f=c.ordinalMeta;if(f){g=b[d]=new Q4(f.categories.length);for(var e=0;e<g.length;e++){g[e]=0/0}for(var e=0;e<a._count;e++){g[a.get(d,e)]=e}}})}function k7(m,h,d){var g;if(null!=h){var j=m._chunkSize,c=Math.floor(d/j),b=d%j,p=m.dimensions[h],f=m._storage[p][c];if(f){g=f[b];var k=m._dimensionInfos[p].ordinalMeta;k&&k.categories.length&&(g=k.categories[g])}}return g}function tQ(a){return a}function zj(a){return a<this._count&&a>=0?this._indices[a]:-1}function jX(a,b){var c=a._idList[b];return null==c&&(c=k7(a,a._idDimIdx,b)),null==c&&(c=adm+b),c}function KH(a){return ai9(a)||(a=[a]),a}function Gq(d,h){var k=d.dimensions,c=new akJ(aiu(k,d.getDimensionInfo,d),d.hostModel);RG(c,d);for(var b=c._storage={},j=d._storage,g=0;g<k.length;g++){var f=k[g];j[f]&&(aij(h,f)>=0?(b[f]=HV(j[f]),c._rawExtent[f]=u4(),c._extent[f]=null):b[f]=j[f])}return c}function HV(a){for(var b=new Array(a.length),c=0;c<a.length;c++){b[c]=aG(a[c])}return b}function u4(){return[1/0,-1/0]}function ady(z,H,C){function L(a,c,d){null!=ahu.get(c)?a.otherDims[c]=d:(a.coordDim=c,a.coordDimIndex=d,F.set(c,!0))}q1.isInstance(H)||(H=q1.seriesDataToSource(H)),C=C||{},z=(z||[]).slice();for(var B=(C.dimsDef||[]).slice(),E=aj6(C.encodeDef),s=aj6(),F=aj6(),K=[],J=pF(H,z,B,C.dimCount),A=0;J>A;A++){var G=B[A]=aip({},ajq(B[A])?B[A]:{name:B[A]}),D=G.name,r=K[A]={otherDims:{}};null!=D&&null==s.get(D)&&(r.name=r.displayName=D,s.set(D,A)),null!=G.type&&(r.type=G.type),null!=G.displayName&&(r.displayName=G.displayName)}E.each(function(a,c){if(a=sZ(a).slice(),1===a.length&&a[0]<0){return void E.set(c,!1)}var d=E.set(c,[]);aiT(a,function(g,e){ai2(g)&&(g=s.get(g)),null!=g&&J>g&&(d[e]=g,L(K[g],c,e))})});var i=0;aiT(z,function(c){var l,c,p,m;if(ai2(c)){l=c,c={}}else{l=c.name;var g=c.ordinalMeta;c.ordinalMeta=null,c=aiO(c),c.ordinalMeta=g,p=c.dimsDef,m=c.otherDims,c.name=c.coordDim=c.coordDimIndex=c.dimsDef=c.otherDims=null}var a=E.get(l);if(a!==!1){var a=sZ(a);if(!a.length){for(var d=0;d<(p&&p.length||1);d++){for(;i<K.length&&null!=K[i].coordDim;){i++}i<K.length&&a.push(i++)}}aiT(a,function(n,o){var e=K[n];if(L(ain(e,c),l,o),null==e.name&&p){var h=p[o];!ajq(h)&&(h={name:h}),e.name=e.displayName=h.name,e.defaultTooltip=h.defaultTooltip}m&&ain(e.otherDims,m)})}});var k=C.generateCoord,N=C.generateCoordCount,q=null!=N;N=k?N||1:0;for(var f=k||"value",j=0;J>j;j++){var r=K[j]=K[j]||{},b=r.coordDim;null==b&&(r.coordDim=qX(f,F,q),r.coordDimIndex=0,(!k||0>=N)&&(r.isExtraCoord=!0),N--),null==r.name&&(r.name=qX(r.coordDim,s)),null==r.type&&b2(H,j,r.name)&&(r.type="ordinal")}return K}function pF(d,f,g,c){var b=Math.max(d.dimensionsDetectCount||1,f.length,g.length,c||0);return aiT(f,function(a){var h=a.dimsDef;h&&(b=Math.max(b,h.length))}),b}function qX(b,c,d){if(d||null!=c.get(b)){for(var a=0;null!=c.get(b+a);){a++}b+=a}return c.set(b,!0),b}function mK(y,p,g){g=g||{};var k,w,f,b,z=g.byIndex,j=g.stackedCoordDimension,x=!(!y||!y.get("stack"));if(aiT(p,function(a,c){ai2(a)&&(p[c]=a={name:a}),x&&!a.isExtraCoord&&(z||k||!a.ordinalMeta||(k=a),w||"ordinal"===a.type||"time"===a.type||j&&j!==a.coordDim||(w=a))}),!w||z||k||(z=!0),w){f="__\x00ecstackresult",b="__\x00ecstackedover",k&&(k.createInvertedIndices=!0);var m=w.coordDim,v=w.type,q=0;aiT(p,function(a){a.coordDim===m&&q++}),p.push({name:f,coordDim:m,coordDimIndex:q,type:v,isExtraCoord:!0,isCalculationCoord:!0}),q++,p.push({name:b,coordDim:b,coordDimIndex:q,type:v,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:w&&w.name,stackedByDimension:k&&k.name,isStackedByIndex:z,stackedOverDimension:b,stackResultDimension:f}}function NX(a,b){return !!b&&b===a.getCalculationInfo("stackedDimension")}function E0(a,b){return NX(a,b)?a.getCalculationInfo("stackResultDimension"):b}function r8(y,p,g){g=g||{},q1.isInstance(y)||(y=q1.seriesDataToSource(y));var k,w=p.get("coordinateSystem"),f=VX.get(w),b=adC(p);b&&(k=aiu(b.coordSysDims,function(c){var d={name:c},h=b.axisMap.get(c);if(h){var a=h.get("type");d.type=S0(a)}return d})),k||(k=f&&(f.getDimensionsInfo?f.getDimensionsInfo():f.dimensions.slice())||["x","y"]);var z,j,x=BQ(y,{coordDimensions:k,generateCoord:g.generateCoord});b&&aiT(x,function(c,d){var h=c.coordDim,a=b.categoryAxisMap.get(h);a&&(null==z&&(z=d),c.ordinalMeta=a.getOrdinalMeta()),null!=c.otherDims.itemName&&(j=!0)}),j||null==z||(x[z].otherDims.itemName=0);var m=mK(p,x),v=new akJ(x,p);v.setCalculationInfo(m);var q=null!=z&&I6(y)?function(c,d,h,a){return a===z?h:this.defaultDimValueGetter(c,d,h,a)}:null;return v.hasItemOption=!1,v.initData(y,null,q),v}function I6(a){if(a.sourceFormat===afU){var b=g2(a.data||[]);return null!=b&&!ai9(hQ(b))}}function g2(a){for(var b=0;b<a.length&&null==a[b];){b++}return a[b]}function B5(a){this._setting=a||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function DG(a){this.categories=a.categories||[],this._needCollect=a.needCollect,this._deduplication=a.deduplication,this._map}function fK(a){return a._map||(a._map=aj6(a.categories))}function AU(a){return ajq(a)&&null!=a.value?a.value:a+""}function b0(k,h,d,g){var j={},c=k[1]-k[0],b=j.interval=ac1(c/h,!0);null!=d&&d>b&&(b=j.interval=d),null!=g&&b>g&&(b=j.interval=g);var m=j.intervalPrecision=d8(b),f=j.niceTickExtent=[J4(Math.ceil(k[0]/b)*b,m),J4(Math.floor(k[1]/b)*b,m)];return ad9(f,k),j}function d8(a){return VZ(a)+2}function cY(a,b,c){a[b]=Math.max(Math.min(a[b],c[1]),c[0])}function ad9(a,b){!isFinite(a[0])&&(a[0]=b[0]),!isFinite(a[1])&&(a[1]=b[1]),cY(a,0,b),cY(a,1,b),a[0]>a[1]&&(a[0]=a[1])}function iB(d,g,j,c){var b=[];if(!d){return b}var h=10000;g[0]<j[0]&&b.push(g[0]);for(var f=j[0];f<=j[1]&&(b.push(f),f=J4(f+d,c),f!==b[b.length-1]);){if(b.length>h){return[]}}return g[1]>(b.length?b[b.length-1]:j[1])&&b.push(g[1]),b}function ZZ(a){return a.get("stack")||rW+a.seriesIndex}function wG(a){return a.dim+a.index}function MB(m){var h=[],d=m.axis,g="axis0";if("category"===d.type){for(var j=d.getBandWidth(),c=0;c<m.count;c++){h.push(ain({bandWidth:j,axisKey:g,stackId:rW+c},m))}for(var b=WF(h),f=[],c=0;c<m.count;c++){var k=b[g][rW+c];k.offsetCenter=k.offset+k.width/2,f.push(k)}return f}}function x0(a,b){var c=[];return b.eachSeriesByType(a,function(d){ae1(d)&&!akC(d)&&c.push(d)}),c}function n3(a){var b=[];return aiT(a,function(p){var e=p.getData(),g=p.coordinateSystem,k=g.getBaseAxis(),d=k.getExtent(),c="category"===k.type?k.getBandWidth():Math.abs(d[1]-d[0])/e.count(),q=wX(p.get("barWidth"),c),f=wX(p.get("barMaxWidth"),c),m=p.get("barGap"),j=p.get("barCategoryGap");b.push({bandWidth:c,barWidth:q,barMaxWidth:f,barGap:m,barCategoryGap:j,axisKey:wG(k),stackId:ZZ(p)})}),WF(b)}function WF(a){var b={};aiT(a,function(q){var f=q.axisKey,j=q.bandWidth,m=b[f]||{bandWidth:j,remainedWidth:j,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},e=m.stacks;b[f]=m;var d=q.stackId;e[d]||m.autoWidthCount++,e[d]=e[d]||{width:0,maxWidth:0};var v=q.barWidth;v&&!e[d].width&&(e[d].width=v,v=Math.min(m.remainedWidth,v),m.remainedWidth-=v);var g=q.barMaxWidth;g&&(e[d].maxWidth=g);var p=q.barGap;null!=p&&(m.gap=p);var k=q.barCategoryGap;null!=k&&(m.categoryGap=k)});var c={};return aiT(b,function(x,n){c[n]={};var k=x.stacks,v=x.bandWidth,g=wX(x.categoryGap,v),f=wX(x.gap,1),y=x.remainedWidth,j=x.autoWidthCount,w=(y-g)/(j+(j-1)*f);w=Math.max(w,0),aiT(k,function(d){var h=d.maxWidth;h&&w>h&&(h=Math.min(h,y),d.width&&(h=Math.min(h,d.width)),y-=h,d.width=h,j--)}),w=(y-g)/(j+(j-1)*f),w=Math.max(w,0);var m,q=0;aiT(k,function(d){d.width||(d.width=w),m=d,q+=d.width*(1+f)}),m&&(q-=m.width*f);var p=-q/2;aiT(k,function(e,d){c[n][d]=c[n][d]||{offset:p,width:e.width},p+=e.width*(1+f)})}),c}function aho(b,c,d){if(b&&c){var a=b[wG(c)];return null!=a&&null!=d&&(a=a[ZZ(d)]),a}}function ab4(d,f){var g=x0(d,f),c=n3(g),b={};aiT(g,function(E){var U=E.getData(),L=E.coordinateSystem,K=L.getBaseAxis(),G=ZZ(E),F=c[wG(K)][G],O=F.offset,D=F.width,P=L.getOtherAxis(K),W=E.get("barMinHeight")||0;b[G]=b[G]||[],U.setLayout({offset:O,size:D});for(var V=U.mapDimension(P.dim),R=U.mapDimension(K.dim),J=NX(U,V),Q=P.isHorizontal(),N=abt(K,P,J),C=0,k=U.count();k>C;C++){var z=U.get(V,C),Y=U.get(R,C);if(!isNaN(z)){var B=z>=0?"p":"n",X=N;J&&(b[G][Y]||(b[G][Y]={p:N,n:N}),X=b[G][Y][B]);var i,j,q,a;if(Q){var H=L.dataToPoint([z,Y]);i=X,j=H[1]+O,q=H[0]-N,a=D,Math.abs(q)<W&&(q=(0>q?-1:1)*W),J&&(b[G][Y][B]+=q)}else{var H=L.dataToPoint([Y,z]);i=H[0]+O,j=X,q=D,a=H[1]-N,Math.abs(a)<W&&(a=(0>=a?-1:1)*W),J&&(b[G][Y][B]+=a)}U.setItemLayout(C,{x:i,y:j,width:q,height:a})}}},this)}function ae1(a){return a.coordinateSystem&&"cartesian2d"===a.coordinateSystem.type}function akC(a){return a.pipelineContext&&a.pipelineContext.large}function abt(d,f){var h,c,b=f.getGlobalExtent();b[0]>b[1]?(h=b[1],c=b[0]):(h=b[0],c=b[1]);var g=f.toGlobalCoord(f.dataToCoord(0));return h>g&&(g=h),g>c&&(g=c),g}function Y8(a,b){return aaY(a,kV(b))}function XY(E,z){var k,w,C,j=E.type,b=z.getMin(),F=z.getMax(),v=null!=b,D=null!=F,x=E.getExtent();"ordinal"===j?k=z.getCategories().length:(w=z.get("boundaryGap"),ai9(w)||(w=[w||0,w||0]),"boolean"==typeof w[0]&&(w=[0,0]),w[0]=wX(w[0],1),w[1]=wX(w[1],1),C=x[1]-x[0]||Math.abs(x[0])),null==b&&(b="ordinal"===j?k?0:0/0:x[0]-w[0]*C),null==F&&(F="ordinal"===j?k?k-1:0/0:x[1]+w[1]*C),"dataMin"===b?b=x[0]:"function"==typeof b&&(b=b({min:x[0],max:x[1]})),"dataMax"===F?F=x[1]:"function"==typeof F&&(F=F({min:x[0],max:x[1]})),(null==b||!isFinite(b))&&(b=0/0),(null==F||!isFinite(F))&&(F=0/0),E.setBlank(aka(b)||aka(F)||"ordinal"===j&&!E.getOrdinalMeta().categories.length),z.getNeedCrossZero()&&(b>0&&F>0&&!v&&(b=0),0>b&&0>F&&!D&&(F=0));var B=z.ecModel;if(B&&"time"===j){var A,f=x0("bar",B);if(aiT(f,function(a){A|=a.getBaseAxis()===z.axis}),A){var y=n3(f),q=adg(b,F,z,y);b=q.min,F=q.max}}return[b,F]}function adg(y,p,g,k){var w=g.axis.getExtent(),f=w[1]-w[0],b=aho(k,g.axis);if(void 0===b){return{min:y,max:p}}var z=1/0;aiT(b,function(a){z=Math.min(a.offset,z)});var j=-1/0;aiT(b,function(a){j=Math.max(a.offset+a.width,j)}),z=Math.abs(z),j=Math.abs(j);var x=z+j,m=p-y,v=1-(z+j)/f,q=m/v-m;return p+=q*(j/x),y-=q*(z/x),{min:y,max:p}}function U3(d,h){var k=XY(d,h),c=null!=h.getMin(),b=null!=h.getMax(),j=h.get("splitNumber");"log"===d.type&&(d.base=h.get("logBase"));var g=d.type;d.setExtent(k[0],k[1]),d.niceExtent({splitNumber:j,fixMin:c,fixMax:b,minInterval:"interval"===g||"time"===g?h.get("minInterval"):null,maxInterval:"interval"===g||"time"===g?h.get("maxInterval"):null});var f=h.get("interval");null!=f&&d.setInterval&&d.setInterval(f)}function afB(a,b){if(b=b||a.get("type")){switch(b){case"category":return new IU(a.getOrdinalMeta?a.getOrdinalMeta():a.getCategories(),[1/0,-1/0]);case"value":return new aey;default:return(B5.getClass(b)||aey).create(a)}}}function aiU(b){var c=b.scale.getExtent(),d=c[0],a=c[1];return !(d>0&&a>0||0>d&&0>a)}function ahY(a){var b=a.getLabelModel().get("formatter"),c="category"===a.type?a.scale.getExtent()[0]:null;return"string"==typeof b?b=function(d){return function(e){return e=a.scale.getLabel(e),d.replace("{value}",null!=e?e:"")}}(b):"function"==typeof b?function(e,d){return null!=c&&(d=e-c),b(agN(a,e),d)}:function(d){return a.scale.getLabel(d)}}function agN(a,b){return"category"===a.type?a.scale.getLabel(b):b}function aaS(E){var z=E.model,m=E.scale;if(z.get("axisLabel.show")&&!m.isBlank()){var v,C,k="category"===E.type,b=m.getExtent();k?C=m.count():(v=m.getTicks(),C=v.length);var F,q=E.getLabelModel(),D=ahY(E),w=1;C>40&&(w=Math.ceil(C/40));for(var B=0;C>B;B+=w){var A=v?v[B]:b[0]+B,y=D(A),j=q.getTextRect(y),x=agc(j,q.get("rotate")||0);F?F.union(x):F=x}return F}}function agc(k,h){var d=h*Math.PI/180,g=k.plain(),j=g.width,c=g.height,b=j*Math.cos(d)+c*Math.sin(d),m=j*Math.sin(d)+c*Math.cos(d),f=new acw(g.x,g.y,b,m);return f}function acF(b,c){if("image"!==this.type){var d=this.style,a=this.shape;a&&"line"===a.symbolType?d.stroke=b:this.__isEmptyBrush?(d.stroke=b,d.fill=c||"#fff"):(d.fill&&(d.fill=b),d.stroke&&(d.stroke=b)),this.dirty(!1)}}function TQ(k,h,d,g,j,c,b){var m=0===k.indexOf("empty");m&&(k=k.substr(5,1).toLowerCase()+k.substr(6));var f;return f=0===k.indexOf("image://")?o6(k.slice(8),new acw(h,d,g,j),b?"center":"cover"):0===k.indexOf("path://")?y2(k.slice(7),{},new acw(h,d,g,j),b?"center":"cover"):new WW({shape:{symbolType:k,x:h,y:d,width:g,height:j}}),f.__isEmptyBrush=m,f.setColor=acF,f.setColor(c),f}function PF(a){return r8(a.getSource(),a)}function QY(b,c){var d=c;f0.isInstance(c)||(d=new f0(c),aiZ(d,ah6));var a=afB(d);return a.setExtent(b[0],b[1]),U3(a,d),a}function aZ(a){aiZ(a,ah6)}function R8(a,b){return Math.abs(a-b)<ai7}function ajV(d,h,k){var c=0,b=d[0];if(!b){return !1}for(var j=1;j<d.length;j++){var g=d[j];c+=v7(b[0],b[1],g[0],g[1],h,k),b=g}var f=d[0];return R8(b[0],f[0])&&R8(b[1],f[1])||(c+=v7(b[0],b[1],f[0],f[1],h,k)),0!==c}function l0(b,c,d){if(this.name=b,this.geometries=c,d){d=[d[0],d[1]]}else{var a=this.getBoundingRect();d=[a.x+a.width/2,a.y+a.height/2]}this.center=d}function ut(w){if(!w.UTF8Encoding){return w}var m=w.UTF8Scale;null==m&&(m=1024);for(var f=w.features,j=0;j<f.length;j++){for(var q=f[j],d=q.geometry,b=d.coordinates,x=d.encodeOffsets,g=0;g<b.length;g++){var v=b[g];if("Polygon"===d.type){b[g]=z2(v,x[g],m)}else{if("MultiPolygon"===d.type){for(var k=0;k<v.length;k++){var p=v[k];v[k]=z2(p,x[g][k],m)}}}}}return w.UTF8Encoding=!1,w}function z2(k,h,d){for(var g=[],j=h[0],c=h[1],b=0;b<k.length;b+=2){var m=k.charCodeAt(b)-64,f=k.charCodeAt(b+1)-64;m=m>>1^-(1&m),f=f>>1^-(1&f),m+=j,f+=c,j=m,c=f,g.push([m/d,f/d])}return g}function kG(a){return"category"===a.type?G4(a):adR(a)}function K8(a,b){return"category"===a.type?vX(a,b):{ticks:a.scale.getTicks()}}function G4(a){var b=a.getLabelModel(),c=IF(a,b);return !b.get("show")||a.scale.isBlank()?{labels:[],labelCategoryInterval:c.labelCategoryInterval}:c}function IF(d,g){var j=p6(d,"labels"),c=CX(g),b=rH(j,c);if(b){return b}var h,f;return aif(c)?h=hV(d,c):(f="auto"===c?N7(d):c,h=JY(d,f)),nq(j,c,{labels:h,labelCategoryInterval:f})}function vX(d,h){var k=p6(d,"ticks"),c=CX(h),b=rH(k,c);if(b){return b}var j,g;if((!h.get("show")||d.scale.isBlank())&&(j=[]),aif(c)){j=hV(d,c,!0)}else{if("auto"===c){var f=IF(d,d.getLabelModel());g=f.labelCategoryInterval,j=aiu(f.labels,function(a){return a.tickValue})}else{g=c,j=JY(d,g,!0)}}return nq(k,c,{ticks:j,tickCategoryInterval:g})}function adR(a){var b=a.scale.getTicks(),c=ahY(a);return{labels:aiu(b,function(f,d){return{formattedLabel:c(f,d),rawLabel:a.scale.getLabel(f),tickValue:f}})}}function p6(a,b){return abB(a)[b]||(abB(a)[b]=[])}function rH(a,b){for(var c=0;c<a.length;c++){if(a[c].key===b){return a[c].value}}}function nq(a,b,c){return a.push({key:b,value:c}),c}function N7(a){var b=abB(a).autoInterval;return null!=b?b:abB(a).autoInterval=a.calculateCategoryInterval()}function FQ(B){var N=s1(B),G=ahY(B),J=(N.axisRotate-N.labelRotate)/180*Math.PI,R=B.scale,F=R.getExtent(),D=R.count();if(F[1]-F[0]<1){return 0}var C=1;D>40&&(C=Math.max(1,Math.floor(D/40)));for(var I=F[0],A=B.dataToCoord(I+1)-B.dataToCoord(I),K=Math.abs(A*Math.cos(J)),P=Math.abs(A*Math.sin(J)),O=0,M=0;I<=F[1];I+=C){var E=0,L=0,H=N2(G(I),N.font,"center","top");E=1.3*H.width,L=1.3*H.height,O=Math.max(O,E,7),M=Math.max(M,L,7)}var z=O/K,j=M/P;isNaN(z)&&(z=1/0),isNaN(j)&&(j=1/0);var k=Math.max(0,Math.floor(Math.min(z,j))),S=abB(B.model),q=S.lastAutoInterval,Q=S.lastTickCount;return null!=q&&null!=Q&&Math.abs(q-k)<=1&&Math.abs(Q-D)<=1&&q>k?k=q:(S.lastTickCount=D,S.lastAutoInterval=k),k}function s1(a){var b=a.getLabelModel();return{axisRotate:a.getRotate?a.getRotate():a.isHorizontal&&!a.isHorizontal()?90:0,labelRotate:b.get("rotate")||0,font:b.getFont()}}function JY(A,v,j){function m(a){k.push(j?a:{formattedLabel:y(a),rawLabel:g.getLabel(a),tickValue:a})}var y=ahY(A),g=A.scale,b=g.getExtent(),B=A.getLabelModel(),k=[],z=Math.max((v||0)+1,1),p=b[0],x=g.count();0!==p&&z>1&&x/z>2&&(p=Math.round(Math.ceil(p/z)*z));var w={min:B.get("showMinLabel"),max:B.get("showMaxLabel")};w.min&&p!==b[0]&&m(b[0]);for(var q=p;q<=b[1];q+=z){m(q)}return w.max&&q!==b[1]&&m(b[1]),k}function hV(d,f,h){var c=d.scale,b=ahY(d),g=[];return aiT(c.getTicks(),function(a){var e=c.getLabel(a);f(a,e)&&g.push(h?a:{formattedLabel:b(a),rawLabel:e,tickValue:a})}),g}function CX(a){var b=a.get("interval");return null==b?"auto":b}function D8(d,f){var g=d[1]-d[0],c=f,b=g/c/2;d[0]+=b,d[1]-=b}function gj(q,k,d,g,m){function c(a,h){return j?a>h:h>a}var b=k.length;if(q.onBand&&!g&&b){var v,f=q.getExtent();if(1===b){k[0].coord=f[0],v=k[1]={coord:f[0]}}else{var p=k[1].coord-k[0].coord;aiT(k,function(a){a.coord-=p/2;var h=h||0;h%2>0&&(a.coord-=p/(2*(h+1)))}),v={coord:k[b-1].coord+p},k.push(v)}var j=f[0]>f[1];c(k[0].coord,f[0])&&(m?k[0].coord=f[0]:k.shift()),m&&c(f[0],k[0].coord)&&k.unshift({coord:f[0]}),c(f[1],v.coord)&&(m?v.coord=f[1]:k.pop()),m&&c(v.coord,f[1])&&k.push({coord:f[1]})}}function BB(a){return this._axes[a]}function cj(a){bQ.call(this,a)}function e0(a,b){return b.type||(b.data?"category":"value")}function dH(a,b){return a.getCoordSysModel()===b}function aes(a,b,c){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(a,b,c),this.model=a}function i6(q,k,d,g){function m(a){return a.dim+"_"+a.index}d.getAxesOnZeroOf=function(){return c?[c]:[]};var c,b=q[k],v=d.model,f=v.get("axisLine.onZero"),p=v.get("axisLine.onZeroAxisIndex");if(f){if(null!=p){aai(b[p])&&(c=b[p])}else{for(var j in b){if(b.hasOwnProperty(j)&&aai(b[j])&&!g[m(b[j])]){c=b[j];break}}}c&&(g[m(c)]=!0)}}function aai(a){return a&&"category"!==a.type&&"time"!==a.type&&aiU(a)}function w8(b,c){var d=b.getExtent(),a=d[0]+d[1];b.toGlobalCoord="x"===b.dim?function(e){return e+c}:function(e){return a-e+c},b.toLocalCoord="x"===b.dim?function(e){return e-c}:function(e){return a-e+c}}function MX(a){return aiu(J6,function(b){var c=a.getReferringComponents(b)[0];return c})}function yK(a){return"cartesian2d"===a.get("coordinateSystem")}function oW(d,g){var j=d.mapDimension("defaultedLabel",!0),c=j.length;if(1===c){return jZ(d,g,j[0])}if(c){for(var b=[],h=0;h<j.length;h++){var f=jZ(d,g,j[h]);b.push(f)}return b.join(" ")}}function WV(d,h,k,c,b,j){var g=k.getModel("label"),f=k.getModel("emphasis.label");ajD(d,h,g,f,{labelFetcher:b,labelDataIndex:j,defaultText:oW(b.getData(),j),isRectText:!0,autoColor:c}),ahv(d),ahv(h)}function ahv(a,b){"outside"===a.textPosition&&(a.textPosition=b)}function acb(a,b,c){c.style.text=null,q5(c,{shape:{width:0}},b,a,function(){c.parent&&c.parent.remove(c)})}function ae7(a,b,c){c.style.text=null,q5(c,{shape:{r:c.shape.r0}},b,a,function(){c.parent&&c.parent.remove(c)})}function akK(B,w,k,q,z,j,b,m){var A=w.getItemVisual(k,"color"),s=w.getItemVisual(k,"opacity"),y=q.getModel("itemStyle"),x=q.getModel("emphasis.itemStyle").getBarItemStyle();m||B.setShape("r",y.get("barBorderRadius")||0),B.useStyle(ain({fill:A,opacity:s},y.getBarItemStyle()));var v=q.getShallow("cursor");v&&B.attr("cursor",v);var g=b?z.height>0?"bottom":"top":z.width>0?"left":"right";m||WV(B.style,x,q,A,j,k,g),aQ(B,x)}function abA(a,b){var c=a.get(s9)||0;return Math.min(c,Math.abs(b.width),Math.abs(b.height))}function ZG(d,g,j){var c=d.getData(),b=[],h=c.getLayout("valueAxisHorizontal")?1:0;b[1-h]=c.getLayout("valueAxisStart");var f=new Ht({shape:{points:c.getLayout("largePoints")},incremental:!!j,__startPoint:b,__valueIdx:h});g.add(f),X5(f,d,c)}function X5(d,f,g){var c=g.getVisual("borderColor")||g.getVisual("color"),b=f.getModel("itemStyle").getItemStyle(["color","borderColor"]);d.useStyle(b),d.style.fill=null,d.style.stroke=c,d.style.lineWidth=g.getLayout("barWidth")}function adn(a){var b={componentType:a.mainType,componentIndex:a.componentIndex};return b[a.mainType+"Index"]=a.componentIndex,b}function Vj(k,h,d,g){var j,c,b=aeO(d-k.rotation),m=g[0]>g[1],f="start"===h&&!m||"start"!==h&&m;return akn(b-uU/2)?(c=f?"bottom":"top",j="center"):akn(b-1.5*uU)?(c=f?"top":"bottom",j="center"):(c="middle",j=1.5*uU>b&&b>uU/2?f?"left":"right":f?"right":"left"),{rotation:b,textAlign:j,textVerticalAlign:c}}function afI(a){var b=a.get("tooltip");return a.get("silent")||!(a.get("triggerEvent")||b&&b.show)}function ai6(y,p,g){var k=y.get("axisLabel.showMinLabel"),w=y.get("axisLabel.showMaxLabel");p=p||[],g=g||[];var f=p[0],b=p[1],z=p[p.length-1],j=p[p.length-2],x=g[0],m=g[1],v=g[g.length-1],q=g[g.length-2];k===!1?(ah5(f),ah5(x)):agU(f,b)&&(k?(ah5(b),ah5(m)):(ah5(f),ah5(x))),w===!1?(ah5(z),ah5(v)):agU(j,z)&&(w?(ah5(j),ah5(q)):(ah5(z),ah5(v)))}function ah5(a){a&&(a.ignore=!0)}function agU(d,f){var g=d&&d.getBoundingRect().clone(),c=f&&f.getBoundingRect().clone();if(g&&c){var b=l3([]);return Lq(b,b,-d.rotation),g.applyTransform(z5([],b,d.getLocalTransform())),c.applyTransform(z5([],b,f.getLocalTransform())),g.intersect(c)}}function aaZ(a){return"middle"===a||"center"===a}function agj(D,y,m){var s=y.axis;if(y.get("axisTick.show")&&!s.scale.isBlank()){for(var B=y.getModel("axisTick"),k=B.getModel("lineStyle"),b=B.get("length"),q=s.getTicksCoords(),C=[],v=[],A=D._transform,z=[],x=0;x<q.length;x++){var j=q[x].coord;C[0]=j,C[1]=0,v[0]=j,v[1]=m.tickDirection*b,A&&(abw(C,C,A),abw(v,v,A));var w=new adf(abT({anid:"tick_"+q[x].tickValue,shape:{x1:C[0],y1:C[1],x2:v[0],y2:v[1]},style:ain(k.getLineStyle(),{stroke:y.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));D.group.add(w),z.push(w)}return z}}function acM(A,v,j){var m=v.axis,y=aj0(j.axisLabelShow,v.get("axisLabel.show"));if(y&&!m.scale.isBlank()){var g=v.getModel("axisLabel"),b=g.get("margin"),B=m.getViewLabels(),k=(aj0(j.labelRotate,g.get("rotate"))||0)*uU/180,z=EH(j.rotation,k,j.labelDirection),q=v.getCategories(!0),x=[],w=afI(v),f=v.get("triggerEvent");return aiT(B,function(o,t){var d=o.tickValue,h=o.formattedLabel,e=o.rawLabel,c=g;q&&q[d]&&q[d].textStyle&&(c=new f0(q[d].textStyle,g,v.ecModel));var r=c.getTextColor()||v.get("axisLine.lineStyle.color"),i=m.dataToCoord(d),n=[i,j.labelOffset+j.labelDirection*b],p=new ab3({anid:"label_"+d,position:n,rotation:z.rotation,silent:w,z2:10});lG(p.style,c,{text:h,textAlign:c.getShallow("align",!0)||z.textAlign,textVerticalAlign:c.getShallow("verticalAlign",!0)||c.getShallow("baseline",!0)||z.textVerticalAlign,textFill:"function"==typeof r?r("category"===m.type?e:"value"===m.type?d+"":d,t):r}),f&&(p.eventData=adn(v),p.eventData.targetType="axisLabel",p.eventData.value=e),A._dumbGroup.add(p),p.updateTransform(),x.push(p),A.group.add(p),p.decomposeTransform()}),x}}function T0(a,b){var c={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return PV(c,a,b),c.seriesInvolved&&a4(c,a),c}function PV(d,g,j){var c=g.getComponent("tooltip"),b=g.getComponent("axisPointer"),h=b.get("link",!0)||[],f=[];F1(j.getCoordinateSystems(),function(e){function t(x,F,w){var z=w.model.getModel("axisPointer",b),C=z.get("show");if(C&&("auto"!==C||x||kW(z))){null==F&&(F=z.get("triggerTooltip")),z=x?Q5(w,q,b,g,x,F):z;var B=z.get("snap"),n=LG(w.model),A=F||B||"category"===w.type,u=d.axesInfo[n]={key:n,axis:w,coordSys:e,axisPointerModel:z,triggerTooltip:F,involveSeries:A,snap:B,useHandle:kW(z),seriesModels:[]};r[n]=u,d.seriesInvolved|=A;var E=SG(h,w);if(null!=E){var D=f[E]||(f[E]={axesInfo:{}});D.axesInfo[n]=u,D.mapper=h[E].mapper,u.linkGroup=D}}}if(e.axisPointerEnabled){var i=LG(e.model),r=d.coordSysAxesInfo[i]={};d.coordSysMap[i]=e;var k=e.model,q=k.getModel("tooltip",c);if(F1(e.getAxes(),h3(t,!1,null)),e.getTooltipAxes&&c&&q.get("show")){var o="axis"===q.get("trigger"),m="cross"===q.get("axisPointer.type"),a=e.getTooltipAxes(q.get("axisPointer.axis"));(o||m)&&F1(a.baseAxes,h3(t,m?"cross":!0,o)),m&&F1(a.otherAxes,h3(t,"cross",!1))}}})}function Q5(v,k,g,q,f,b){var i=k.getModel("axisPointer"),s={};F1(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(a){s[a]=aiO(i.get(a))}),s.snap="category"!==v.type&&!!b,"cross"===i.get("type")&&(s.type="line");var j=s.label||(s.label={});if(null==j.show&&(j.show=!1),"cross"===f){var p=i.get("label.show");if(j.show=null!=p?p:!0,!b){var m=s.lineStyle=i.get("crossStyle");m&&ain(j,m.textStyle)}}return v.model.getModel("axisPointer",new f0(s,g,q))}function a4(a,b){b.eachSeries(function(f){var g=f.coordinateSystem,d=f.get("tooltip.trigger",!0),c=f.get("tooltip.show",!0);g&&"none"!==d&&d!==!1&&"item"!==d&&c!==!1&&f.get("axisPointer.show",!0)!==!1&&F1(a.coordSysAxesInfo[LG(g.model)],function(h){var e=h.axis;g.getAxis(e.dim)===e&&(h.seriesModels.push(f),null==h.seriesDataCount&&(h.seriesDataCount=0),h.seriesDataCount+=f.getData().count())})},this)}function SG(d,f){for(var h=f.model,c=f.dim,b=0;b<d.length;b++){var g=d[b]||{};if(aj7(g[c+"AxisId"],h.id)||aj7(g[c+"AxisIndex"],h.componentIndex)||aj7(g[c+"AxisName"],h.name)){return b}}}function aj7(a,b){return"all"===a||ai9(a)&&aij(a,b)>=0||a===b}function l7(k){var h=uQ(k);if(h){var d=h.axisPointerModel,g=h.axis.scale,j=d.option,c=d.get("status"),b=d.get("value");null!=b&&(b=g.parse(b));var m=kW(d);null==c&&(j.status=m?"show":"hide");var f=g.getExtent().slice();f[0]>f[1]&&f.reverse(),(null==b||b>f[1])&&(b=f[1]),b<f[0]&&(b=f[0]),j.value=b,m&&(j.status=h.axis.scale.isBlank()?"hide":"show")}}function uQ(a){var b=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return b&&b.axesInfo[LG(a)]}function z9(a){var b=uQ(a);return b&&b.axisPointerModel}function kW(a){return !!a.get("handle.show")}function LG(a){return a.type+"||"+a.id}function Hq(d,h,k,c,b,j){var g=C5.getAxisPointerClass(d.axisPointerClass);if(g){var f=z9(h);f?(d._axisPointer||(d._axisPointer=new g)).render(h,f,c,j):IV(d,c)}}function IV(b,c,d){var a=b._axisPointer;a&&a.dispose(c,d),b._axisPointer=null}function v4(k,G,z){z=z||{};var C=k.coordinateSystem,J=G.axis,y={},w=J.getAxesOnZeroOf()[0],q=J.position,B=w?"onZero":q,j=J.dim,D=C.getRect(),I=[D.x,D.x+D.width,D.y,D.y+D.height],H={left:0,right:1,top:0,bottom:1,onZero:2},F=G.get("offset")||0,x="x"===j?[I[2]-F,I[3]+F]:[I[0]-F,I[1]+F];if(w){var E=w.toGlobalCoord(w.dataToCoord(0));x[H.onZero]=Math.max(Math.min(E,x[1]),x[0])}y.position=["y"===j?x[H[B]]:I[0],"x"===j?x[H[B]]:I[3]],y.rotation=Math.PI/2*("x"===j?0:1);var A={top:-1,bottom:1,left:-1,right:1};y.labelDirection=y.tickDirection=y.nameDirection=A[q],y.labelOffset=w?x[H[q]]-x[H.onZero]:0,G.get("axisTick.inside")&&(y.tickDirection=-y.tickDirection),aj0(z.labelInside,G.get("axisLabel.inside"))&&(y.labelDirection=-y.labelDirection);var b=G.get("axisLabel.rotate");return y.labelRotate="top"===B?-b:b,y.z2=1,y}function adY(a,b,c){jG.call(this),this.updateData(a,b,c)}function qB(a){return[a[0]/2,a[1]/2]}function rX(a,b){this.parent.drift(a,b)}function nK(){!af1(this)&&F0.call(this)}function Ot(){!af1(this)&&s8.call(this)}function F0(){if(!this.incremental&&!this.useHoverLayer){var a=this.__symbolOriginalScale,b=a[1]/a[0];this.animateTo({scale:[Math.max(1.1*a[0],a[0]+3),Math.max(1.1*a[1],a[1]+3*b)]},400,"elasticOut")}}function s8(){this.incremental||this.useHoverLayer||this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}function J5(a){this.group=new jG,this._symbolCtor=a||adY}function h2(b,c,d,a){return !(!c||isNaN(c[0])||isNaN(c[1])||a.isIgnore&&a.isIgnore(d)||a.clipShape&&!a.clipShape.contain(c[0],c[1])||"none"===b.getItemVisual(d,"symbol"))}function C4(a){return null==a||ajq(a)||(a={isIgnore:a}),a||{}}function EG(a){var b=a.hostModel;return{itemStyle:b.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:b.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:b.get("symbolRotate"),symbolOffset:b.get("symbolOffset"),hoverAnimation:b.get("hoverAnimation"),labelModel:b.getModel("label"),hoverLabelModel:b.getModel("emphasis.label"),cursorStyle:b.get("cursor")}}function gJ(A,v,j){var m,y=A.getBaseAxis(),g=A.getOtherAxis(y),b=BU(g,j),B=y.dim,k=g.dim,z=v.mapDimension(k),p=v.mapDimension(B),x="x"===k||"radius"===k?1:0,w=aiu(A.dimensions,function(a){return v.mapDimension(a)}),q=v.getCalculationInfo("stackResultDimension");return(m|=NX(v,w[0]))&&(w[0]=q),(m|=NX(v,w[1]))&&(w[1]=q),{dataDimsForPoint:w,valueStart:b,valueAxisDim:k,baseAxisDim:B,stacked:!!m,valueDim:z,baseDim:p,baseDataOffset:x,stackedOverDimension:v.getCalculationInfo("stackedOverDimension")}}function BU(b,c){var d=0,a=b.scale.getExtent();return"start"===c?d=a[0]:"end"===c?d=a[1]:a[0]>0?d=a[0]:a[1]<0&&(d=a[1]),d}function cG(d,g,j,c){var b=0/0;d.stacked&&(b=j.get(j.getCalculationInfo("stackedOverDimension"),c)),isNaN(b)&&(b=d.valueStart);var h=d.baseDataOffset,f=[];return f[h]=j.get(d.baseDim,c),f[1-h]=b,g.dataToPoint(f)}function e7(a,b){var c=[];return b.diff(a).add(function(d){c.push({cmd:"+",idx:d})}).update(function(d,f){c.push({cmd:"=",idx:f,idx1:d})}).remove(function(d){c.push({cmd:"-",idx:d})}).execute(),c}function dX(a){return isNaN(a[0])||isNaN(a[1])}function aez(m,h,d,g,j,c,b,p,f,k){return"none"!==k&&k?jB.apply(this,arguments):aap.apply(this,arguments)}function jB(k,G,z,C,J,y,w,q,B,j,D){for(var I=0,H=z,F=0;C>F;F++){var x=G[H];if(H>=J||0>H){break}if(dX(x)){if(D){H+=y;continue}break}if(H===z){k[y>0?"moveTo":"lineTo"](x[0],x[1])}else{if(B>0){var E=G[I],A="y"===j?1:0,b=(x[A]-E[A])*B;ab1(Y5,E),Y5[A]=E[A]+b,ab1(adO,x),adO[A]=x[A]-b,k.bezierCurveTo(Y5[0],Y5[1],adO[0],adO[1],x[0],x[1])}else{k.lineTo(x[0],x[1])}}I=H,H+=y}return F}function aap(A,M,F,I,P,E,C,B,H,z,J){for(var O=0,N=F,L=0;I>L;L++){var D=M[N];if(N>=P||0>N){break}if(dX(D)){if(J){N+=E;continue}break}if(N===F){A[E>0?"moveTo":"lineTo"](D[0],D[1]),ab1(Y5,D)}else{if(H>0){var K=N+E,G=M[K];if(J){for(;G&&dX(M[K]);){K+=E,G=M[K]}}var q=0.5,b=M[O],G=M[K];if(!G||dX(G)){ab1(adO,D)}else{dX(G)&&!J&&(G=D),aiK(aaf,G,b);var j,Q;if("x"===z||"y"===z){var k="x"===z?0:1;j=Math.abs(D[k]-b[k]),Q=Math.abs(D[k]-G[k])}else{j=akM(D,b),Q=akM(D,G)}q=Q/(Q+j),akX(adO,D,aaf,-H*(1-q))}acC(Y5,Y5,B),afy(Y5,Y5,C),acC(adO,adO,B),afy(adO,adO,C),A.bezierCurveTo(Y5[0],Y5[1],adO[0],adO[1],D[0],D[1]),akX(Y5,D,aaf,H*q)}else{A.lineTo(D[0],D[1])}}O=N,N+=E}return L}function xG(d,f){var h=[1/0,1/0],c=[-1/0,-1/0];if(f){for(var b=0;b<d.length;b++){var g=d[b];g[0]<h[0]&&(h[0]=g[0]),g[1]<h[1]&&(h[1]=g[1]),g[0]>c[0]&&(c[0]=g[0]),g[1]>c[1]&&(c[1]=g[1])}}return{min:f?h:c,max:f?c:h}}function M2(d,f){if(d.length===f.length){for(var g=0;g<d.length;g++){var c=d[g],b=f[g];if(c[0]!==b[0]||c[1]!==b[1]){return}}return !0}}function yZ(a){return"number"==typeof a?a:a?0.5:0}function o3(b){var c=b.getGlobalExtent();if(b.onBand){var d=b.getBandWidth()/2-1,a=c[1]>c[0]?1:-1;c[0]+=a*d,c[1]-=a*d}return c}function WQ(d,f,h){if(!h.valueDim){return[]}for(var c=[],b=0,g=f.count();g>b;b++){c.push(cG(h,d,f,b))}return c}function aht(A,v,j,m){var y=o3(A.getAxis("x")),g=o3(A.getAxis("y")),b=A.getBaseAxis().isHorizontal(),B=Math.min(y[0],y[1]),k=Math.min(g[0],g[1]),z=Math.max(y[0],y[1])-B,p=Math.max(g[0],g[1])-k;if(j){B-=0.5,z+=0.5,k-=0.5,p+=0.5}else{var x=m.get("lineStyle.width")||2,w=m.get("clipOverflow")?x/2:Math.max(z,p);b?(k-=w,p+=2*w):(B-=w,z+=2*w)}var q=new agM({shape:{x:B,y:k,width:z,height:p}});return v&&(q.shape[b?"width":"height"]=0,m0(q,{shape:{width:z,height:p}},m)),q}function ab9(m,h,d,g){var j=m.getAngleAxis(),c=m.getRadiusAxis(),b=c.getExtent().slice();b[0]>b[1]&&b.reverse();var p=j.getExtent(),f=Math.PI/180;d&&(b[0]-=0.5,b[1]+=0.5);var k=new WB({shape:{cx:MJ(m.cx,1),cy:MJ(m.cy,1),r0:MJ(b[0],1),r:MJ(b[1],1),startAngle:-p[0]*f,endAngle:-p[1]*f,clockwise:j.inverse}});return h&&(k.shape.endAngle=-p[0]*f,m0(k,{shape:{endAngle:-p[1]*f}},g)),k}function ae5(b,c,d,a){return"polar"===b.type?ab9(b,c,d,a):aht(b,c,d,a)}function akI(w,m,f){for(var j=m.getBaseAxis(),q="x"===j.dim||"radius"===j.dim?0:1,d=[],b=0;b<w.length-1;b++){var x=w[b+1],g=w[b];d.push(g);var v=[];switch(f){case"end":v[q]=x[q],v[1-q]=g[1-q],d.push(v);break;case"middle":var k=(g[q]+x[q])/2,p=[];v[q]=p[q]=k,v[1-q]=g[1-q],p[1-q]=x[1-q],d.push(v),d.push(p);break;default:v[q]=g[q],v[1-q]=x[1-q],d.push(v)}}return w[b]&&d.push(w[b]),d}function aby(p,G){var A=p.getVisual("visualMeta");if(A&&A.length&&p.count()&&"cartesian2d"===G.type){for(var D,J,z=A.length-1;z>=0;z--){var w=A[z].dimension,q=p.dimensions[w],C=p.getDimensionInfo(q);if(D=C&&C.coordDim,"x"===D||"y"===D){J=A[z];break}}if(J){var k=G.getAxis(D),E=aiu(J.stops,function(a){return{coord:k.toGlobalCoord(k.dataToCoord(a.value)),color:a.color}}),I=E.length,H=J.outerColors.slice();I&&E[0].coord>E[I-1].coord&&(E.reverse(),H.reverse());var F=10,B=E[0].coord-F,j=E[I-1].coord+F,b=j-B;if(0.001>b){return"transparent"}aiT(E,function(a){a.offset=(a.coord-B)/b}),E.push({offset:I?E[I-1].offset:0.5,color:H[1]||"transparent"}),E.unshift({offset:I?E[0].offset:0.5,color:H[0]||"transparent"});var f=new akB(0,0,0,0,E,!0);return f[D]=B,f[D+"2"]=j,f}}}function ZB(d,h,k){var c=d.get("showAllSymbol"),b="auto"===c;if(!c||b){var j=k.getAxesByScale("ordinal")[0];if(j&&(!b||!X3(j,h))){var g=h.mapDimension(j.dim),f={};return aiT(j.getViewLabels(),function(a){f[a.tickValue]=1}),function(a){return !f.hasOwnProperty(h.get(g,a))}}}}function X3(d,g){var j=d.getExtent(),c=Math.abs(j[1]-j[0])/d.scale.count();isNaN(c)&&(c=0);for(var b=g.count(),h=Math.max(1,Math.round(b/5)),f=0;b>f;f+=h){if(1.5*adY.getSymbolSize(g,f)[d.isHorizontal()?1:0]>c){return !1}}return !0}function adl(d,h,k,c){var b=h.getData(),j=this.dataIndex,g=b.getName(j),f=h.get("selectedOffset");c.dispatchAction({type:"pieToggleSelect",from:d,name:g,seriesId:h.id}),b.each(function(a){U8(b.getItemGraphicEl(a),b.getItemLayout(a),h.isSelected(b.getName(a)),f,k)})}function U8(m,h,d,g,j){var c=(h.startAngle+h.endAngle)/2,b=Math.cos(c),p=Math.sin(c),f=d?g:0,k=[b*f,p*f];j?m.animate().when(200,{position:k}).start("bounceOut"):m.attr("position",k)}function afG(d,g){function j(){h.ignore=h.hoverIgnore,f.ignore=f.hoverIgnore}function c(){h.ignore=h.normalIgnore,f.ignore=f.normalIgnore}jG.call(this);var b=new WB({z2:2}),h=new abs,f=new ab3;this.add(b),this.add(h),this.add(f),this.updateData(d,g,!0),this.on("emphasis",j).on("normal",c).on("mouseover",j).on("mouseout",c)}function ai3(E,z,m,v,C,k,b){function F(f,g,d){for(var c=f;g>c;c++){if(E[c].y+=d,c>f&&g>c+1&&E[c+1].y>E[c].y+E[c].height){return void q(c,d/2)}}q(g-1,d/2)}function q(c,d){for(var a=c;a>=0&&(E[a].y-=d,!(a>0&&E[a].y>E[a-1].y+E[a-1].height));a--){}}function D(O,J,p,H,M,g){for(var f=g>0?J?Number.MAX_VALUE:0:J?Number.MAX_VALUE:0,P=0,G=O.length;G>P;P++){if("center"!==O[P].position){var N=Math.abs(O[P].y-H),I=O[P].len,L=O[P].len2,K=M+I>N?Math.sqrt((M+I+L)*(M+I+L)-N*N):Math.abs(O[P].x-p);J&&K>=f&&(K=f-10),!J&&f>=K&&(K=f+10),O[P].x=p+K*g,f=K}}}E.sort(function(a,c){return a.y-c.y});for(var w,B=0,A=E.length,y=[],j=[],x=0;A>x;x++){w=E[x].y-B,0>w&&F(x,A,-w,C),B=E[x].y+E[x].height}0>b-B&&q(A-1,B-b);for(var x=0;A>x;x++){E[x].y>=m?j.push(E[x]):y.push(E[x])}D(y,!1,z,m,v,C),D(j,!0,z,m,v,C)}function ah3(q,k,d,g,m,c){for(var b=[],v=[],f=0;f<q.length;f++){q[f].x<k?b.push(q[f]):v.push(q[f])}ai3(v,k,d,g,1,m,c),ai3(b,k,d,g,-1,m,c);for(var f=0;f<q.length;f++){var p=q[f].linePoints;if(p){var j=p[1][0]-p[2][0];p[2][0]=q[f].x<k?q[f].x+3:q[f].x-3,p[1][1]=p[2][1]=q[f].y,p[1][0]=p[2][0]+j}}}function agS(){this.group=new jG}function aaX(a){return ai9(a)||(a=[+a,+a]),a}function agh(a,b){a.eachChild(function(c){c.attr({z:b.z,zlevel:b.zlevel,style:{stroke:"stroke"===b.brushType?b.color:null,fill:"fill"===b.brushType?b.color:null}})})}function acK(b,c){jG.call(this);var d=new adY(b,c),a=new jG;this.add(d),this.add(a),a.beforeUpdate=function(){this.attr(d.getScale())},this.updateData(b,c)}function TY(b,c,d){var a=b.ends;return new t9({shape:{points:d?Q3(a,b):a},z2:100})}function PQ(m,h,d,g){var j=h.getItemModel(d),c=j.getModel(oQ),b=h.getItemVisual(d,"color"),p=h.getItemVisual(d,"borderColor")||b,f=c.getItemStyle(G1);m.useStyle(f),m.style.strokeNoScale=!0,m.style.fill=b,m.style.stroke=p,m.__simpleBox=g;var k=j.getModel(Pq).getItemStyle();aQ(m,k)}function Q3(a,b){return aiu(a,function(c){return c=c.slice(),c[1]=b.initBaseline,c})}function a3(d,g,j){var c=d.getData(),b=c.getLayout("largePoints"),h=new K5({shape:{points:b},__sign:1});g.add(h);var f=new K5({shape:{points:b},__sign:-1});g.add(f),SB(1,h,d,c),SB(-1,f,d,c),j&&(h.incremental=!0,f.incremental=!0)}function SB(d,g,j,c){var b=d>0?"P":"N",h=c.getVisual("borderColor"+b)||c.getVisual("color"+b),f=j.getModel(oQ).getItemStyle(G1);g.useStyle(f),g.style.fill=null,g.style.stroke=h}function aj4(d,f,h,c,b){var g;return g=h>c?-1:c>h?1:f>0?d.get(b,f-1)<=c?1:-1:1}function l5(d,h){var k,c=d.getBaseAxis(),b="category"===c.type?c.getBandWidth():(k=c.getExtent(),Math.abs(k[1]-k[0])/h.count()),j=wX(aj3(d.get("barMaxWidth"),b),b),g=wX(aj3(d.get("barMinWidth"),1),b),f=d.get("barWidth");return null!=f?wX(f,b):Math.max(Math.min(b/2,j),g)}function uJ(a,b,c){ado.call(this,a,b,c),this.type="value",this.angle=0,this.name="",this.model}function z7(a,b,c){this._model=a,this.dimensions=[],this._indicatorAxes=aiu(a.getIndicatorModels(),function(f,g){var h="indicator_"+g,d=new uJ(h,new aey);return d.name=f.get("name"),d.model=f,f.axis=d,this.dimensions.push(h),d},this),this.resize(a,c),this.cx,this.cy,this.r,this.r0,this.startAngle}function kU(a,b){return ain({show:b},a)}function LB(a){return ai9(a)||(a=[+a,+a]),a}function G9(){var a=Mq();this.canvas=a,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}function IQ(d,f,h){var c=d[1]-d[0];f=aiu(f,function(a){return{interval:[(a.interval[0]-d[0])/c,(a.interval[1]-d[0])/c]}});var b=f.length,g=0;return function(e){for(var a=g;b>a;a++){var j=f[a].interval;if(j[0]<=e&&e<=j[1]){g=a;break}}if(a===b){for(var a=g-1;a>=0;a--){var j=f[a].interval;if(j[0]<=e&&e<=j[1]){g=a;break}}}return a>=0&&b>a&&h[a]}}function v2(a,b){var c=a[1]-a[0];return b=[(b[0]-a[0])/c,(b[1]-a[0])/c],function(d){return d>=b[0]&&d<=b[1]}}function adW(a){var b=a.dimensions;return"lng"===b[0]&&"lat"===b[1]}function qq(a){var b=a.mainData,c=a.datas;c||(c={main:b},a.datasAttr={main:"data"}),a.datas=a.mainData=null,J3(b,c,a),p3(c,function(d){p3(b.TRANSFERABLE_METHODS,function(f){d.wrapMethod(f,aie(rV,a))})}),b.wrapMethod("cloneShallow",aie(Oq,a)),p3(b.CHANGABLE_METHODS,function(d){b.wrapMethod(d,aie(nH,a))}),ajz(c[b.dataType]===b)}function rV(a,b){if(s6(this)){var c=aip({},this[Wj]);c[this.dataType]=b,J3(b,c,a)}else{h0(b,this.dataType,this[ahk],a)}return b}function nH(a,b){return a.struct&&a.struct.update(this),b}function Oq(a,b){return p3(b[Wj],function(d,c){d!==b&&h0(d.cloneShallow(),c,b,a)}),b}function FY(a){var b=this[ahk];return null==a||null==b?b:b[Wj][a]}function s6(a){return a[ahk]===a}function J3(a,b,c){a[Wj]={},p3(b,function(f,d){h0(f,d,a,c)})}function h0(b,c,d,a){d[Wj][c]=b,b[ahk]=d,b.dataType=c,a.struct&&(b[a.structAttr]=a.struct,a.struct[a.datasAttr[c]]=b),b.getLinkedData=FY}function C2(a,b,c){this.root,this.data,this._nodes=[],this.hostModel=a,this.levelModels=aiu(b||[],function(d){return new f0(d,a,a.ecModel)}),this.leavesModel=new f0(c||{},a,a.ecModel)}function EB(a,b){var c=b.children;a.parentNode!==b&&(c.push(a),a.parentNode=b)}function gG(d){d.hierNode={defaultAncestor:null,ancestor:d,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var g,j,c=[d];g=c.pop();){if(j=g.children,g.isExpand&&j.length){for(var b=j.length,h=b-1;h>=0;h--){var f=j[h];f.hierNode={defaultAncestor:null,ancestor:f,prelim:0,modifier:0,change:0,shift:0,i:h,thread:null},c.push(f)}}}}function BK(d,f){var h=d.isExpand?d.children:[],c=d.parentNode.children,b=d.hierNode.i?c[d.hierNode.i-1]:null;if(h.length){jq(d);var g=(h[0].hierNode.prelim+h[h.length-1].hierNode.prelim)/2;b?(d.hierNode.prelim=b.hierNode.prelim+f(d,b),d.hierNode.modifier=d.hierNode.prelim-g):d.hierNode.prelim=g}else{b&&(d.hierNode.prelim=b.hierNode.prelim+f(d,b))}d.parentNode.hierNode.defaultAncestor=aan(d,b,d.parentNode.hierNode.defaultAncestor||c[0],f)}function cF(a){var b=a.hierNode.prelim+a.parentNode.hierNode.modifier;a.setLayout({x:b},!0),a.hierNode.modifier+=a.parentNode.hierNode.modifier}function e5(a){return arguments.length?a:WH}function dV(a,b){var c={};return a-=Math.PI/2,c.x=b*Math.cos(a),c.y=b*Math.sin(a),c}function aex(a,b){return lq(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function jq(d){for(var f=d.children,h=f.length,c=0,b=0;--h>=0;){var g=f[h];g.hierNode.prelim+=c,g.hierNode.modifier+=c,b+=g.hierNode.change,c+=g.hierNode.shift+b}}function aan(y,p,g,k){if(p){for(var w=y,f=y,b=f.parentNode.children[0],z=p,j=w.hierNode.modifier,x=f.hierNode.modifier,m=b.hierNode.modifier,v=z.hierNode.modifier;z=xB(z),f=M1(f),z&&f;){w=xB(w),b=M1(b),w.hierNode.ancestor=y;var q=z.hierNode.prelim+v-f.hierNode.prelim-x+k(z,f);q>0&&(o1(yX(z,y,g),y,q),x+=q,j+=q),v+=z.hierNode.modifier,x+=f.hierNode.modifier,j+=w.hierNode.modifier,m+=b.hierNode.modifier}z&&!xB(w)&&(w.hierNode.thread=z,w.hierNode.modifier+=v-j),f&&!M1(b)&&(b.hierNode.thread=f,b.hierNode.modifier+=x-m,g=y)}return g}function xB(a){var b=a.children;return b.length&&a.isExpand?b[b.length-1]:a.hierNode.thread}function M1(a){var b=a.children;return b.length&&a.isExpand?b[0]:a.hierNode.thread}function yX(a,b,c){return a.hierNode.ancestor.parentNode===b.parentNode?a.hierNode.ancestor:c}function o1(b,c,d){var a=d/(c.hierNode.i-b.hierNode.i);c.hierNode.change-=a,c.hierNode.shift+=d,c.hierNode.modifier+=d,c.hierNode.prelim+=d,b.hierNode.change+=a}function WH(a,b){return a.parentNode===b.parentNode?1:2}function ahq(){Q7.call(this)}function ab6(a){this.name=a,this.zoomLimit,Q7.call(this),this._roamTransformable=new ahq,this._rawTransformable=new ahq,this._center,this._zoom}function akE(d,f,h,c){var b=h.seriesModel,g=b?b.coordinateSystem:null;return g===this?g[d](c):null}function abv(d,f,g){var c=d.target,b=c.position;b[0]+=f,b[1]+=g,c.dirty()}function Zj(w,m,f,j){var q=w.target,d=w.zoomLimit,b=q.position,x=q.scale,g=w.zoom=w.zoom||1;if(g*=m,d){var v=d.min||0,k=d.max||1/0;g=Math.max(Math.min(k,g),v)}var p=g/w.zoom;w.zoom=g,b[0]-=(f-b[0])*(p-1),b[1]-=(j-b[1])*(p-1),x[0]*=p,x[1]*=p,q.dirty()}function X0(b,c,d){var a=afD(b);a[c]=d}function adi(d,f,g){var c=afD(d),b=c[f];b===g&&(c[f]=null)}function U5(a,b){return !!afD(a)[b]}function afD(a){return a[aky]||(a[aky]={})}function aiY(d){this.pointerChecker,this._zr=d,this._opt={};var g=aic,i=g(ah0,this),c=g(agP,this),h=g(aaU,this),f=g(age,this),b=g(acH,this);adp.call(this),this.setPointerChecker=function(a){this.pointerChecker=a},this.enable=function(j,a){this.disable(),this._opt=ain(aiO(a)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==j&&(j=!0),(j===!0||"move"===j||"pan"===j)&&(d.on("mousedown",i),d.on("mousemove",c),d.on("mouseup",h)),(j===!0||"scale"===j||"zoom"===j)&&(d.on("mousewheel",f),d.on("pinch",b))},this.disable=function(){d.off("mousedown",i),d.off("mousemove",c),d.off("mouseup",h),d.off("mousewheel",f),d.off("pinch",b)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function ah0(a){if(!(TW(a)||a.target&&a.target.draggable)){var b=a.offsetX,c=a.offsetY;this.pointerChecker&&this.pointerChecker(a,b,c)&&(this._x=b,this._y=c,this._dragging=!0)}}function agP(d){if(!TW(d)&&Q0("moveOnMouseMove",d,this._opt)&&this._dragging&&"pinch"!==d.gestureEvent&&!U5(this._zr,"globalPan")){var g=d.offsetX,j=d.offsetY,c=this._x,b=this._y,h=g-c,f=j-b;this._x=g,this._y=j,this._opt.preventDefaultMouseMove&&ai8(d.event),PH(this,"pan","moveOnMouseMove",d,{dx:h,dy:f,oldX:c,oldY:b,newX:g,newY:j})}}function aaU(a){TW(a)||(this._dragging=!1)}function age(q){var k=Q0("zoomOnMouseWheel",q,this._opt),d=Q0("moveOnMouseWheel",q,this._opt),g=q.wheelDelta,m=Math.abs(g),c=q.offsetX,b=q.offsetY;if(0!==g&&(k||d)){if(k){var v=m>3?1.4:m>1?1.2:1.1,f=g>0?v:1/v;TV(this,"zoom","zoomOnMouseWheel",q,{scale:f,originX:c,originY:b})}if(d){var p=Math.abs(g),j=(g>0?1:-1)*(p>3?0.4:p>1?0.15:0.05);TV(this,"scrollMove","moveOnMouseWheel",q,{scrollDelta:j,originX:c,originY:b})}}}function acH(a){if(!U5(this._zr,"globalPan")){var b=a.pinchScale>1?1.1:1/1.1;TV(this,"zoom",null,a,{scale:b,originX:a.pinchX,originY:a.pinchY})}}function TV(d,f,g,c,b){d.pointerChecker&&d.pointerChecker(c,b.originX,b.originY)&&(ai8(c.event),PH(d,f,g,c,b))}function PH(d,f,g,c,b){b.isAvailableBehavior=aic(Q0,null,g,c),d.trigger(f,b)}function Q0(b,c,d){var a=d[b];return !b||a&&(!ai2(a)||c.event[a+"Key"])}function a1(d,f,g){var c=f.getComponentByElement(d.topTarget),b=c&&c.coordinateSystem;return c&&c!==g&&!abp[c.mainType]&&b&&b.model!==g}function Sj(a,b){var c=a.getItemLayout(b);return c&&!isNaN(c.x)&&!isNaN(c.y)&&"none"!==a.getItemVisual(b,"symbol")}function ajZ(a,b,c){return c.itemModel=b,c.itemStyle=b.getModel("itemStyle").getItemStyle(),c.hoverItemStyle=b.getModel("emphasis.itemStyle").getItemStyle(),c.lineStyle=b.getModel("lineStyle").getLineStyle(),c.labelModel=b.getModel("label"),c.hoverLabelModel=b.getModel("emphasis.label"),c.symbolInnerColor=a.isExpand===!1&&0!==a.children.length?c.itemStyle.fill:"#fff",c}function l2(C,O,G,J,T,F){var D=!G,I=C.tree.getNodeByDataIndex(O),B=I.getModel(),F=ajZ(I,B,F),K=C.tree.root,Q=I.parentNode===K?I:I.parentNode||I,P=C.getItemGraphicEl(Q.dataIndex),N=Q.getLayout(),E=P?{x:P.position[0],y:P.position[1],rawX:P.__radialOldRawX,rawY:P.__radialOldRawY}:N,L=I.getLayout();D?(G=new adY(C,O,F),G.attr("position",[E.x,E.y])):G.updateData(C,O,F),G.__radialOldRawX=G.__radialRawX,G.__radialOldRawY=G.__radialRawY,G.__radialRawX=L.rawX,G.__radialRawY=L.rawY,J.add(G),C.setItemGraphicEl(O,G),q5(G,{position:[L.x,L.y]},T);var H=G.getSymbolPath();if("radial"===F.layout){var A,q,s=K.children[0],U=s.getLayout(),z=s.children.length;if(L.x===U.x&&I.isExpand===!0){var R={};R.x=(s.children[0].getLayout().x+s.children[z-1].getLayout().x)/2,R.y=(s.children[0].getLayout().y+s.children[z-1].getLayout().y)/2,A=Math.atan2(R.y-U.y,R.x-U.x),0>A&&(A=2*Math.PI+A),q=R.x<U.x,q&&(A-=Math.PI)}else{A=Math.atan2(L.y-U.y,L.x-U.x),0>A&&(A=2*Math.PI+A),0===I.children.length||0!==I.children.length&&I.isExpand===!1?(q=L.x<U.x,q&&(A-=Math.PI)):(q=L.x>U.x,q||(A-=Math.PI))}var j=q?"left":"right";H.setStyle({textPosition:j,textRotation:-A,textOrigin:"center",verticalAlign:"middle"})}if(I.parentNode&&I.parentNode!==K){var k=G.__edge;k||(k=G.__edge=new QX({shape:z4(F,E,E),style:ain({opacity:0,strokeNoScale:!0},F.lineStyle)})),q5(k,{shape:z4(F,N,L),style:{opacity:1}},T),J.add(k)}}function uF(w,m,f,j,q,d){for(var b,x=w.tree.getNodeByDataIndex(m),g=w.tree.root,v=x.getModel(),d=ajZ(x,v,d),k=x.parentNode===g?x:x.parentNode||x;b=k.getLayout(),null==b;){k=k.parentNode===g?k:k.parentNode||k}q5(f,{position:[b.x+1,b.y+1]},q,function(){j.remove(f),w.setItemGraphicEl(m,null)}),f.fadeOut(null,{keepLabel:!0});var p=f.__edge;p&&q5(p,{shape:z4(d,b,b),style:{opacity:0}},q,function(){j.remove(p)})}function z4(E,z,m){var v,C,k,b,F,q,D,w,B=E.orient;if("radial"===E.layout){F=z.rawX,D=z.rawY,q=m.rawX,w=m.rawY;var A=dV(F,D),y=dV(F,D+(w-D)*E.curvature),j=dV(q,w+(D-w)*E.curvature),x=dV(q,w);return{x1:A.x,y1:A.y,x2:x.x,y2:x.y,cpx1:y.x,cpy1:y.y,cpx2:j.x,cpy2:j.y}}return F=z.x,D=z.y,q=m.x,w=m.y,("LR"===B||"RL"===B)&&(v=F+(q-F)*E.curvature,C=D,k=q+(F-q)*E.curvature,b=w),("TB"===B||"BT"===B)&&(v=F,C=D+(w-D)*E.curvature,k=q,b=w+(D-w)*E.curvature),{x1:F,y1:D,x2:q,y2:w,cpx1:v,cpy1:C,cpx2:k,cpy2:b}}function kJ(w,m,f){var j=w.getZoom(),q=w.getCenter(),d=m.zoom,b=w.dataToPoint(q);if(null!=m.dx&&null!=m.dy){b[0]-=m.dx,b[1]-=m.dy;var q=w.pointToData(b);w.setCenter(q)}if(null!=d){if(f){var x=f.min||0,g=f.max||1/0;d=Math.max(Math.min(j*d,g),x)/j}w.scale[0]*=d,w.scale[1]*=d;var v=w.position,k=(m.originX-v[0])*(d-1),p=(m.originY-v[1])*(d-1);v[0]-=k,v[1]-=p,w.updateTransform();var q=w.pointToData(b);w.setCenter(q),w.setZoom(d*j)}return{center:w.getCenter(),zoom:w.getZoom()}}function Lj(d,h,k){for(var c,b=[d],j=[];c=b.pop();){if(j.push(c),c.isExpand){var g=c.children;if(g.length){for(var f=0;f<g.length;f++){b.push(g[f])}}}}for(;c=j.pop();){h(c,k)}}function G6(d,f){for(var h,c=[d];h=c.pop();){if(f(h),h.isExpand){var b=h.children;if(b.length){for(var g=b.length-1;g>=0;g--){c.push(b[g])}}}}}function IH(q,I){var B=aex(q,I);q.layoutInfo=B;var E=q.get("layout"),L=0,A=0,x=null;"radial"===E?(L=2*Math.PI,A=Math.min(B.height,B.width)/2,x=e5(function(a,c){return(a.parentNode===c.parentNode?1:2)/a.depth})):(L=B.width,A=B.height,x=e5());var w=q.getData().tree.root,D=w.children[0];if(D){gG(w),Lj(D,BK,x),w.hierNode.modifier=-D.hierNode.prelim,G6(D,cF);var k=D,F=D,K=D;G6(D,function(a){var c=a.getLayout().x;c<k.getLayout().x&&(k=a),c>F.getLayout().x&&(F=a),a.depth>K.depth&&(K=a)});var J=k===F?1:x(k,F)/2,H=J-k.getLayout().x,z=0,G=0,C=0,j=0;if("radial"===E){z=L/(F.getLayout().x+J+H),G=A/(K.depth-1||1),G6(D,function(a){C=(a.getLayout().x+H)*z,j=(a.depth-1)*G;var c=dV(C,j);a.setLayout({x:c.x,y:c.y,rawX:C,rawY:j},!0)})}else{var b=q.getOrient();"RL"===b||"LR"===b?(G=A/(F.getLayout().x+J+H),z=L/(K.depth-1||1),G6(D,function(a){j=(a.getLayout().x+H)*G,C="LR"===b?(a.depth-1)*z:L-(a.depth-1)*z,a.setLayout({x:C,y:j},!0)})):("TB"===b||"BT"===b)&&(z=L/(F.getLayout().x+J+H),G=A/(K.depth-1||1),G6(D,function(a){C=(a.getLayout().x+H)*z,j="TB"===b?(a.depth-1)*G:A-(a.depth-1)*G,a.setLayout({x:C,y:j},!0)}))}}}function vZ(d,f,h){if(d&&aij(f,d.type)>=0){var c=h.getData().tree.root,b=d.targetNode;if("string"==typeof b&&(b=c.getNodeById(b)),b&&c.contains(b)){return{node:b}}var g=d.targetNodeId;if(null!=g&&(b=c.getNodeById(g))){return{node:b}}}}function adT(a){for(var b=[];a;){a=a.parentNode,a&&b.push(a)}return b.reverse()}function p8(a,b){var c=adT(a);return aij(c,b)>=0}function rK(b,c){for(var d=[];b;){var a=b.dataIndex;d.push({name:b.name,dataIndex:a,value:c.getRawValue(a)}),b=b.parentNode}return d.reverse(),d}function nB(a){var b=0;aiT(a.children,function(d){nB(d);var e=d.value;ai9(e)&&(e=e[0]),b+=e});var c=a.value;ai9(c)&&(c=c[0]),(null==c||isNaN(c))&&(c=b),0>c&&(c=0),ai9(a.value)?a.value[0]=c:a.value=c}function N9(d,f){var g=f.get("color");if(g){d=d||[];var c;if(aiT(d,function(a){var h=new f0(a),i=h.get("color");(h.get("itemStyle.color")||i&&"none"!==i)&&(c=!0)}),!c){var b=d[0]||(d[0]={});b.color=g.slice()}return d}}function FV(a){this.group=new jG,a.add(this.group)}function s3(d,g,j,c,b,h){var f=[[b?d:d-UZ,g],[d+j,g],[d+j,g+c],[b?d:d-UZ,g+c]];return !h&&f.splice(2,0,[d+j+UZ,g+c/2]),!b&&f.push([d,g+c/2]),f}function J0(a,b,c){a.eventData={componentType:"series",componentSubType:"treemap",componentIndex:b.componentIndex,seriesIndex:b.componentIndex,seriesName:b.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:c&&c.dataIndex,name:c&&c.name},treePathInfo:c&&rK(c,b)}}function hX(){var a,b=[],c={};return{add:function(f,e,d,h,g){return ai2(h)&&(g=h,h=0),c[f.id]?!1:(c[f.id]=1,b.push({el:f,target:e,time:d,delay:h,easing:g}),!0)},done:function(d){return a=d,this},start:function(){function e(){d--,d||(b.length=0,c={},a&&a())}for(var d=b.length,h=0,g=b.length;g>h;h++){var f=b[h];f.el.animateTo(f.target,f.time,f.delay,f.easing,e)}return this}}}function CZ(){return{nodeGroup:[],background:[],content:[]}}function Ej(N,af,Y,ak,X,Q,aa,K,ac,ah){function ag(d,g,c){g.dataIndex=aa.dataIndex,g.seriesIndex=N.seriesIndex,g.setShape({x:0,y:0,width:al,height:H});var b=aa.getVisual("borderColor",!0),f=ab.get("borderColor");W(g,function(){var a=lW(D);a.fill=b;var k=ajN(ab);if(k.fill=f,c){var h=al-2*ai;ad(a,k,b,h,V,{x:ai,y:0,width:h,height:V})}else{a.text=k.text=null}g.setStyle(a),aQ(g,k)}),d.add(g)}function ae(d,g){g.dataIndex=aa.dataIndex,g.seriesIndex=N.seriesIndex;var c=Math.max(al-2*ai,0),b=Math.max(H-2*ai,0);g.culling=!0,g.setShape({x:ai,y:ai,width:c,height:b});var f=aa.getVisual("color",!0);W(g,function(){var a=lW(D);a.fill=f;var h=ajN(ab);ad(a,h,f,c,b),g.setStyle(a),aQ(g,h)}),d.add(g)}function W(a,b){j?!a.invisible&&Q.push(a):(b(),a.__tmWillVisible||(a.invisible=!1))}function ad(v,l,y,k,b,C){var A=aa.getModel(),m=aj0(N.getFormattedLabel(aa.dataIndex,"normal",null,null,C?"upperLabel":"label"),A.get("name"));if(!C&&G.isLeafRoot){var x=N.get("drillDownIcon",!0);m=x?x+" "+m:m}var w=A.getModel(C?TG:af8),t=A.getModel(C?Pj:acB),g=w.getShallow("show");ajD(v,l,w,t,{defaultText:g?m:null,autoColor:y,isRectText:!0}),C&&(v.textRect=aiO(C)),v.truncate=g&&w.get("ellipsis")?{outerWidth:k,outerHeight:b,minChar:2}:null}function Z(e,d,c,g){var f=null!=F&&Y[e][F],b=X[e];return f?(Y[e][F]=null,J(b,f,e)):j||(f=new d({z:gt(c,g)}),f.__tmDepth=c,f.__tmStorageName=e,E(b,f,e)),af[e][B]=f}function J(b,c,d){var a=b[B]={};a.old="nodeGroup"===d?c.position.slice():aip({},c.shape)}function E(c,k,l){var b=c[B]={},g=aa.parentNode;if(g&&(!ak||"drillDown"===ak.direction)){var f=0,a=0,d=X.background[g.getRawIndex()];!ak&&d&&d.old&&(f=d.old.width,a=d.old.height),b.old="nodeGroup"===l?[0,a]:{x:f,y:a,width:0,height:0}}b.fadein="nodeGroup"!==l}if(aa){var G=aa.getLayout();if(G&&G.isInView){var al=G.width,H=G.height,ai=G.borderWidth,j=G.invisible,B=aa.getRawIndex(),F=K&&K.getRawIndex(),i=aa.viewChildren,V=G.upperHeight,U=i&&i.length,D=aa.getModel("itemStyle"),ab=aa.getModel("emphasis.itemStyle"),r=Z("nodeGroup",aiM);if(r){if(ac.add(r),r.attr("position",[G.x||0,G.y||0]),r.__tmNodeWidth=al,r.__tmNodeHeight=H,G.isAboveViewRoot){return r}var z=Z("background",ahU,ah,aX);if(z&&ag(r,z,U&&G.upperHeight),!U){var q=Z("content",ahU,ah,R4);q&&ae(r,q)}return r}}}}function gt(a,b){var c=a*QU+b;return(c-1)/c}function BG(a){var b=a.pieceList;a.hasSpecialVisual=!1,aiT(b,function(c,d){c.originIndex=d,null!=c.visual&&(a.hasSpecialVisual=!0)})}function ct(d){var f=d.categories,h=d.visual,c=d.categoryMap={};if(K4(f,function(a,i){c[a]=i}),!ai9(h)){var b=[];ajq(h)?K4(h,function(a,i){var j=c[i];b[null!=j?j:Ij]=a}):b[Ij]=h,h=oY(d,b)}for(var g=f.length-1;g>=0;g--){null==h[g]&&(delete c[f[g]],f.pop())}}function e2(d,f){var g=d.visual,c=[];ajq(g)?K4(g,function(a){c.push(a)}):null!=g&&c.push(g);var b={color:1,symbol:1};f||1!==c.length||b.hasOwnProperty(d.type)||(c[1]=c[0]),oY(d,c)}function dK(a){return{applyVisual:function(c,d,b){c=this.mapValueToVisual(c),b("color",a(d("color"),c))},_doMap:MZ([0,1])}}function aeu(a){var b=this.option.visual;return b[Math.round(Z7(a,[0,1],[0,b.length-1],!0))]||{}}function i8(a){return function(c,d,b){b(a,this.mapValueToVisual(c))}}function aak(a){var b=this.option.visual;return b[this.option.loop&&a!==Ij?a%b.length:a]}function xj(){return this.option.visual[0]}function MZ(a){return{linear:function(b){return Z7(b,a,this.option.visual,!0)},category:aak,piecewise:function(c,d){var b=yU.call(this,d);return null==b&&(b=Z7(c,a,this.option.visual,!0)),b},fixed:xj}}function yU(d){var f=this.option,g=f.pieceList;if(f.hasSpecialVisual){var c=vQ.findPieceIndex(d,g),b=g[c];if(b&&b.visual){return b.visual[this.type]}}}function oY(a,b){return a.visual=b,"color"===a.type&&(a.parsedVisual=aiu(b,function(c){return BH(c)})),b}function V1(a,b,c){return a?c>=b:c>b}function ahb(E,z,k,w,C,j){var b=E.getModel(),F=E.getLayout();if(F&&!F.invisible&&F.isInView){var v,D=E.getModel(m7),x=k[E.depth],B=abR(D,z,x,w),A=D.get("borderColor"),f=D.get("borderColorSaturation");null!=f&&(v=aeQ(B,E),A=akp(f,v)),E.setVisual("borderColor",A);var y=E.viewChildren;if(y&&y.length){var q=YV(E,b,F,D,B,y);aiT(y,function(a,d){if(a.depth>=C.length||a===C[a.depth]){var c=ac3(b,B,a,d,q,j);ahb(a,c,k,w,C,j)}})}else{v=aeQ(B,E),E.setVisual("color",v)}}}function abR(d,f,g,c){var b=aip({},f);return aiT(["color","colorAlpha","colorSaturation"],function(e){var a=d.get(e,!0);null==a&&g&&(a=g[e]),null==a&&(a=f[e]),null==a&&(a=c.get(e)),null!=a&&(b[e]=a)}),b}function aeQ(b){var c=abg(b,"color");if(c){var d=abg(b,"colorAlpha"),a=abg(b,"colorSaturation");return a&&(c=xq(c,null,null,a)),d&&(c=M0(c,d)),c}}function akp(a,b){return null!=b?xq(b,null,null,a):null}function abg(a,b){var c=a[b];return null!=c&&"none"!==c?c:void 0}function YV(y,p,g,k,w,f){if(f&&f.length){var b=Xt(p,"color")||null!=w.color&&"none"!==w.color&&(Xt(p,"colorAlpha")||Xt(p,"colorSaturation"));if(b){var z=p.get("visualMin"),j=p.get("visualMax"),x=g.dataExtent.slice();null!=z&&z<x[0]&&(x[0]=z),null!=j&&j>x[1]&&(x[1]=j);var m=p.get("colorMappingBy"),v={type:b.name,dataExtent:x,visual:b.range};"color"!==v.type||"index"!==m&&"id"!==m?v.mappingMethod="linear":(v.mappingMethod="category",v.loop=!0);var q=new vQ(v);return q.__drColorMappingBy=m,q}}}function Xt(a,b){var c=a.get(b);return rt(c)&&c.length?{name:b,range:c}:null}function ac3(p,j,c,f,k,b){var q=aip({},j);if(k){var d=k.type,m="color"===d&&k.__drColorMappingBy,g="index"===m?f:"id"===m?b.mapIdToIndex(c.getId()):c.getValue(p.get("visualDimension"));q[d]=k.mapValueToVisual(g)}return q}function UJ(D,Q,I,L){var V,H;if(!D.isRemoved()){var F=D.getLayout();V=F.width,H=F.height;var E=D.getModel(),K=E.get(CQ),C=E.get(D4)/2,N=Qt(E),T=Math.max(K,N),R=K-C,P=T-C,E=D.getModel();D.setLayout({borderWidth:K,upperHeight:T,upperLabelHeight:N},!0),V=FG(V-2*R,0),H=FG(H-R-P,0);var G=V*H,O=afo(D,E,G,Q,I,L);if(O.length){var J={x:R,y:P,width:V,height:H},B=sX(V,H),q=1/0,z=[];z.area=0;for(var W=0,A=O.length;A>W;){var U=O[W];z.push(U),z.area+=U.getLayout().area;var j=aaG(z,B,Q.squareRatio);q>=j?(W++,q=j):(z.area-=z.pop().getLayout().area,afZ(z,B,J,C,!1),B=sX(J.width,J.height),z.length=z.area=0,q=1/0)}if(z.length&&afZ(z,B,J,C,!0),!I){var k=E.get("childrenVisibleMin");null!=k&&k>G&&(I=!0)}for(var W=0,A=O.length;A>W;W++){UJ(O[W],Q,I,L+1)}}}}function afo(y,p,g,k,w,f){var b=y.children||[],z=k.sort;"asc"!==z&&"desc"!==z&&(z=null);var j=null!=k.leafDepth&&k.leafDepth<=f;if(w&&!j){return y.viewChildren=[]}b=aiB(b,function(a){return !a.isRemoved()}),ahM(b,z);var x=agA(p,b,z);if(0===x.sum){return y.viewChildren=[]}if(x.sum=aiz(p,g,x.sum,z,b),0===x.sum){return y.viewChildren=[]}for(var m=0,v=b.length;v>m;m++){var q=b[m].getValue()/x.sum*g;b[m].setLayout({area:q})}return j&&(b.length&&y.setLayout({isLeafRoot:!0},!0),b.length=0),y.viewChildren=b,y.setLayout({dataExtent:x.dataExtent},!0),b}function aiz(m,h,d,g,j){if(!g){return d}for(var c=m.get("visibleMin"),b=j.length,p=b,f=b-1;f>=0;f--){var k=j["asc"===g?b-f-1:f].getValue();c>k/d*h&&(p=f,d-=k)}return"asc"===g?j.splice(0,b-p):j.splice(p,b-p),d}function ahM(a,b){return b&&a.sort(function(d,e){var c="asc"===b?d.getValue()-e.getValue():e.getValue()-d.getValue();return 0===c?"asc"===b?d.dataIndex-e.dataIndex:e.dataIndex-d.dataIndex:c}),a}function agA(d,h,k){for(var c=0,b=0,j=h.length;j>b;b++){c+=h[b].getValue()}var g,f=d.get("visualDimension");if(h&&h.length){if("value"===f&&k){g=[h[h.length-1].getValue(),h[0].getValue()],"asc"===k&&g.reverse()}else{var g=[1/0,-1/0];hJ(h,function(a){var i=a.getValue(f);i<g[0]&&(g[0]=i),i>g[1]&&(g[1]=i)})}}else{g=[0/0,0/0]}return{sum:c,dataExtent:g}}function aaG(m,h,d){for(var g,j=0,c=1/0,b=0,p=m.length;p>b;b++){g=m[b].getLayout().area,g&&(c>g&&(c=g),g>j&&(j=g))}var f=m.area*m.area,k=h*h*d;return f?FG(k*j/f,f/(k*c)):1/0}function afZ(w,K,D,G,N){var C=K===D.width?0:1,A=1-C,z=["x","y"],F=["width","height"],q=D[z[C]],H=K?w.area/K:0;(N||H>D[F[A]])&&(H=D[F[A]]);for(var M=0,L=w.length;L>M;M++){var J=w[M],B={},I=H?J.getLayout().area/H:0,E=B[F[A]]=FG(H-2*G,0),k=D[z[C]]+D[F[C]]-q,b=M===L-1||I>k?k:I,j=B[F[C]]=FG(b-2*G,0);B[z[A]]=D[z[A]]+sX(G,E/2),B[z[C]]=q+sX(G,j/2),q+=b,J.setLayout(B,!0)}D[z[A]]+=H,D[F[A]]-=H}function acs(q,I,B,E,L){var A=(I||{}).node,x=[E,L];if(!A||A===B){return x}for(var w,D=E*L,k=D*q.option.zoomToNodeRatio;w=A.parentNode;){for(var F=0,K=w.children,J=0,H=K.length;H>J;J++){F+=K[J].getValue()}var z=A.getValue();if(0===z){return x}k*=F/z;var G=w.getModel(),C=G.get(CQ),j=Math.max(C,Qt(G,C));k+=4*C*C+(3*C+j)*Math.pow(k,0.5),k>FK&&(k=FK),A=w}D>k&&(k=D);var b=Math.pow(k/D,0.5);return[E*b,L*b]}function S6(k,h,d){if(h){return{x:h.x,y:h.y}}var g={x:0,y:0};if(!d){return g}var j=d.node,c=j.getLayout();if(!c){return g}for(var b=[c.width/2,c.height/2],m=j;m;){var f=m.getLayout();b[0]+=f.x,b[1]+=f.y,m=m.parentNode}return{x:k.width/2-b[0],y:k.height/2-b[1]}}function O1(k,h,d,g,j){var c=k.getLayout(),b=d[j],m=b&&b===k;if(!(b&&!m||j===d.length&&k!==g)){k.setLayout({isInView:!0,invisible:!m&&!h.intersect(c),isAboveViewRoot:m},!0);var f=new acw(h.x-c.x,h.y-c.y,h.width,h.height);hJ(k.viewChildren||[],function(a){O1(a,f,d,g,j+1)})}}function Qt(a){return a.get(f6)?a.get(A9):0}function aK(a){var b=0;aiT(a.children,function(d){aK(d);var e=d.value;ai9(e)&&(e=e[0]),b+=e});var c=a.value;ai9(c)&&(c=c[0]),(null==c||isNaN(c))&&(c=b),0>c&&(c=0),ai9(a.value)?a.value[0]=c:a.value=c}function RV(d,g,j){function c(){f.ignore=f.hoverIgnore}function b(){f.ignore=f.normalIgnore}jG.call(this);var h=new WB({z2:dt});h.seriesIndex=g.seriesIndex;var f=new ab3({z2:aeo,silent:d.getModel("label").get("silent")});this.add(h),this.add(f),this.updateData(!0,d,"normal",g,j),this.on("emphasis",c).on("normal",b).on("mouseover",c).on("mouseout",b)}function ajA(d,g,j){var c=d.getVisual("color"),b=d.getVisual("visualMeta");b&&0!==b.length||(c=null);var h=d.getModel("itemStyle").get("color");if(h){return h}if(c){return c}if(0===d.depth){return j.option.color[0]}var f=j.option.color.length;return h=j.option.color[lB(d)%f]}function lB(a){for(var b=a;b.depth>1;){b=b.parentNode}var c=a.getAncestors()[0];return aij(c.children,b)}function tZ(a,b,c){return c===eW.NONE?!1:c===eW.SELF?a===b:c===eW.ANCESTOR?a===b||a.isAncestorOf(b):a===b||a.isDescendantOf(b)}function zH(a,b){var c=a.children||[];a.children=j3(c,b),c.length&&aiT(a.children,function(d){zH(d,b)})}function j3(a,b){if("function"==typeof b){return a.sort(b)}var c="asc"===b;return a.sort(function(f,g){var d=(f.getValue()-g.getValue())*(c?1:-1);return 0===d?(f.dataIndex-g.dataIndex)*(c?-1:1):d})}function KV(b){for(var c,d=0;d<b.length;d++){var a=b[d].getBoundingRect();c=c||a.clone(),c.union(a)}return c}function GJ(q,k){var d,g,m=q.svgXML;try{d=m&&QQ(m,{ignoreViewBox:!0,ignoreRootClip:!0})||{},g=d.root,ajz(null!=g)}catch(c){throw new Error("Invalid svg format\n"+c.message)}var b=d.width,v=d.height,f=d.viewBoxRect;if(k||(k=null==b||null==v?g.getBoundingRect():new acw(0,0,0,0),null!=b&&(k.width=b),null!=v&&(k.height=v)),f){var p=O9(f,k.width,k.height),j=g;g=new jG,g.add(j),j.scale=p.scale,j.position=p.position}return g.setClipPath(new agM({shape:k.plain()})),{root:g,boundingRect:k}}function H1(a){return function(d,f){var c=vj(d),b=[];return aiT(c,function(e){var g=ac4[e.type][a];g&&b.push(g(d,e,f))}),b}}function vj(a){var b=IZ.retrieveMap(a)||[];return b}function adE(d,f,g,c){ab6.call(this,d),this.map=f;var b=UK.load(f,g);this._nameCoordMap=b.nameCoordMap,this._regionsMap=b.nameCoordMap,this._invertLongitute=null==c?!0:c,this.regions=b.regions,this._rect=b.boundingRect}function pU(d,g,j,c){var b=j.geoModel,h=j.seriesModel,f=b?b.coordinateSystem:h?h.coordinateSystem||(h.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return f===this?f[d](c):null}function q3(A,v){var j=A.get("boundingCoords");if(null!=j){var m=j[0],y=j[1];isNaN(m[0])||isNaN(m[1])||isNaN(y[0])||isNaN(y[1])||this.setBoundingRect(m[0],m[1],y[0]-m[0],y[1]-m[1])}var g,b=this.getBoundingRect(),B=A.get("layoutCenter"),k=A.get("layoutSize"),z=v.getWidth(),p=v.getHeight(),x=b.width/b.height*this.aspectScale,w=!1;B&&k&&(B=[wX(B[0],z),wX(B[1],p)],k=wX(k,Math.min(z,p)),isNaN(B[0])||isNaN(B[1])||isNaN(k)||(w=!0));var q;if(w){var q={};x>1?(q.width=k,q.height=k/x):(q.height=k,q.width=k*x),q.y=B[1]-q.height/2,q.x=B[0]-q.width/2}else{g=A.getBoxLayoutParams(),g.aspect=x,q=lq(g,{width:z,height:p})}this.setViewRect(q.x,q.y,q.width,q.height),this.setCenter(A.get("center")),this.setZoom(A.get("zoom"))}function mY(a,b){aiT(b.get("geoCoord"),function(c,d){a.addGeoCoord(d,c)})}function N0(a){var b=a.getItemStyle(),c=a.get("areaColor");return null!=c&&(b.fill=c),b}function E6(d,f,g,c,b){g.off("click"),g.off("mousedown"),f.get("selectedMode")&&(g.on("mousedown",function(){d._mouseDownFlag=!0}),g.on("click",function(h){if(d._mouseDownFlag){d._mouseDownFlag=!1;for(var e=h.target;!e.__regions;){e=e.parent}if(e){var a={type:("geo"===f.mainType?"geo":"map")+"ToggleSelect",batch:aiu(e.__regions,function(i){return{name:i.name,from:b.uid}})};a[f.mainType+"Id"]=f.id,c.dispatchAction(a),sF(f,g)}}}))}function sF(a,b){b.eachChild(function(c){aiT(c.__regions,function(d){c.trigger(a.isSelected(d.name)?"emphasis":"normal")})})}function Jt(a,b){var c=new jG;this.uid=eH("ec_map_draw"),this._controller=new aiY(a.getZr()),this._controllerHost={target:b?c:null},this.group=c,this._updateGroup=b,this._mouseDownFlag,this._mapName,this._initialized,c.add(this._regionsGroup=new jG),c.add(this._backgroundGroup=new jG)}function g8(a,b){var c={};return aiT(a,function(d){d.each(d.mapDimension("value"),function(h,g){var f="ec-"+d.getName(g);c[f]=c[f]||[],isNaN(h)||c[f].push(h)})}),a[0].map(a[0].mapDimension("value"),function(g,m){for(var e="ec-"+a[0].getName(m),d=0,p=1/0,f=-1/0,n=c[e].length,j=0;n>j;j++){p=Math.min(p,c[e][j]),f=Math.max(f,c[e][j]),d+=c[e][j]}var k;return k="min"===b?p:"max"===b?f:"average"===b?d/n:d,0===n?0/0:k})}function Cq(a){var b=a.data;b&&b[0]&&b[0][0]&&b[0][0].coord&&(a.data=aiu(b,function(c){var d=[c[0].coord,c[1].coord],f={coords:d};return c[0].name&&(f.fromName=c[0].name),c[1].name&&(f.toName=c[1].name),aix([f,c[0],c[1]])}))}function DV(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}function fY(a){return"_"+a+"Type"}function A0(d,g,j){var c=g.getItemVisual(j,"color"),b=g.getItemVisual(j,d),h=g.getItemVisual(j,d+"Size");if(b&&"none"!==b){ai9(h)||(h=[h,h]);var f=TQ(b,-h[0]/2,-h[1]/2,h[0],h[1],c);return f.name=d,f}}function b3(a){var b=new JB({name:"line"});return eF(b.shape,a),b}function eF(d,f){var g=f[0],c=f[1],b=f[2];d.x1=g[0],d.y1=g[1],d.x2=c[0],d.y2=c[1],d.percent=1,b?(d.cpx1=b[0],d.cpy1=b[1]):(d.cpx1=0/0,d.cpy1=0/0)}function c4(){var w=this,K=w.childOfName("fromSymbol"),D=w.childOfName("toSymbol"),G=w.childOfName("label");if(K||D||!G.ignore){for(var N=1,C=this.parent;C;){C.scale&&(N/=C.scale[0]),C=C.parent}var A=w.childOfName("line");if(this.__dirty||A.__dirty){var z=A.shape.percent,F=A.pointAt(0),q=A.pointAt(z),H=aiK([],q,F);if(WJ(H,H),K){K.attr("position",F);var M=A.tangentAt(0);K.attr("rotation",Math.PI/2-Math.atan2(M[1],M[0])),K.attr("scale",[N*z,N*z])}if(D){D.attr("position",q);var M=A.tangentAt(1);D.attr("rotation",-Math.PI/2-Math.atan2(M[1],M[0])),D.attr("scale",[N*z,N*z])}if(!G.ignore){G.attr("position",q);var L,J,B,I=5*N;if("end"===G.__position){L=[H[0]*I+q[0],H[1]*I+q[1]],J=H[0]>0.8?"left":H[0]<-0.8?"right":"center",B=H[1]>0.8?"top":H[1]<-0.8?"bottom":"middle"}else{if("middle"===G.__position){var E=z/2,M=A.tangentAt(E),k=[M[1],-M[0]],b=A.pointAt(E);k[1]>0&&(k[0]=-k[0],k[1]=-k[1]),L=[b[0]+k[0]*I,b[1]+k[1]*I],J="center",B="bottom";var j=-Math.atan2(M[1],M[0]);q[0]<F[0]&&(j=Math.PI+j),G.attr("rotation",j)}else{L=[-H[0]*I+F[0],-H[1]*I+F[1]],J=H[0]>0.8?"right":H[0]<-0.8?"left":"center",B=H[1]>0.8?"bottom":H[1]<-0.8?"top":"middle"}}G.attr({style:{textVerticalAlign:G.__verticalAlign||B,textAlign:G.__textAlign||J},position:L,scale:[N,N]})}}}}function aef(a,b,c){jG.call(this),this._createLine(a,b,c)}function iQ(a){this._ctor=a||aef,this.group=new jG}function Z5(d,f,h,c){var b=f.getItemLayout(h);if(n9(b)){var g=new d._ctor(f,h,c);f.setItemGraphicEl(h,g),d.group.add(g)}}function wV(d,g,j,c,b,h){var f=g.getItemGraphicEl(c);return n9(j.getItemLayout(b))?(f?f.updateData(j,b,h):f=new d._ctor(j,b,h),j.setItemGraphicEl(b,f),void d.group.add(f)):void d.group.remove(f)}function MH(a){var b=a.hostModel;return{lineStyle:b.getModel("lineStyle").getLineStyle(),hoverLineStyle:b.getModel("emphasis.lineStyle").getLineStyle(),labelModel:b.getModel("label"),hoverLabelModel:b.getModel("emphasis.label")}}function x6(a){return isNaN(a[0])||isNaN(a[1])}function n9(a){return !x6(a[0])&&!x6(a[1])}function WG(a,b,c){jG.call(this),this.add(this.createLine(a,b,c)),this._updateEffectSymbol(a,b)}function ahp(a,b,c){jG.call(this),this._createPolyline(a,b,c)}function ab5(a,b,c){WG.call(this,a,b,c),this._lastFrame=0,this._lastFramePercent=0}function ae2(){this.group=new jG}function akD(a){return a instanceof Array||(a=[a,a]),a}function abu(a){return"_EC_"+a}function Y9(a,b){this.id=null==a?"":a,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==b?-1:b}function XZ(a,b,c){this.node1=a,this.node2=b,this.dataIndex=null==c?-1:c}function adh(C,x,k){for(var q,A=C[0],j=C[1],b=C[2],D=1/0,m=k*k,B=0.1,v=0.1;0.9>=v;v+=0.1){eG[0]=aaH(A[0],j[0],b[0],v),eG[1]=aaH(A[1],j[1],b[1],v);var z=M9(x7(eG,x)-m);D>z&&(D=z,q=v)}for(var y=0;32>y;y++){var w=q+B;aeR[0]=aaH(A[0],j[0],b[0],q),aeR[1]=aaH(A[1],j[1],b[1],q),j4[0]=aaH(A[0],j[0],b[0],w),j4[1]=aaH(A[1],j[1],b[1],w);var z=x7(aeR,x)-m;if(M9(z)<0.01){break}var g=x7(j4,x)-m;B/=2,0>z?g>=0?q+=B:q-=B:g>=0?q-=B:q+=B}return q}function U4(a,b){return a.getVisual("opacity")||a.getModel().get(b)}function afC(d,f,g){var c=d.getGraphicEl(),b=U4(d,f);null!=g&&(null==b&&(b=1),b*=g),c.downplay&&c.downplay(),c.traverse(function(a){"group"!==a.type&&a.setStyle("opacity",b)})}function aiW(b,c){var d=U4(b,c),a=b.getGraphicEl();a.highlight&&a.highlight(),a.traverse(function(e){"group"!==e.type&&e.setStyle("opacity",d)})}function ahZ(a){return a instanceof Array||(a=[a,a]),a}function agO(a){var b=a.coordinateSystem;if(!b||"view"===b.type){var c=a.getGraph();c.eachNode(function(d){var f=d.getModel();d.setLayout([+f.get("x"),+f.get("y")])}),aaT(c)}}function aaT(a){a.eachEdge(function(d){var f=d.getModel().get("lineStyle.curveness")||0,g=ajR(d.node1.getLayout()),c=ajR(d.node2.getLayout()),b=[g,c];+f&&b.push([(g[0]+c[0])/2-(g[1]-c[1])*f,(g[1]+c[1])/2-(c[0]-g[0])*f]),d.setLayout(b)})}function agd(q){var k=q.coordinateSystem;if(!k||"view"===k.type){var d=k.getBoundingRect(),g=q.getData(),m=g.graph,c=0,b=g.getSum("value"),v=2*Math.PI/(b||g.count()),f=d.width/2+d.x,p=d.height/2+d.y,j=Math.min(d.width,d.height)/2;m.eachNode(function(a){var h=a.getValue("value");c+=v*(b?h:1)/2,a.setLayout([j*Math.cos(c)+f,j*Math.sin(c)+p]),c+=v*(b?h:1)/2}),g.setLayout({cx:f,cy:p}),m.eachEdge(function(s){var w,y=s.getModel().get("lineStyle.curveness")||0,l=ajR(s.node1.getLayout()),h=ajR(s.node2.getLayout()),x=(l[0]+h[0])/2,u=(l[1]+h[1])/2;+y&&(y*=3,w=[f*y+x*(1-y),p*y+u*(1-y)]),s.setLayout([l,h,w])})}}function acG(q,k,d){for(var g=d.rect,m=g.width,c=g.height,b=[g.x+m/2,g.y+c/2],v=null==d.gravity?0.1:d.gravity,f=0;f<q.length;f++){var p=q[f];p.p||(p.p=ajW(m*(Math.random()-0.5)+b[0],c*(Math.random()-0.5)+b[1])),p.pp=ajR(p.p),p.edges=null}var j=0.6;return{warmUp:function(){j=0.5},setFixed:function(a){q[a].fixed=!0},setUnfixed:function(a){q[a].fixed=!1},step:function(r){for(var w=[],B=q.length,h=0;h<k.length;h++){var t=k[h],D=t.n1,A=t.n2;aiK(w,A.p,D.p);var z=ajm(w)-t.d,y=A.w/(D.w+A.w);isNaN(y)&&(y=0),WJ(w,w),!D.fixed&&YY(D.p,D.p,w,y*z*j),!A.fixed&&YY(A.p,A.p,w,-(1-y)*z*j)}for(var h=0;B>h;h++){var e=q[h];e.fixed||(aiK(w,b,e.p),YY(e.p,e.p,w,v*j))}for(var h=0;B>h;h++){for(var D=q[h],x=h+1;B>x;x++){var A=q[x];aiK(w,A.p,D.p);var z=ajm(w);0===z&&(ajd(w,Math.random()-0.5,Math.random()-0.5),z=1);var s=(D.rep+A.rep)/z/z;!D.fixed&&YY(D.pp,D.pp,w,s),!A.fixed&&YY(A.pp,A.pp,w,-s)}}for(var C=[],h=0;B>h;h++){var e=q[h];e.fixed||(aiK(C,e.p,e.pp),YY(e.p,e.p,C,j),aji(e.pp,e.p))}j=0.992*j,r&&r(q,k,0.01>j)}}}function TU(b,c,d){var a=b.getBoxLayoutParams();return a.aspect=d,lq(a,{width:c.getWidth(),height:c.getHeight()})}function PG(d,g,j,c,b){var h=d.ends,f=new ahe({shape:{points:b?a0(h,c,d):h}});return QZ(d,f,g,j,b),f}function QZ(w,m,f,j,q){var d=f.hostModel,b=rG[q?"initProps":"updateProps"];b(m,{shape:{points:w.ends}},d,j);var x=f.getItemModel(j),g=x.getModel(ajE),v=f.getItemVisual(j,"color"),k=g.getItemStyle(["borderColor"]);k.stroke=v,k.strokeNoScale=!0,m.useStyle(k),m.z2=100;var p=x.getModel(aiD).getItemStyle();aQ(m,p)}function a0(a,b,c){return aiu(a,function(d){return d=d.slice(),d[b]=c.initBaseline,d})}function R9(a){var b=[],c=[];return a.eachSeriesByType("boxplot",function(f){var e=f.getBaseAxis(),d=aij(c,e);0>d&&(d=c.length,c[d]=e,b[d]={axis:e,seriesModels:[]}),b[d].seriesModels.push(f)}),b}function ajX(A){var v,j,m=A.axis,y=A.seriesModels,g=y.length,b=A.boxWidthList=[],B=A.boxOffsetList=[],k=[];if("category"===m.type){j=m.getBandWidth()}else{var z=0;ac6(y,function(a){z=Math.max(z,a.getData().count())}),v=m.getExtent(),Math.abs(v[1]-v[0])/z}ac6(y,function(a){var c=a.get("boxWidth");ai9(c)||(c=[c,c]),k.push([wX(c[0],j)||0,wX(c[1],j)||0])});var p=0.8*j-2,x=p/g*0.3,w=(p-x*(g-1))/g,q=w/2-p/2;ac6(y,function(a,c){B.push(q),q+=x+w,b.push(Math.min(Math.max(w,k[c][0]),k[c][1]))})}function l1(A,M,F){function I(f,h,e){var d=B.get(h,e),g=[];g[z]=f,g[J]=d;var c;return isNaN(f)||isNaN(d)?c=[0/0,0/0]:(c=C.dataToPoint(g),c[z]+=M),c}function P(f,g,h){var d=g.slice(),c=g.slice();d[z]+=H,c[z]-=H,h?f.push(d,c):f.push(c,d)}function E(c,d){var f=d.slice(),a=d.slice();f[z]-=H,a[z]+=H,c.push(f,a)}var C=A.coordinateSystem,B=A.getData(),H=F/2,z="horizontal"===A.get("layout")?0:1,J=1-z,O=["x","y"],N=B.mapDimension(O[z]),L=B.mapDimension(O[J],!0);if(!(null==N||L.length<5)){for(var D=0;D<B.count();D++){var K=B.get(N,D),G=I(K,L[2],D),q=I(K,L[0],D),b=I(K,L[1],D),j=I(K,L[3],D),Q=I(K,L[4],D),k=[];P(k,b,0),P(k,j,1),k.push(q,b,Q,j),E(k,q),E(k,Q),E(k,G),B.setItemLayout(D,{initBaseline:G[J],ends:k})}}}function uB(a){if(!a.parallel){var b=!1;aiT(a.series,function(c){c&&"parallel"===c.type&&(b=!0)}),b&&(a.parallel=[{}])}}function z3(a){var b=sZ(a.parallelAxis);aiT(b,function(d){if(ajq(d)){var f=d.parallelIndex||0,c=sZ(a.parallel)[f];c&&c.parallelAxisDefault&&ai5(d,c.parallelAxisDefault,!1)}})}function kH(a,b){var c=a[b]-a[1-b];return{span:Math.abs(c),sign:c>0?-1:0>c?1:b?-1:1}}function K9(a,b){return Math.min(b[1],Math.max(b[0],a))}function G5(a,b,c){this._axesMap=aj6(),this._axesLayout={},this.dimensions=a.dimensions,this._rect,this._model=a,this._init(a,b,c)}function IG(a,b){return aks(m1(a,b[0]),b[1])}function vY(a,b){var c=b.layoutLength/(b.axisCount-1);return{position:c*a,axisNameAvailableWidth:c,axisLabelShow:!0}}function adS(q,k){var d,g,m=k.layoutLength,c=k.axisExpandWidth,b=k.axisCount,v=k.axisCollapseWidth,f=k.winInnerIndices,p=v,j=!1;return q<f[0]?(d=q*v,g=v):q<=f[1]?(d=k.axisExpandWindow0Pos+q*c-k.axisExpandWindow[0],p=c,j=!0):(d=m-(b-1-q)*v,g=v),{position:d,axisNameAvailableWidth:p,axisLabelShow:j,nameTruncateMaxWidth:g}}function p7(a,b){var c=[];return a.eachComponent("parallel",function(e,d){var f=new G5(e,a,b);f.name="parallel_"+d,f.resize(e,b),e.coordinateSystem=f,f.model=e,c.push(f)}),a.eachSeries(function(d){if("parallel"===d.get("coordinateSystem")){var f=a.queryComponents({mainType:"parallel",index:d.get("parallelIndex"),id:d.get("parallelId")})[0];d.coordinateSystem=f.coordinateSystem}}),c}function rJ(a,b){return b.type||(b.data?"category":"value")}function nt(a){adp.call(this),this._zr=a,this.group=new jG,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+c7++,this._handlers={},q6(f1,function(b,c){this._handlers[c]=aic(b,this)},this)}function N8(a,b){var c=a._zr;a._enableGlobalPan||X0(c,DY,a._uid),q6(a._handlers,function(d,f){c.on(f,d)}),a._brushType=b.brushType,a._brushOption=ai5(aiO(CF),b,!0)}function FU(a){var b=a._zr;adi(b,DY,a._uid),q6(a._handlers,function(c,d){b.off(d,c)}),a._brushType=a._brushOption=null}function s2(a,b){var c=eJ[b.brushType].createCover(a,b);return c.__brushOption=b,CY(c,b),a.group.add(c),c}function JZ(a,b){var c=gq(b);return c.endCreating&&(c.endCreating(a,b),CY(b,b.__brushOption)),b}function hW(a,b){var c=b.__brushOption;gq(b).updateCoverShape(a,b,c.range,c)}function CY(a,b){var c=b.z;null==c&&(c=t2),a.traverse(function(d){d.z=c,d.z2=c})}function D9(a,b){gq(b).updateCommon(a,b),hW(a,b)}function gq(a){return eJ[a.__brushOption.brushType]}function BF(d,f,h){var c=d._panels;if(!c){return !0}var b,g=d._transform;return q6(c,function(a){a.isTargetByCursor(f,h,g)&&(b=a)}),b}function cq(b,c){var d=b._panels;if(!d){return !0}var a=c.__brushOption.panelId;return null!=a?d[a]:!0}function e1(a){var b=a._covers,c=b.length;return q6(b,function(d){a.group.remove(d)},a),b.length=0,!!c}function dJ(a,b){var c=sJ(a._covers,function(d){var f=d.__brushOption,g=aiO(f.range);return{brushType:f.brushType,panelId:f.panelId,range:g}});a.trigger("brush",c,{isEnd:!!b.isEnd,removeOnClick:!!b.removeOnClick})}function aet(d){var g=d._track;if(!g.length){return !1}var j=g[g.length-1],c=g[0],b=j[0]-c[0],h=j[1]-c[1],f=GU(b*b+h*h,0.5);return f>KY}function i7(a){var b=a.length-1;return 0>b&&(b=0),[a[0],a[b]]}function aaj(d,f,g,c){var b=new jG;return b.add(new agM({name:"main",style:oX(g),silent:!0,draggable:!0,cursor:"move",drift:aei(d,f,b,"nswe"),ondragend:aei(dJ,f,{isEnd:!0})})),q6(c,function(a){b.add(new agM({name:a,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:aei(d,f,b,a),ondragend:aei(dJ,f,{isEnd:!0})}))}),b}function w9(k,G,z,C){var J=C.brushStyle.lineWidth||0,y=O4(J,iW),w=z[0][0],q=z[1][0],B=w-J/2,j=q-J/2,D=z[0][1],I=z[1][1],H=D-y+J/2,F=I-y+J/2,x=D-w,E=I-q,A=x+J,b=E+J;yQ(k,G,"main",w,q,x,E),C.transformable&&(yQ(k,G,"w",B,j,y,b),yQ(k,G,"e",H,j,y,b),yQ(k,G,"n",B,j,A,y),yQ(k,G,"s",B,F,A,y),yQ(k,G,"nw",B,j,y,y),yQ(k,G,"ne",H,j,y,y),yQ(k,G,"sw",B,F,y,y),yQ(k,G,"se",H,F,y,y))}function MY(d,f){var g=f.__brushOption,c=g.transformable,b=f.childAt(0);b.useStyle(oX(g)),b.attr({silent:!c,cursor:c?"move":"default"}),q6(["w","e","n","s","se","sw","ne","nw"],function(i){var e=f.childOfName(i),h=abX(d,i);e&&e.attr({silent:!c,invisible:!c,cursor:c?hq[h]+"-resize":null})})}function yQ(d,h,k,c,b,j,g){var f=h.childOfName(k);f&&f.setShape(XK(Y1(d,h,[[c,b],[c+j,b+g]])))}function oX(a){return ain({strokeNoScale:!0},a.brushStyle)}function V7(d,f,h,c){var b=[ot(d,h),ot(f,c)],g=[O4(d,h),O4(f,c)];return[[b[0],g[0]],[b[1],g[1]]]}function ahh(a){return N1(a.group)}function abX(d,f){if(f.length>1){f=f.split("");var g=[abX(d,f[0]),abX(d,f[1])];return("e"===g[0]||"w"===g[0])&&g.reverse(),g.join("")}var c={w:"left",e:"right",n:"top",s:"bottom"},b={left:"w",right:"e",top:"n",bottom:"s"},g=sH(c[f],ahh(d));return b[g]}function aeU(m,h,d,g,j,c,b){var p=g.__brushOption,f=m(p.range),k=abm(d,c,b);q6(j.split(""),function(a){var i=E9[a];f[i[0]][i[1]]+=k[i[0]]}),p.range=h(V7(f[0][0],f[1][0],f[0][1],f[1][1])),D9(d,g),dJ(d,{isEnd:!1})}function akv(d,f,h,c){var b=f.__brushOption.range,g=abm(d,h,c);q6(b,function(a){a[0]+=g[0],a[1]+=g[1]}),D9(d,f),dJ(d,{isEnd:!1})}function abm(d,f,h){var c=d.group,b=c.transformCoordToLocal(f,h),g=c.transformCoordToLocal(0,0);return[b[0]-g[0],b[1]-g[1]]}function Y1(c,d,f){var b=cq(c,d);return b&&b!==!0?b.clipPath(f,c._transform):aiO(f)}function XK(d){var f=ot(d[0][0],d[1][0]),g=ot(d[0][1],d[1][1]),c=O4(d[0][0],d[1][0]),b=O4(d[0][1],d[1][1]);return{x:f,y:g,width:c-f,height:b-g}}function ac9(d,h,k){if(d._brushType){var c=d._zr,b=d._covers,j=BF(d,h,k);if(!d._dragging){for(var g=0;g<b.length;g++){var f=b[g].__brushOption;if(j&&(j===!0||f.panelId===j.panelId)&&eJ[f.brushType].contain(b[g],k[0],k[1])){return}}}j&&c.setCursorStyle("crosshair")}}function UW(a){var b=a.event;b.preventDefault&&b.preventDefault()}function afu(a,b,c){return a.childOfName("main").contain(b,c)}function aiI(q,j,f,m){var d,b=q._creatingCover,v=q._creatingPanel,g=q._brushOption;if(q._track.push(f.slice()),aet(q)||b){if(v&&!b){"single"===g.brushMode&&e1(q);var p=aiO(g);p.brushType=ahR(p.brushType,v),p.panelId=v===!0?null:v.panelId,b=q._creatingCover=s2(q,p),q._covers.push(b)}if(b){var i=eJ[ahR(q._brushType,v)],k=b.__brushOption;k.range=i.getCreatingRange(Y1(q,b,q._track)),m&&(JZ(q,b),i.updateCommon(q,b)),hW(q,b),d={isEnd:m}}}else{m&&"single"===g.brushMode&&g.removeOnClick&&BF(q,j,f)&&e1(q)&&(d={isEnd:m,removeOnClick:!0})}return d}function ahR(a,b){return"auto"===a?b.defaultBrushType:a}function agG(a){if(this._dragging){UW(a);var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY),c=aiI(this,a,b,!0);this._dragging=!1,this._track=[],this._creatingCover=null,c&&dJ(this,c)}}function aaL(a){return{createCover:function(b,c){return aaj(aei(aeU,function(d){var f=[d,[0,100]];return a&&f.reverse(),f},function(d){return d[a]}),b,c,[["w","e"],["n","s"]][a])},getCreatingRange:function(d){var f=i7(d),c=ot(f[0][a],f[1][a]),b=O4(f[0][a],f[1][a]);return[c,b]},updateCoverShape:function(h,k,d,c){var j,g=cq(h,k);if(g!==!0&&g.getLinearBrushOtherExtent){j=g.getLinearBrushOtherExtent(a,h._transform)}else{var f=h._zr;j=[0,[f.getWidth(),f.getHeight()][1-a]]}var b=[d,j];a&&b.reverse(),w9(h,k,b,c)},updateCommon:MY,contain:afu}}function af5(a){return a=O7(a),function(b){return hj(b,a)}}function acy(a,b){return a=O7(a),function(f){var d=null!=b?b:f,c=d?a.width:a.height,e=d?a.x:a.y;return[e,e+(c||0)]}}function Tt(a,b,c){return a=O7(a),function(e,d){return a.contain(d[0],d[1])&&!a1(e,b,c)}}function O7(a){return acw.create(a)}function QK(a,b,c){return c&&"axisAreaSelect"===c.type&&b.findComponents({mainType:"parallelAxis",query:c})[0]===a}function aV(a){var b=a.axis;return aiu(a.activeIntervals,function(c){return{brushType:"lineX",panelId:"pl",range:[b.dataToCoord(c[0],!0),b.dataToCoord(c[1],!0)]}})}function R1(a,b){return b.getComponent("parallel",a.get("parallelIndex"))}function ajJ(a,b){var c=a._model;return c.get("axisExpandable")&&c.get("axisExpandTriggerOn")===b}function lQ(b,c){if(!b.encodeDefine){var d=c.ecModel.getComponent("parallel",c.get("parallelIndex"));if(d){var a=b.encodeDefine=aj6();aiT(d.dimensions,function(f){var g=t5(f);a.set(f,g)})}}}function t5(a){return +a.replace("dim","")}function zV(d,g,j){var c=d.model,b=d.getRect(),h=new agM({shape:{x:b.x,y:b.y,width:b.width,height:b.height}}),f="horizontal"===c.get("layout")?"width":"height";return h.setShape(f,0),m0(h,{shape:{width:b.width,height:b.height}},g,j),h}function j8(d,h,k,c){for(var b=[],j=0;j<k.length;j++){var g=k[j],f=d.get(d.mapDimension(g),h);vH(f,c.getAxis(g).type)||b.push(c.dataToPoint(f,g))}return b}function K1(d,g,j,c,b){var h=j8(d,j,c,b),f=new abs({shape:{points:h},silent:!0,z2:10});return g.add(f),d.setItemGraphicEl(j,f),f}function GX(a){var b=a.get("smooth",!0);return b===!0&&(b=Nj),{lineStyle:a.getModel("lineStyle").getLineStyle(),smooth:null!=b?b:Nj}}function H7(d,g,j,c){var b=c.lineStyle;if(g.hasItemOption){var h=g.getItemModel(j).getModel("lineStyle");b=h.getLineStyle()}d.useStyle(b);var f=d.style;f.fill=null,f.stroke=g.getItemVisual(j,"color"),f.opacity=g.getItemVisual(j,"opacity"),c.smooth&&(d.shape.smooth=c.smooth)}function vH(a,b){return"category"===b?null==a:null==a||isNaN(a)}function adK(k,h){var d=k.get("center"),g=h.getWidth(),j=h.getHeight(),c=Math.min(g,j),b=wX(d[0],h.getWidth()),m=wX(d[1],h.getHeight()),f=wX(k.get("radius"),c/2);return{cx:b,cy:m,r:f}}function pZ(a,b){return b&&("string"==typeof b?a=b.replace("{value}",null!=a?a:""):"function"==typeof b&&(a=b(a))),a}function q9(d,g){function j(){h.ignore=h.hoverIgnore,f.ignore=f.hoverIgnore}function c(){h.ignore=h.normalIgnore,f.ignore=f.normalIgnore}jG.call(this);var b=new ahn,h=new abs,f=new ab3;this.add(b),this.add(h),this.add(f),this.updateData(d,g,!0),this.on("emphasis",j).on("normal",c).on("mouseover",j).on("mouseout",c)}function m4(a,b){return lq(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function N3(d,h){for(var k=d.mapDimension("value"),c=d.mapArray(k,function(a){return a}),b=[],j="ascending"===h,g=0,f=d.count();f>g;g++){b[g]=g}return"function"==typeof h?b.sort(h):"none"!==h&&b.sort(function(a,i){return j?c[a]-c[i]:c[i]-c[a]}),b}function Ft(a){a.each(function(B){var q,x,E,k,b=a.getItemModel(B),H=b.getModel("label"),w=H.get("position"),G=b.getModel("labelLine"),y=a.getItemLayout(B),D=y.points,C="inner"===w||"inside"===w||"center"===w;if(C){x=(D[0][0]+D[1][0]+D[2][0]+D[3][0])/4,E=(D[0][1]+D[1][1]+D[2][1]+D[3][1])/4,q="center",k=[[x,E],[x,E]]}else{var A,j,z,t=G.get("length");"left"===w?(A=(D[3][0]+D[0][0])/2,j=(D[3][1]+D[0][1])/2,z=A-t,x=z-5,q="right"):(A=(D[1][0]+D[2][0])/2,j=(D[1][1]+D[2][1])/2,z=A+t,x=z+5,q="left");var F=j;k=[[A,j],[z,F]],E=F}y.label={linePoints:k,x:x,y:E,verticalAlign:"middle",textAlign:q,inside:C}})}function sU(a,b){return a.getVisual("opacity")||a.getModel().get(b)}function JK(d,f,g){var c=d.getGraphicEl(),b=sU(d,f);null!=g&&(null==b&&(b=1),b*=g),c.downplay&&c.downplay(),c.traverse(function(a){"group"!==a.type&&a.setStyle("opacity",b)})}function hF(b,c){var d=sU(b,c),a=b.getGraphicEl();a.highlight&&a.highlight(),a.traverse(function(e){"group"!==e.type&&e.setStyle("opacity",d)})}function CH(b,c,d){var a=new agM({shape:{x:b.x-10,y:b.y-10,width:0,height:b.height+20}});return m0(a,{shape:{width:b.width+20,height:b.height+20}},c,d),a}function D1(){function b(n,k){if(k>=d.length){return n}for(var p=-1,g=n.length,f=d[k++],t={},j={};++p<g;){var q=f(n[p]),m=j[q];m?m.push(n[p]):j[q]=[n[p]]}return aiT(j,function(h,i){t[i]=b(h,k)}),t}function c(f,e){if(e>=d.length){return f}var h=[],g=a[e++];return aiT(f,function(i,j){h.push({key:j,values:c(i,e)})}),g?h.sort(function(i,j){return g(i.key,j.key)}):h}var d=[],a=[];return{key:function(e){return d.push(e),this},sortKeys:function(e){return a[d.length-1]=e,this},entries:function(e){return c(b(e,0),0)}}}function f3(a,b){return lq(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function A6(d,h,k,c,b,j,g,f){eQ(d,h,k,b,j,f),iZ(d,h,j,b,c,g,f),aa9(d,f)}function b6(a){aiT(a,function(c){var d=aeJ(c.outEdges,abK),f=aeJ(c.inEdges,abK),b=Math.max(d,f);c.setLayout({value:b},!0)})}function eQ(w,K,D,G,N,C){for(var A=[],z=[],F=[],q=[],H=0,M=0,L=0;L<K.length;L++){A[L]=1}for(L=0;L<w.length;L++){z[L]=w[L].inEdges.length,0===z[L]&&F.push(w[L])}for(;F.length;){for(var J=0;J<F.length;J++){var B=F[J];"vertical"===C?(B.setLayout({y:H},!0),B.setLayout({dy:D},!0)):(B.setLayout({x:H},!0),B.setLayout({dx:D},!0));for(var I=0;I<B.outEdges.length;I++){var E=B.outEdges[I],k=K.indexOf(E);A[k]=0;var b=E.node2,j=w.indexOf(b);0===--z[j]&&q.push(b)}}++H,F=q,q=[]}for(L=0;L<A.length;L++){}c9(w,H,C),M="vertical"===C?(N-D)/(H-1):(G-D)/(H-1),ael(w,M,C)}function c9(a,b,c){aiT(a,function(d){d.outEdges.length||("vertical"===c?d.setLayout({y:b-1},!0):d.setLayout({x:b-1},!0))})}function ael(a,b,c){aiT(a,function(f){if("vertical"===c){var e=f.getLayout().y*b;f.setLayout({y:e},!0)}else{var d=f.getLayout().x*b;f.setLayout({x:d},!0)}})}function iZ(k,h,d,g,j,c,b){var m=D1().key(aab(b)).sortKeys(function(a,i){return a-i}).entries(k).map(function(a){return a.values});w1(k,m,h,d,g,j,b),MQ(m,j,d,g,b);for(var f=1;c>0;c--){f*=0.99,yq(m,f,b),MQ(m,j,d,g,b),aki(m,f,b),MQ(m,j,d,g,b)}}function aab(a){return"vertical"===a?function(b){return b.getLayout().y}:function(b){return b.getLayout().x}}function w1(k,h,d,g,j,c,b){var m=[];aiT(h,function(i){var o=i.length,p=0,a=0;aiT(i,function(e){p+=e.getLayout().value}),a="vertical"===b?(j-(o-1)*c)/p:(g-(o-1)*c)/p,m.push(a)}),m.sort(function(a,i){return a-i});var f=m[0];aiT(h,function(a){aiT(a,function(i,l){var o=i.getLayout().value*f;"vertical"===b?(i.setLayout({x:l},!0),i.setLayout({dx:o},!0)):(i.setLayout({y:l},!0),i.setLayout({dy:o},!0))})}),aiT(d,function(a){var i=+a.getValue()*f;a.setLayout({dy:i},!0)})}function MQ(d,f,g,c,b){aiT(d,function(i){var n,m,k,a=0,e=i.length;if("vertical"===b){var j;for(i.sort(function(h,l){return h.getLayout().x-l.getLayout().x}),k=0;e>k;k++){n=i[k],m=a-n.getLayout().x,m>0&&(j=n.getLayout().x+m,n.setLayout({x:j},!0)),a=n.getLayout().x+n.getLayout().dx+f}if(m=a-f-c,m>0){for(j=n.getLayout().x-m,n.setLayout({x:j},!0),a=j,k=e-2;k>=0;--k){n=i[k],m=n.getLayout().x+n.getLayout().dx+f-a,m>0&&(j=n.getLayout().x-m,n.setLayout({x:j},!0)),a=n.getLayout().x}}}else{var p;for(i.sort(function(h,l){return h.getLayout().y-l.getLayout().y}),k=0;e>k;k++){n=i[k],m=a-n.getLayout().y,m>0&&(p=n.getLayout().y+m,n.setLayout({y:p},!0)),a=n.getLayout().y+n.getLayout().dy+f}if(m=a-f-g,m>0){for(p=n.getLayout().y-m,n.setLayout({y:p},!0),a=p,k=e-2;k>=0;--k){n=i[k],m=n.getLayout().y+n.getLayout().dy+f-a,m>0&&(p=n.getLayout().y-m,n.setLayout({y:p},!0)),a=n.getLayout().y}}}})}function yq(a,b,c){aiT(a.slice().reverse(),function(d){aiT(d,function(g){if(g.outEdges.length){var f=aeJ(g.outEdges,oG,c)/aeJ(g.outEdges,abK,c);if("vertical"===c){var e=g.getLayout().x+(f-ag4(g,c))*b;g.setLayout({x:e},!0)}else{var h=g.getLayout().y+(f-ag4(g,c))*b;g.setLayout({y:h},!0)}}})})}function oG(a,b){return ag4(a.node2,b)*a.getValue()}function VU(a,b){return ag4(a.node1,b)*a.getValue()}function ag4(a,b){return"vertical"===b?a.getLayout().x+a.getLayout().dx/2:a.getLayout().y+a.getLayout().dy/2}function abK(a){return a.getValue()}function aeJ(d,g,j){for(var c=0,b=d.length,h=-1;++h<b;){var f=+g.call(d,d[h],j);isNaN(f)||(c+=f)}return c}function aki(a,b,c){aiT(a,function(d){aiT(d,function(g){if(g.inEdges.length){var f=aeJ(g.inEdges,VU,c)/aeJ(g.inEdges,abK,c);if("vertical"===c){var e=g.getLayout().x+(f-ag4(g,c))*b;g.setLayout({x:e},!0)}else{var h=g.getLayout().y+(f-ag4(g,c))*b;g.setLayout({y:h},!0)}}})})}function aa9(a,b){aiT(a,function(c){"vertical"===b?(c.outEdges.sort(function(d,f){return d.node2.getLayout().x-f.node2.getLayout().x}),c.inEdges.sort(function(d,f){return d.node1.getLayout().x-f.node1.getLayout().x})):(c.outEdges.sort(function(d,f){return d.node2.getLayout().y-f.node2.getLayout().y}),c.inEdges.sort(function(d,f){return d.node1.getLayout().y-f.node1.getLayout().y}))}),aiT(a,function(c){var d=0,f=0;aiT(c.outEdges,function(e){e.setLayout({sy:d},!0),d+=e.getLayout().dy}),aiT(c.inEdges,function(e){e.setLayout({ty:f},!0),f+=e.getLayout().dy})})}function YG(a,b,c){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(a,b,c),this.model=a}function W5(a,b){var c=[];return a.eachComponent("singleAxis",function(e,d){var f=new YG(e,a,b);f.name="single_"+d,f.resize(e,b),e.coordinateSystem=f,c.push(f)}),a.eachSeries(function(d){if("singleAxis"===d.get("coordinateSystem")){var f=a.queryComponents({mainType:"singleAxis",index:d.get("singleAxisIndex"),id:d.get("singleAxisId")})[0];d.coordinateSystem=f&&f.coordinateSystem}}),c}function acW(y,p){p=p||{};var g=y.coordinateSystem,k=y.axis,w={},f=k.position,b=k.orient,z=g.getRect(),j=[z.x,z.x+z.width,z.y,z.y+z.height],x={horizontal:{top:j[2],bottom:j[3]},vertical:{left:j[0],right:j[1]}};w.position=["vertical"===b?x.vertical[f]:j[0],"horizontal"===b?x.horizontal[f]:j[3]];var m={horizontal:0,vertical:1};w.rotation=Math.PI/2*m[b];var v={top:-1,bottom:1,right:1,left:-1};w.labelDirection=w.tickDirection=w.nameDirection=v[f],y.get("axisTick.inside")&&(w.tickDirection=-w.tickDirection),aj0(p.labelInside,y.get("axisLabel.inside"))&&(w.labelDirection=-w.labelDirection);var q=p.rotate;return null==q&&(q=y.get("axisLabel.rotate")),w.labelRotation="top"===f?-q:q,w.z2=1,w}function Uj(a,b){return b.type||(b.data?"category":"value")}function afh(k,g,c,f,h){var b=k.axis;if(!b.scale.isBlank()&&b.containData(g)){if(!k.involveSeries){return void c.showPointer(k,g)}var m=aim(g,k),d=m.payloadBatch,j=m.snapToValue;d[0]&&null==h.seriesIndex&&aip(h,d[0]),!f&&k.snap&&b.containData(j)&&null!=j&&(g=j),c.showPointer(k,g,d,h),c.showTooltip(k,m,j)}}function aim(d,h){var k=h.axis,c=k.dim,b=d,j=[],g=Number.MAX_VALUE,f=-1;return RU(h.seriesModels,function(o){var a,i,m=o.getData().mapDimension(c,!0);if(o.getAxisTooltipData){var q=o.getAxisTooltipData(m,d,k);i=q.dataIndices,a=q.nestestValue}else{if(i=o.getData().indicesOfNearest(m[0],d,"category"===k.type?0.5:null),!i.length){return}a=o.getData().get(m[0],i[0])}if(null!=a&&isFinite(a)){var p=d-a,n=Math.abs(p);g>=n&&((g>n||p>=0&&0>f)&&(g=n,f=p,b=a,j.length=0),RU(i,function(e){j.push({seriesIndex:o.seriesIndex,dataIndexInside:e,dataIndex:o.getData().getRawIndex(e)})}))}}),{payloadBatch:j,snapToValue:b}}function ahF(b,c,d,a){b[c.key]={value:d,payloadBatch:a}}function agt(q,k,d,g){var m=d.payloadBatch,c=k.axis,b=c.model,v=k.axisPointerModel;if(k.triggerTooltip&&m.length){var f=k.coordSys.model,p=LG(f),j=q.map[p];j||(j=q.map[p]={coordSysId:f.id,coordSysIndex:f.componentIndex,coordSysType:f.type,coordSysMainType:f.mainType,dataByAxis:[]},q.list.push(j)),j.dataByAxis.push({axisDim:c.dim,axisIndex:b.componentIndex,axisType:b.type,axisId:b.id,value:g,valueLabelOpt:{precision:v.get("label.precision"),formatter:v.get("label.formatter")},seriesDataIndices:m.slice()})}}function aaz(b,c,d){var a=d.axesInfo=[];RU(c,function(g,i){var f=g.axisPointerModel.option,h=b[i];h?(!g.useHandle&&(f.status="show"),f.value=h.value,f.seriesDataIndices=(h.payloadBatch||[]).slice()):!g.useHandle&&(f.status="hide"),"show"===f.status&&a.push({axisDim:g.axis.dim,axisIndex:g.axis.model.componentIndex,value:f.value})})}function afS(d,f,g,c){if(P5(f)||!d.list.length){return void c({type:"hideTip"})}var b=((d.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};c({type:"showTip",escapeConnect:!0,x:f[0],y:f[1],tooltipOption:g.tooltipOption,position:g.position,dataIndexInside:b.dataIndexInside,dataIndex:b.dataIndex,seriesIndex:b.seriesIndex,dataByCoordSys:d.list})}function acl(k,h,d){var g=d.getZr(),j="axisPointerLastHighlights",c=S5(g)[j]||{},b=S5(g)[j]={};RU(k,function(a){var i=a.axisPointerModel.option;"show"===i.status&&RU(i.seriesDataIndices,function(l){var n=l.seriesIndex+" | "+l.dataIndex;b[n]=l})});var m=[],f=[];aiT(c,function(a,i){!b[i]&&f.push(a)}),aiT(b,function(a,i){!c[i]&&m.push(a)}),f.length&&d.dispatchAction({type:"downplay",escapeConnect:!0,batch:f}),m.length&&d.dispatchAction({type:"highlight",escapeConnect:!0,batch:m})}function SZ(b,c){for(var d=0;d<(b||[]).length;d++){var a=b[d];if(c.axis.dim===a.axisDim&&c.axis.model.componentIndex===a.axisIndex){return a}}}function OU(b){var c=b.axis.model,d={},a=d.axisDim=b.axis.dim;return d.axisIndex=d[a+"AxisIndex"]=c.componentIndex,d.axisName=d[a+"AxisName"]=c.name,d.axisId=d[a+"AxisId"]=c.id,d}function P5(a){return !a||null==a[0]||isNaN(a[0])||null==a[1]||isNaN(a[1])}function aF(d,f,g){if(!B3.node){var c=f.getZr();mX(c).records||(mX(c).records={}),RF(c,f);var b=mX(c).records[d]||(mX(c).records[d]={});b.handler=g}}function RF(a,b){function c(e,d){a.on(e,function(g){var f=y9(b);u9(mX(a).records,function(h){h&&d(h,g,f.dispatchAction)}),ajn(f.pendings,b)})}mX(a).initialized||(mX(a).initialized=!0,c("click",aie(tK,"click")),c("mousemove",aie(tK,"mousemove")),c("globalout",k6))}function ajn(d,f){var g,c=d.showTip.length,b=d.hideTip.length;c?g=d.showTip[c-1]:b&&(g=d.hideTip[b-1]),g&&(g.dispatchAction=null,f.dispatchAction(g))}function k6(a,b,c){a.handler("leave",null,c)}function tK(b,c,d,a){c.handler(b,d,a)}function y9(a){var b={showTip:[],hideTip:[]},c=function(e){var d=b[e.type];d?d.push(e):(e.dispatchAction=c,a.dispatchAction(e))};return{dispatchAction:c,pendings:b}}function jW(b,c){if(!B3.node){var d=c.getZr(),a=(mX(d).records||{})[b];a&&(mX(d).records[b]=null)}}function KG(){}function Gj(b,c,d,a){HU(lt(d).lastProp,a)||(lt(d).lastProp=a,c?q5(d,a,b):(d.stopAnimation(),d.attr(a)))}function HU(a,b){if(ajq(a)&&ajq(b)){var c=!0;return aiT(b,function(f,d){c=c&&HU(a[d],f)}),!!c}return a===b}function u3(a,b){a[b.get("label.show")?"show":"hide"]()}function adx(a){return{position:a.position.slice(),rotation:a.rotation||0}}function pB(d,f,g){var c=f.get("z"),b=f.get("zlevel");d&&d.traverse(function(a){"group"!==a.type&&(null!=c&&(a.z=c),null!=b&&(a.zlevel=b),a.silent=g)})}function qW(b){var c,d=b.get("type"),a=b.getModel(d+"Style");return"line"===d?(c=a.getLineStyle(),c.fill=null):"shadow"===d&&(c=a.getAreaStyle(),c.stroke=null),c}function mJ(G,B,q,x,E){var k=q.get("value"),b=EZ(k,B.axis,B.ecModel,q.get("seriesDataIndices"),{precision:q.get("label.precision"),formatter:q.get("label.formatter")}),H=q.getModel("label"),w=dG(H.get("padding")||0),F=H.getFont(),y=N2(b,F),D=E.position,C=y.width+w[1]+w[3],A=y.height+w[0]+w[2],j=E.align;"right"===j&&(D[0]-=C),"center"===j&&(D[0]-=C/2);var z=E.verticalAlign;"bottom"===z&&(D[1]-=A),"middle"===z&&(D[1]-=A/2),NW(D,C,A,x);var v=H.get("backgroundColor");v&&"auto"!==v||(v=B.get("axisLine.lineStyle.color")),G.label={shape:{x:0,y:0,width:C,height:A,r:H.get("borderRadius")},position:D.slice(),style:{text:b,textFont:F,textFill:H.getTextColor(),textPosition:"inside",fill:v,stroke:H.get("borderColor")||"transparent",lineWidth:H.get("borderWidth")||0,shadowBlur:H.get("shadowBlur"),shadowColor:H.get("shadowColor"),shadowOffsetX:H.get("shadowOffsetX"),shadowOffsetY:H.get("shadowOffsetY")},z2:10}}function NW(d,f,h,c){var b=c.getWidth(),g=c.getHeight();d[0]=Math.min(d[0]+f,b)-f,d[1]=Math.min(d[1]+h,g)-h,d[0]=Math.max(d[0],0),d[1]=Math.max(d[1],0)}function EZ(d,h,k,c,b){d=h.scale.parse(d);var j=h.scale.getLabel(d,{precision:b.precision}),g=b.formatter;if(g){var f={value:agN(h,d),seriesData:[]};aiT(c,function(n){var o=k.getSeriesByIndex(n.seriesIndex),m=n.dataIndexInside,l=o&&o.getDataParams(m);l&&f.seriesData.push(l)}),ai2(g)?j=g.replace("{value}",j):aif(g)&&(j=g(f))}return j}function r7(b,c,d){var a=aj1();return Lq(a,a,d.rotation),kK(a,a,d.position),E8([b.dataToCoord(c),(d.labelOffset||0)+(d.labelDirection||1)*(d.labelMargin||0)],a)}function I5(d,g,j,c,b,h){var f=LH.innerTextLayout(j.rotation,0,j.labelDirection);j.labelMargin=b.get("label.margin"),mJ(g,c,b,h,{position:r7(c.axis,d,j),align:f.textAlign,verticalAlign:f.textVerticalAlign})}function g1(a,b,c){return c=c||0,{x1:a[c],y1:a[1-c],x2:b[c],y2:b[1-c]}}function B4(a,b,c){return c=c||0,{x:a[c],y:a[1-c],width:b[c],height:b[1-c]}}function DF(d,f,h,c,b,g){return{cx:d,cy:f,r0:h,r:c,startAngle:b,endAngle:g,clockwise:!0}}function fJ(a,b){var c={};return c[b.dim+"AxisIndex"]=b.index,a.getCartesian(c)}function AQ(a){return"x"===a.dim?0:1}function bZ(a){return a.isHorizontal()?0:1}function d7(a,b){var c=a.getRect();return[c[aee[b]],c[aee[b]]+c[q2[b]]]}function cX(b,c,d){var a=new agM({shape:{x:b.x-10,y:b.y-10,width:0,height:b.height+20}});return m0(a,{shape:{width:b.width+20,height:b.height+20}},c,d),a}function ad8(E,z,k){if(E.count()){for(var v,C=z.coordinateSystem,j=z.getLayerSeries(),b=E.mapDimension("single"),F=E.mapDimension("value"),q=aiu(j,function(a){return aiu(a.indices,function(c){var d=C.dataToPoint(E.get(b,c));return d[1]=E.get(F,c),d})}),D=it(q),w=D.y0,B=k/D.max,A=j.length,y=j[0].indices.length,x=0;y>x;++x){v=w[x]*B,E.setItemLayout(j[0].indices[x],{layerIndex:0,x:q[0][x][0],y0:v,y:q[0][x][1]*B});for(var p=1;A>p;++p){v+=q[p-1][x][1]*B,E.setItemLayout(j[p].indices[x],{layerIndex:p,x:q[p][x][0],y0:v,y:q[p][x][1]*B})}}}}function it(y){for(var p,g=y.length,k=y[0].length,w=[],f=[],b=0,z={},j=0;k>j;++j){for(var x=0,p=0;g>x;++x){p+=y[x][j][1]}p>b&&(b=p),w.push(p)}for(var m=0;k>m;++m){f[m]=(b-w[m])/2}b=0;for(var v=0;k>v;++v){var q=w[v]+f[v];q>b&&(b=q)}return z.y0=f,z.max=b,z}function ZY(C,x,k,q){var A=C.getItemLayout(x),j=k.get("symbolRepeat"),b=k.get("symbolClip"),D=k.get("symbolPosition")||"start",m=k.get("symbolRotate"),B=(m||0)*Math.PI/180||0,v=k.get("symbolPatternSize")||2,z=k.isAnimationEnabled(),y={dataIndex:x,layout:A,itemModel:k,symbolType:C.getItemVisual(x,"symbol")||"circle",color:C.getItemVisual(x,"color"),symbolClip:b,symbolRepeat:j,symbolRepeatDirection:k.get("symbolRepeatDirection"),symbolPatternSize:v,rotation:B,animationModel:z?k:null,hoverAnimation:z&&k.get("hoverAnimation"),z2:k.getShallow("z",!0)||0};wF(k,j,A,q,y),xZ(C,x,A,j,b,y.boundingLength,y.pxSign,v,q,y),n2(k,y.symbolScale,B,q,y);var w=y.symbolSize,g=k.get("symbolOffset");return ai9(g)&&(g=[wX(g[0],w[0]),wX(g[1],w[1])]),VJ(k,w,A,j,b,g,D,y.valueLineWidth,y.boundingLength,y.repeatCutLength,q,y),y}function wF(w,m,f,j,q){var d,b=j.valueDim,x=w.get("symbolBoundingData"),g=j.coordSys.getOtherAxis(j.coordSys.getBaseAxis()),v=g.toGlobalCoord(g.dataToCoord(0)),k=1-+(f[b.wh]<=0);if(ai9(x)){var p=[Mt(g,x[0])-v,Mt(g,x[1])-v];p[1]<p[0]&&p.reverse(),d=p[k]}else{d=null!=x?Mt(g,x)-v:m?j.coordSysExtent[b.index][k]-v:f[b.wh]}q.boundingLength=d,m&&(q.repeatCutLength=f[b.wh]),q.pxSign=d>0?1:0>d?-1:0}function Mt(a,b){return a.toGlobalCoord(a.dataToCoord(a.scale.parse(b)))}function xZ(C,x,k,q,A,j,b,D,m,B){var v=m.valueDim,z=m.categoryDim,y=Math.abs(k[z.wh]),w=C.getItemVisual(x,"symbolSize");ai9(w)?w=w.slice():(null==w&&(w="100%"),w=[w,w]),w[z.index]=wX(w[z.index],y),w[v.index]=wX(w[v.index],q?y:Math.abs(j)),B.symbolSize=w;var g=B.symbolScale=[w[0]/D,w[1]/D];g[v.index]*=(m.isHorizontal?-1:1)*b}function n2(d,f,h,c,b){var g=d.get(DU)||0;g&&(g7.attr({scale:f.slice(),rotation:h}),g7.updateTransform(),g/=g7.getLineScale(),g*=f[c.valueDim.index]),b.valueLineWidth=g}function VJ(J,ab,R,X,af,Q,K,V,H,Y,ad,ac){var aa=ad.categoryDim,P=ad.valueDim,Z=ac.pxSign,U=Math.max(ab[P.index]+V,0),G=U;if(X){var B=Math.abs(H),E=aj0(J.get("symbolMargin"),"15%")+"",ag=!1;E.lastIndexOf("!")===E.length-1&&(ag=!0,E=E.slice(0,E.length-1)),E=wX(E,ab[P.index]);var F=Math.max(U+2*E,0),ae=ag?0:2*E,q=aiv(X),r=q?X:SW((B+ae)/F),D=B-r*U;E=D/2/(ag?r:r-1),F=U+2*E,ae=ag?0:2*E,q||"fixed"===X||(r=Y?SW((Math.abs(Y)+ae)/F):0),G=r*F-ae,ac.repeatTimes=r,ac.symbolMargin=E}var j=Z*(G/2),O=ac.pathPosition=[];O[aa.index]=R[aa.wh]/2,O[P.index]="start"===K?j:"end"===K?H-j:H/2,Q&&(O[0]+=Q[0],O[1]+=Q[1]);var N=ac.bundlePosition=[];N[aa.index]=R[aa.xy],N[P.index]=R[P.xy];var z=ac.barRectShape=aip({},R);z[P.wh]=Z*Math.max(Math.abs(R[P.wh]),Math.abs(O[P.index]+j)),z[aa.wh]=R[aa.wh];var W=ac.clipShape={};W[aa.xy]=-R[aa.xy],W[aa.wh]=ad.ecSize[aa.wh],W[P.xy]=0,W[P.wh]=R[P.wh]}function ag1(a){var b=a.symbolPatternSize,c=TQ(a.symbolType,-b/2,-b/2,b,b,a.color);return c.attr({culling:!0}),"image"!==c.type&&c.setStyle({strokeNoScale:!0}),c}function abH(G,B,q,x){function E(f){var g=y.slice(),d=q.pxSign,c=f;return("start"===q.symbolRepeatDirection?d>0:0>d)&&(c=C-1-f),g[D.index]=j*(c-C/2+0.5)+y[D.index],{position:g,scale:q.symbolScale.slice(),rotation:q.rotation}}function k(){aaw(G,function(a){a.trigger("emphasis")})}function b(){aaw(G,function(a){a.trigger("normal")})}var H=G.__pictorialBundle,w=q.symbolSize,F=q.valueLineWidth,y=q.pathPosition,D=B.valueDim,C=q.repeatTimes||0,A=0,j=w[B.valueDim.index]+F+2*q.symbolMargin;for(aaw(G,function(a){a.__pictorialAnimationIndex=A,a.__pictorialRepeatTimes=C,C>A?afP(a,null,E(A),q,x):afP(a,null,{scale:[0,0]},q,x,function(){H.remove(a)}),T7(a,q),A++});C>A;A++){var z=ag1(q);z.__pictorialAnimationIndex=A,z.__pictorialRepeatTimes=C,H.add(z);var v=E(A);afP(z,{position:v.position,scale:[0,0]},{scale:v.scale,rotation:v.rotation},q,x),z.on("mouseover",k).on("mouseout",b),T7(z,q)}}function aeG(d,h,k,c){function b(){this.trigger("emphasis")}function j(){this.trigger("normal")}var g=d.__pictorialBundle,f=d.__pictorialMainPath;f?afP(f,null,{position:k.pathPosition.slice(),scale:k.symbolScale.slice(),rotation:k.rotation},k,c):(f=d.__pictorialMainPath=ag1(k),g.add(f),afP(f,{position:k.pathPosition.slice(),scale:[0,0],rotation:k.rotation},{scale:k.symbolScale.slice()},k,c),f.on("mouseover",b).on("mouseout",j)),T7(f,k)}function akf(d,f,g){var c=aip({},f.barRectShape),b=d.__pictorialBarRect;b?afP(b,null,{shape:c},f,g):(b=d.__pictorialBarRect=new agM({z2:2,shape:c,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),d.add(b))}function aa6(p,j,c,f){if(c.symbolClip){var k=p.__pictorialClipPath,b=aip({},c.clipShape),q=j.valueDim,d=c.animationModel,m=c.dataIndex;if(k){q5(k,{shape:b},d,m)}else{b[q.wh]=0,k=new agM({shape:b}),p.__pictorialBundle.setClipPath(k),p.__pictorialClipPath=k;var g={};g[q.wh]=c.clipShape[q.wh],rG[f?"updateProps":"initProps"](k,{shape:g},d,m)}}}function Yt(a,b){var c=a.getItemModel(b);return c.getAnimationDelayParams=W2,c.isAnimationEnabled=acT,c}function W2(a){return{index:a.__pictorialAnimationIndex,count:a.__pictorialRepeatTimes}}function acT(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function T7(a,b){a.off("emphasis").off("normal");var c=b.symbolScale.slice();b.hoverAnimation&&a.on("emphasis",function(){this.animateTo({scale:[1.1*c[0],1.1*c[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:c.slice()},400,"elasticOut")})}function afe(d,f,h,c){var b=new jG,g=new jG;return b.add(g),b.__pictorialBundle=g,g.attr("position",h.bundlePosition.slice()),h.symbolRepeat?abH(b,f,h):aeG(b,f,h),akf(b,h,c),aa6(b,f,h,c),b.__pictorialShapeStr=agq(d,h),b.__pictorialSymbolMeta=h,b}function aig(d,f,h){var c=h.animationModel,b=h.dataIndex,g=d.__pictorialBundle;q5(g,{position:h.bundlePosition.slice()},c,b),h.symbolRepeat?abH(d,f,h,!0):aeG(d,f,h,!0),akf(d,h,!0),aa6(d,f,h,!0)}function ahC(d,f,h,c){var b=c.__pictorialBarRect;b&&(b.style.text=null);var g=[];aaw(c,function(a){g.push(a)}),c.__pictorialMainPath&&g.push(c.__pictorialMainPath),c.__pictorialClipPath&&(h=null),aiT(g,function(a){q5(a,{scale:[0,0]},h,f,function(){c.parent&&c.parent.remove(c)})}),d.setItemGraphicEl(f,null)}function agq(a,b){return[a.getItemVisual(b.dataIndex,"symbol")||"none",!!b.symbolRepeat,!!b.symbolClip].join(":")}function aaw(a,b,c){aiT(a.__pictorialBundle.children(),function(d){d!==a.__pictorialBarRect&&b.call(c,d)})}function afP(d,f,h,c,b,g){f&&d.attr(f),c.symbolClip&&!b?h&&d.attr(h):h&&rG[b?"updateProps":"initProps"](d,h,c.animationModel,c.dataIndex,g)}function aci(x,p,g){var k=g.color,v=g.dataIndex,f=g.itemModel,b=f.getModel("itemStyle").getItemStyle(["color"]),j=f.getModel("emphasis.itemStyle").getItemStyle(),w=f.getShallow("cursor");aaw(x,function(a){a.setColor(k),a.setStyle(ain({fill:k,opacity:g.opacity},b)),aQ(a,j),w&&(a.cursor=w),a.z2=g.z2});var m={},s=p.valueDim.posDesc[+(g.boundingLength>0)],q=x.__pictorialBarRect;WV(q.style,m,f,k,p.seriesModel,v,s),aQ(q,m)}function SW(a){var b=Math.round(a);return Math.abs(a-b)<0.0001?b:Math.ceil(a)}function OJ(a,b){return b=b||[0,0],aiu(["x","y"],function(g,d){var c=this.getAxis(g),f=b[d],e=a[d]/2;return"category"===c.type?c.getBandWidth():Math.abs(c.dataToCoord(f-e)-c.dataToCoord(f+e))},this)}function P2(a,b){return b=b||[0,0],aiu([0,1],function(g){var d=b[g],c=a[g]/2,f=[],e=[];return f[g]=d-c,e[g]=d+c,f[1-g]=e[1-g]=b[1-g],Math.abs(this.dataToPoint(f)[g]-this.dataToPoint(e)[g])},this)}function aq(d,f){var g=this.getAxis(),c=f instanceof Array?f[0]:f,b=(d instanceof Array?d[0]:d)/2;return"category"===g.type?g.getBandWidth():Math.abs(g.dataToCoord(c-b)-g.dataToCoord(c+b))}function Rt(a,b){return aiu(["Radius","Angle"],function(j,e){var d=this["get"+j+"Axis"](),h=b[e],g=a[e]/2,f="dataTo"+j,c="category"===d.type?d.getBandWidth():Math.abs(d[f](h-g)-d[f](h+g));return"Angle"===j&&(c=c*Math.PI/180),c},this)}function ajh(d){var g,j=d.type;if("path"===j){var c=d.shape,b=null!=c.width&&null!=c.height?{x:c.x||0,y:c.y||0,width:c.width,height:c.height}:null,h=mF(c);g=y2(h,null,b,c.layout||"center"),g.__customPathData=h}else{if("image"===j){g=new TJ({}),g.__customImagePath=d.style.image}else{if("text"===j){g=new ab3({}),g.__customText=d.style.text}else{var f=rG[j.charAt(0).toUpperCase()+j.slice(1)];g=new f}}}return g.__customGraphicType=j,g.name=d.name,g}function k3(y,m,i,w,g,b,z){var j={},x=i.style||{};if(i.shape&&(j.shape=aiO(i.shape)),i.position&&(j.position=i.position.slice()),i.scale&&(j.scale=i.scale.slice()),i.origin&&(j.origin=i.origin.slice()),i.rotation&&(j.rotation=i.rotation),"image"===y.type&&i.style){var k=j.style={};aiT(["x","y","width","height"],function(a){tG(a,k,x,y.style,b)})}if("text"===y.type&&i.style){var k=j.style={};aiT(["x","y"],function(a){tG(a,k,x,y.style,b)}),!x.hasOwnProperty("textFill")&&x.fill&&(x.textFill=x.fill),!x.hasOwnProperty("textStroke")&&x.stroke&&(x.textStroke=x.stroke)}if("group"!==y.type&&(y.useStyle(x),b)){y.style.opacity=0;var v=x.opacity;null==v&&(v=1),m0(y,{style:{opacity:v}},w,m)}b?y.attr(j):q5(y,j,w,m),i.hasOwnProperty("z2")&&y.attr("z2",i.z2||0),i.hasOwnProperty("silent")&&y.attr("silent",i.silent),i.hasOwnProperty("invisible")&&y.attr("invisible",i.invisible),i.hasOwnProperty("ignore")&&y.attr("ignore",i.ignore),i.hasOwnProperty("info")&&y.attr("info",i.info);var q=i.styleEmphasis,f=q===!1;y.__cusHasEmphStl&&null==q||!y.__cusHasEmphStl&&f||(aaI(y,q),y.__cusHasEmphStl=!f),z&&RX(y,!f)}function tG(d,f,g,c,b){null==g[d]||b||(f[d]=g[d],g[d]=c[d])}function y6(B,L,E,H){function Q(a){null==a&&(a=z),k&&(q=L.getItemModel(a),r=q.getModel(x5),R=q.getModel(M8),s=L.getItemVisual(a,"color"),k=!1)}function D(a,b){return null==b&&(b=z),L.get(L.getDimension(a||0),b)}function G(d,a){null==a&&(a=z),Q(a);var c=q.getModel(j2).getItemStyle();null!=s&&(c.fill=s);var b=L.getItemVisual(a,"opacity");return null!=b&&(c.opacity=b),lG(c,r,null,{autoColor:s,isRectText:!0}),c.text=r.getShallow("show")?aj3(B.getFormattedLabel(a,"normal"),oW(L,a)):null,d&&aip(c,d),c}function A(c,a){null==a&&(a=z),Q(a);var b=q.getModel(aaF).getItemStyle();return lG(b,R,null,{isRectText:!0},!0),b.text=R.getShallow("show")?ajI(B.getFormattedLabel(a,"emphasis"),B.getFormattedLabel(a,"normal"),oW(L,a)):null,c&&aip(b,c),b}function I(a,b){return null==b&&(b=z),L.getItemVisual(b,a)}function O(a){if(J.getBaseAxis){var b=J.getBaseAxis();return MB(ain({axis:b},a),H)}}function N(){return E.getCurrentSeriesIndices()}function K(a){return adG(a,E)}var C=B.get("renderItem"),J=B.coordinateSystem,F={};J&&(F=J.prepareCustoms?J.prepareCustoms():pQ[J.type](J));var z,q,r,R,s,P=ain({getWidth:H.getWidth,getHeight:H.getHeight,getZr:H.getZr,getDevicePixelRatio:H.getDevicePixelRatio,value:D,style:G,styleEmphasis:A,visual:I,barLayout:O,currentSeriesIndices:N,font:K},F.api||{}),j={context:{},seriesId:B.id,seriesName:B.name,seriesIndex:B.seriesIndex,coordSys:F.coordSys,dataInsideLength:L.count(),encode:jQ(B.getData())},k=!0;return function(a,b){return z=a,k=!0,C&&C(ain({dataIndexInside:a,dataIndex:L.getRawIndex(a),actionType:b?b.type:null},j),P)}}function jQ(a){var b={};return aiT(a.dimensions,function(g,d){var c=a.getDimensionInfo(g);if(!c.isExtraCoord){var f=c.coordDim,e=b[f]=b[f]||[];e[c.coordDimIndex]=d}}),b}function Kt(d,f,h,c,b,g){return d=F7(d,f,h,c,b,g,!0),d&&g.setItemGraphicEl(f,d),d}function F7(w,m,f,j,q,d,b){var x=!f;f=f||{};var g=f.type,v=f.shape,k=f.style;if(w&&(x||null!=g&&g!==w.__customGraphicType||"path"===g&&NQ(v)&&mF(v)!==w.__customPathData||"image"===g&&EW(k,"image")&&k.image!==w.__customImagePath||"text"===g&&EW(v,"text")&&k.text!==w.__customText)&&(q.remove(w),w=null),!x){var p=!w;return !w&&(w=ajh(f)),k3(w,m,f,j,d,p,b),"group"===g&&HK(w,m,f,j,d),q.add(w),w}}function HK(q,k,d,g,m){var c=d.children,b=c?c.length:0,v=d.$mergeChildren,f="byName"===v||d.diffChildrenByName,p=v===!1;if(b||f||p){if(f){return void u0({oldChildren:q.children()||[],newChildren:c||[],dataIndex:k,animatableModel:g,group:q,data:m})}p&&q.removeAll();for(var j=0;b>j;j++){c[j]&&F7(q.childAt(j),k,c[j],g,q,m)}}}function u0(a){new aaA(a.oldChildren,a.newChildren,adu,adu,a).add(pj).update(pj).remove(qQ).execute()}function adu(a,b){var c=a&&a.name;return null!=c?c:zG+b}function pj(d,f){var g=this.context,c=null!=d?g.newChildren[d]:null,b=null!=f?g.oldChildren[f]:null;F7(b,g.dataIndex,c,g.animatableModel,g.group,g.data)}function qQ(a){var b=this.context,c=b.oldChildren[a];c&&b.group.remove(c)}function mF(a){return a&&(a.pathData||a.d)}function NQ(a){return a&&(a.hasOwnProperty("pathData")||a.hasOwnProperty("d"))}function EW(a,b){return a&&a.hasOwnProperty(b)}function r4(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function I2(a){return a.dim}function gY(d,f,g){var c=(g.getWidth(),g.getHeight(),{}),b=B1(aiB(f.getSeriesByType(d),function(a){return !f.isSeriesFiltered(a)&&a.coordinateSystem&&"polar"===a.coordinateSystem.type}));f.eachSeriesByType(d,function(K){if("polar"===K.coordinateSystem.type){var ae=K.getData(),X=K.coordinateSystem,W=X.getBaseAxis(),R=r4(K),O=b[I2(W)][R],Z=O.offset,J=O.width,ab=X.getOtherAxis(W),ag=K.coordinateSystem.cx,af=K.coordinateSystem.cy,ad=K.get("barMinHeight")||0,V=K.get("barMinAngle")||0;c[R]=c[R]||[];for(var ac=ae.mapDimension(ab.dim),Y=ae.mapDimension(W.dim),H=NX(ae,ac),B=ab.getExtent()[0],F=0,ai=ae.count();ai>F;F++){var G=ae.get(ac,F),ah=ae.get(Y,F);if(!isNaN(G)){var i=G>=0?"p":"n",q=B;H&&(c[R][ah]||(c[R][ah]={p:B,n:B}),q=c[R][ah][i]);var E,a,U,N;if("radius"===ab.dim){var Q=ab.dataToRadius(G)-B,z=W.dataToAngle(ah);Math.abs(Q)<ad&&(Q=(0>Q?-1:1)*ad),E=q,a=q+Q,U=z-Z,N=U-J,H&&(c[R][ah][i]=a)}else{var aa=ab.dataToAngle(G,!0)-B,j=W.dataToRadius(ah);Math.abs(aa)<V&&(aa=(0>aa?-1:1)*V),E=j+Z,a=E+J,U=q,N=q+aa,H&&(c[R][ah][i]=N)}ae.setItemLayout(F,{cx:ag,cy:af,r0:E,r:a,startAngle:-U*Math.PI/180,endAngle:-N*Math.PI/180})}}}},this)}function B1(a){var b={};aiT(a,function(z){var j=z.getData(),m=z.coordinateSystem,x=m.getBaseAxis(),g=x.getExtent(),e="category"===x.type?x.getBandWidth():Math.abs(g[1]-g[0])/j.count(),A=b[I2(x)]||{bandWidth:e,remainedWidth:e,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},k=A.stacks;b[I2(x)]=A;var y=r4(z);k[y]||A.autoWidthCount++,k[y]=k[y]||{width:0,maxWidth:0};var p=wX(z.get("barWidth"),e),w=wX(z.get("barMaxWidth"),e),v=z.get("barGap"),q=z.get("barCategoryGap");p&&!k[y].width&&(p=Math.min(A.remainedWidth,p),k[y].width=p,A.remainedWidth-=p),w&&(k[y].maxWidth=w),null!=v&&(A.gap=v),null!=q&&(A.categoryGap=q)});var c={};return aiT(b,function(x,n){c[n]={};var k=x.stacks,v=x.bandWidth,g=wX(x.categoryGap,v),f=wX(x.gap,1),y=x.remainedWidth,j=x.autoWidthCount,w=(y-g)/(j+(j-1)*f);w=Math.max(w,0),aiT(k,function(d){var h=d.maxWidth;h&&w>h&&(h=Math.min(h,y),d.width&&(h=Math.min(h,d.width)),y-=h,d.width=h,j--)}),w=(y-g)/(j+(j-1)*f),w=Math.max(w,0);var m,q=0;aiT(k,function(d){d.width||(d.width=w),m=d,q+=d.width*(1+f)}),m&&(q-=m.width*f);var p=-q/2;aiT(k,function(e,d){c[n][d]=c[n][d]||{offset:p,width:e.width},p+=e.width*(1+f)})}),c}function Dq(a,b){ado.call(this,"radius",a,b),this.type="category"}function fF(a,b){b=b||[0,360],ado.call(this,"angle",a,b),this.type="category"}function AH(a,b){return b.type||(b.data?"category":"value")}function bW(k,h,d){var g=h.get("center"),j=d.getWidth(),c=d.getHeight();k.cx=wX(g[0],j),k.cy=wX(g[1],c);var b=k.getRadiusAxis(),m=Math.min(j,c)/2,f=wX(h.get("radius"),m);b.inverse?b.setExtent(f,0):b.setExtent(0,f)}function d4(d){var f=this,h=f.getAngleAxis(),c=f.getRadiusAxis();if(h.scale.setExtent(1/0,-1/0),c.scale.setExtent(1/0,-1/0),d.eachSeries(function(i){if(i.coordinateSystem===f){var e=i.getData();aiT(e.mapDimension("radius",!0),function(a){c.scale.unionExtentFromData(e,E0(e,a))}),aiT(e.mapDimension("angle",!0),function(a){h.scale.unionExtentFromData(e,E0(e,a))})}}),U3(h.scale,h.model),U3(c.scale,c.model),"category"===h.type&&!h.onBand){var b=h.getExtent(),g=360/h.scale.count();h.inverse?b[1]+=g:b[1]-=g,h.setExtent(b[0],b[1])}}function cU(a,b){if(a.type=b.get("type"),a.scale=afB(b),a.onBand=b.get("boundaryGap")&&"category"===a.type,a.inverse=b.get("inverse"),"angleAxis"===b.mainType){a.inverse^=b.get("clockwise");var c=b.get("startAngle");a.setExtent(c,c+(a.inverse?-360:360))}b.axis=a,a.model=b}function ad5(d,f,g){f[1]>f[0]&&(f=f.slice().reverse());var c=d.coordToPoint([f[0],g]),b=d.coordToPoint([f[1],g]);return{x1:c[0],y1:c[1],x2:b[0],y2:b[1]}}function h9(a){var b=a.getRadiusAxis();return b.inverse?0:1}function ZV(a){var b=a[0],c=a[a.length-1];b&&c&&Math.abs(Math.abs(b.coord-c.coord)-360)<0.0001&&a.pop()}function wq(a,b,c){return{position:[a.cx,a.cy],rotation:c/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:b.getModel("axisLabel").get("rotate"),z2:1}}function L9(k,G,z,C,J){var y=G.axis,w=y.dataToCoord(k),q=C.getAngleAxis().getExtent()[0];q=q/180*Math.PI;var B,j,D,I=C.getRadiusAxis().getExtent();if("radius"===y.dim){var H=aj1();Lq(H,H,q),kK(H,H,[C.cx,C.cy]),B=E8([w,-J],H);var F=G.getModel("axisLabel").get("rotate")||0,x=LH.innerTextLayout(q,F*Math.PI/180,-1);j=x.textAlign,D=x.textVerticalAlign}else{var E=I[1];B=C.coordToPoint([E+J,w]);var A=C.cx,b=C.cy;j=Math.abs(B[0]-A)/E<0.3?"center":B[0]>A?"left":"right",D=Math.abs(B[1]-b)/E<0.3?"middle":B[1]>b?"top":"bottom"}return{position:B,align:j,verticalAlign:D}}function xW(a,b){b.update="updateView",oJ(b,function(d,f){var c={};return f.eachComponent({mainType:"geo",query:d},function(g){g[a](d.name);var e=g.coordinateSystem;aiT(e.regions,function(h){c[h.name]=g.isSelected(h.name)||!1})}),{selected:c,name:d.name}})}function nZ(a){this._model=a}function VK(d,g,j,c){var b=j.calendarModel,h=j.seriesModel,f=b?b.coordinateSystem:h?h.coordinateSystem:null;return f===this?f[d](c):null}function ag2(b,c){var d=b.cellSize;ai9(d)?1===d.length&&(d[1]=d[0]):d=b.cellSize=[d,d];var a=aiu([0,1],function(e){return zF(c,e)&&(d[e]="auto"),null!=d[e]&&"auto"!==d[e]});j1(b,c,{type:"box",ignoreSize:a})}function abI(d,f,h){var c,b={},g="toggleSelected"===d;return h.eachComponent("legend",function(e){g&&null!=c?e[c?"select":"unSelect"](f.name):(e[d](f.name),c=e.isSelected(f.name));var a=e.getData();aiT(a,function(k){var l=k.get("name");if("\n"!==l&&""!==l){var j=e.isSelected(l);b[l]=b.hasOwnProperty(l)?b[l]&&j:j}})}),{name:f.name,selected:b}}function aeH(d,g,j){var c=g.getBoxLayoutParams(),b=g.get("padding"),h={width:j.getWidth(),height:j.getHeight()},f=lq(c,h,b);ahH(g.get("orient"),d,g.get("itemGap"),f.width,f.height),tX(d,c,h,b)}function akg(b,c){var d=dG(c.get("padding")),a=c.getItemStyle(["color","opacity"]);a.fill=c.get("backgroundColor");var b=new agM({shape:{x:b.x-d[3],y:b.y-d[0],width:b.width+d[1]+d[3],height:b.height+d[0]+d[2],r:c.get("borderRadius")},style:a,silent:!0,z2:-1});return b}function aa7(a,b){b.dispatchAction({type:"legendToggleSelect",name:a})}function YB(d,f,g,c){var b=g.getZr().storage.getDisplayList()[0];b&&b.useHoverLayer||g.dispatchAction({type:"highlight",seriesName:d,name:f,excludeSeriesId:c})}function W3(d,f,g,c){var b=g.getZr().storage.getDisplayList()[0];b&&b.useHoverLayer||g.dispatchAction({type:"downplay",seriesName:d,name:f,excludeSeriesId:c})}function acU(d,f,g){var c=d.getOrient(),b=[1,1];b[c.index]=0,j1(f,g,{type:"box",ignoreSize:b})}function T8(a){var b="cubic-bezier(0.23, 1, 0.32, 1)",c="left "+a+"s "+b+",top "+a+"s "+b;return aiu(F6,function(d){return d+"transition:"+c}).join(";")}function aff(b){var c=[],d=b.get("fontSize"),a=b.getTextColor();return a&&c.push("color:"+a),c.push("font:"+b.getFont()),d&&c.push("line-height:"+Math.round(3*d/2)+"px"),jN(["decoration","align"],function(f){var e=b.get(f);e&&c.push("text-"+f+":"+e)}),c.join(";")}function aii(d){var f=[],h=d.get("transitionDuration"),c=d.get("backgroundColor"),b=d.getModel("textStyle"),g=d.get("padding");return h&&f.push(T8(h)),c&&(B3.canvasSupported?f.push("background-Color:"+c):(f.push("background-Color:#"+aev(c)),f.push("filter:alpha(opacity=70)"))),jN(["width","color","radius"],function(l){var j="border-"+l,e=Kq(j),k=d.get(e);null!=k&&f.push(j+":"+k+("color"===l?"":"px"))}),f.push(aff(b)),null!=g&&f.push("padding:"+dG(g).join("px ")+"px"),f.join(";")+";"}function ahD(d,f){if(B3.wxa){return null}var g=document.createElement("div"),c=this._zr=f.getZr();this.el=g,this._x=f.getWidth()/2,this._y=f.getHeight()/2,d.appendChild(g),this._container=d,this._show=!1,this._hideTimeout;var b=this;g.onmouseenter=function(){b._enterable&&(clearTimeout(b._hideTimeout),b._show=!0),b._inContent=!0},g.onmousemove=function(a){if(a=a||window.event,!b._enterable){var h=c.handler;aaV(d,a,!0),h.dispatch("mousemove",a)}},g.onmouseleave=function(){b._enterable&&b._show&&b.hideLater(b._hideDelay),b._inContent=!1}}function agr(a){this._zr=a.getZr(),this._show=!1,this._hideTimeout}function aax(a){for(var b=a.pop();a.length;){var c=a.pop();c&&(f0.isInstance(c)&&(c=c.get("tooltip",!0)),"string"==typeof c&&(c={formatter:c}),b=new f0(c,b,b.ecModel))}return b}function afQ(a,b){return a.dispatchAction||aic(b.dispatchAction,b)}function acj(m,h,d,g,j,c,b){var p=d.getOuterSize(),f=p.width,k=p.height;return null!=c&&(m+f+c>g?m-=f+c:m+=c),null!=b&&(h+k+b>j?h-=k+b:h+=b),[m,h]}function SX(d,h,k,c,b){var j=k.getOuterSize(),g=j.width,f=j.height;return d=Math.min(d+g,c)-g,h=Math.min(h+f,b)-f,d=Math.max(d,0),h=Math.max(h,0),[d,h]}function OK(m,h,d){var g=d[0],j=d[1],c=5,b=0,p=0,f=h.width,k=h.height;switch(m){case"inside":b=h.x+f/2-g/2,p=h.y+k/2-j/2;break;case"top":b=h.x+f/2-g/2,p=h.y-j-c;break;case"bottom":b=h.x+f/2-g/2,p=h.y+k+c;break;case"left":b=h.x-g-c,p=h.y+k/2-j/2;break;case"right":b=h.x+f+c,p=h.y+k/2-j/2}return[b,p]}function P3(a){return"center"===a||"middle"===a}function at(a){JW(a,"label",["show"])}function ajj(a){return !(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}function k4(a){return !isNaN(parseFloat(a.x))&&!isNaN(parseFloat(a.y))}function tH(w,m,f,j,q,d){var b=[],x=NX(m,j),g=x?m.getCalculationInfo("stackResultDimension"):j,v=u1(m,g,w),k=m.indicesOfNearest(g,v)[0];b[q]=m.get(f,k),b[d]=m.get(j,k);var p=oq(m.get(j,k));return p=Math.min(p,20),p>=0&&(b[d]=+b[d].toFixed(p)),b}function y7(m,i){var d=m.getData(),j=m.coordinateSystem;if(i&&!k4(i)&&!ai9(i.coord)&&j){var c=j.dimensions,b=jU(i,d,j,m);if(i=aiO(i),i.type&&gX[i.type]&&b.baseAxis&&b.valueAxis){var p=r3(c,b.baseAxis.dim),f=r3(c,b.valueAxis.dim);i.coord=gX[i.type](d,b.baseDataDim,b.valueDataDim,p,f),i.value=i.coord[f]}else{for(var k=[null!=i.xAxis?i.xAxis:i.radiusAxis,null!=i.yAxis?i.yAxis:i.angleAxis],g=0;2>g;g++){gX[k[g]]&&(k[g]=u1(d,d.mapDimension(c[g]),k[g]))}i.coord=k}}return i}function jU(d,f,g,c){var b={};return null!=d.valueIndex||null!=d.valueDim?(b.valueDataDim=null!=d.valueIndex?f.getDimension(d.valueIndex):d.valueDim,b.valueAxis=g.getAxis(KB(c,b.valueDataDim)),b.baseAxis=g.getOtherAxis(b.valueAxis),b.baseDataDim=f.mapDimension(b.baseAxis.dim)):(b.baseAxis=c.getBaseAxis(),b.valueAxis=g.getOtherAxis(b.baseAxis),b.baseDataDim=f.mapDimension(b.baseAxis.dim),b.valueDataDim=f.mapDimension(b.valueAxis.dim)),b}function KB(d,f){var h=d.getData(),c=h.dimensions;f=h.getDimension(f);for(var b=0;b<c.length;b++){var g=h.getDimensionInfo(c[b]);if(g.name===f){return g.coordDim}}}function F8(a,b){return a&&a.containData&&b.coord&&!ajj(b)?a.containData(b.coord):!0}function HN(b,c,d,a){return 2>a?b.coord&&b.coord[a]:b.value}function u1(d,f,g){if("average"===g){var c=0,b=0;return d.each(f,function(a){isNaN(a)||(c+=a,b++)}),c/b}return"median"===g?d.getMedian(f):d.getDataExtent(f,!0)["max"===g?1:0]}function adv(b,c,d){var a=c.coordinateSystem;b.each(function(f){var m,k=b.getItemModel(f),j=wX(k.get("x"),d.getWidth()),e=wX(k.get("y"),d.getHeight());if(isNaN(j)||isNaN(e)){if(c.getMarkerPosition){m=c.getMarkerPosition(b.getValues(b.dimensions,f))}else{if(a){var g=b.get(a.dimensions[0],f),i=b.get(a.dimensions[1],f);m=a.dataToPoint([g,i])}}}else{m=[j,e]}isNaN(j)||(m[0]=j),isNaN(e)||(m[1]=e),b.setItemLayout(f,m)})}function pq(d,f,h){var c;c=d?aiu(d&&d.dimensions,function(a){var e=f.getData().getDimensionInfo(f.getData().mapDimension(a))||{};return ain({name:a},e)}):[{name:"value",type:"float"}];var b=new akJ(c,h),g=aiu(h.get("data"),aie(y7,f));return d&&(g=aiB(g,aie(F8,d))),b.initData(g,null,d?HN:function(a){return a.value}),b}function qU(a){return !isNaN(a)&&!isFinite(a)}function mG(d,f,h,c){var b=1-d,g=c.dimensions[d];return qU(f[b])&&qU(h[b])&&f[d]===h[d]&&c.getAxis(g).containData(f[d])}function NU(b,c){if("cartesian2d"===b.type){var d=c[0].coord,a=c[1].coord;if(d&&a&&(mG(1,d,a,b)||mG(0,d,a,b))){return !0}}return F8(b,c[0])&&F8(b,c[1])}function EX(C,x,k,q,A){var j,b=q.coordinateSystem,D=C.getItemModel(x),m=wX(D.get("x"),A.getWidth()),B=wX(D.get("y"),A.getHeight());if(isNaN(m)||isNaN(B)){if(q.getMarkerPosition){j=q.getMarkerPosition(C.getValues(C.dimensions,x))}else{var v=b.dimensions,z=C.get(v[0],x),y=C.get(v[1],x);j=b.dataToPoint([z,y])}if("cartesian2d"===b.type){var w=b.getAxis("x"),g=b.getAxis("y"),v=b.dimensions;qU(C.get(v[0],x))?j[0]=w.toGlobalCoord(w.getExtent()[k?0:1]):qU(C.get(v[1],x))&&(j[1]=g.toGlobalCoord(g.getExtent()[k?0:1]))}isNaN(m)||(j[0]=m),isNaN(B)||(j[1]=B)}else{j=[m,B]}C.setItemLayout(x,j)}function r5(m,h,d){var g;g=m?aiu(m&&m.dimensions,function(a){var e=h.getData().getDimensionInfo(h.getData().mapDimension(a))||{};return ain({name:a},e)}):[{name:"value",type:"float"}];var j=new akJ(g,d),c=new akJ(g,d),b=new akJ([],d),f=aiu(d.get("data"),aie(Dj,h,m,d));m&&(f=aiB(f,aie(NU,m)));var k=m?HN:function(a){return a.value};return j.initData(aiu(f,function(a){return a[0]}),null,k),c.initData(aiu(f,function(a){return a[1]}),null,k),b.initData(aiu(f,function(a){return a[2]})),b.hasItemOption=!0,{from:j,to:c,line:b}}function I3(a){return !isNaN(a)&&!isFinite(a)}function gZ(b,c,d){var a=1-b;return I3(c[a])&&I3(d[a])}function B2(b,c){var d=c.coord[0],a=c.coord[1];return"cartesian2d"===b.type&&d&&a&&(gZ(1,d,a,b)||gZ(0,d,a,b))?!0:F8(b,{coord:d,x:c.x0,y:c.y0})||F8(b,{coord:a,x:c.x1,y:c.y1})}function Dt(C,x,k,q,A){var j,b=q.coordinateSystem,D=C.getItemModel(x),m=wX(D.get(k[0]),A.getWidth()),B=wX(D.get(k[1]),A.getHeight());if(isNaN(m)||isNaN(B)){if(q.getMarkerPosition){j=q.getMarkerPosition(C.getValues(k,x))}else{var v=C.get(k[0],x),z=C.get(k[1],x),y=[v,z];b.clampData&&b.clampData(y,y),j=b.dataToPoint(y,!0)}if("cartesian2d"===b.type){var w=b.getAxis("x"),g=b.getAxis("y"),v=C.get(k[0],x),z=C.get(k[1],x);I3(v)?j[0]=w.toGlobalCoord(w.getExtent()["x0"===k[0]?0:1]):I3(z)&&(j[1]=g.toGlobalCoord(g.getExtent()["y0"===k[1]?0:1]))}isNaN(m)||(j[0]=m),isNaN(B)||(j[1]=B)}else{j=[m,B]}return j}function fG(f,h,k){var d,c,j=["x0","y0","x1","y1"];f?(d=aiu(f&&f.dimensions,function(e){var l=h.getData(),a=l.getDimensionInfo(l.mapDimension(e))||{};return ain({name:e},a)}),c=new akJ(aiu(j,function(a,i){return{name:a,type:d[i%2].type}}),k)):(d=[{name:"value",type:"float"}],c=new akJ(d,k));var g=aiu(k.get("data"),aie(fB,h,f,k));f&&(g=aiB(g,aie(B2,f)));var b=f?function(l,m,o,a){return l.coord[Math.floor(a/2)][a%2]}:function(a){return a.value};return c.initData(g,null,b),c.hasItemOption=!0,c}function AJ(b){var c=b.type,d={number:"value",time:"time"};if(d[c]&&(b.axisType=d[c],delete b.type),bX(b),d5(b,"controlPosition")){var a=b.controlStyle||(b.controlStyle={});d5(a,"position")||(a.position=b.controlPosition),"none"!==a.position||d5(a,"show")||(a.show=!1,delete a.position),delete b.controlPosition}aiT(b.data||[],function(e){ajq(e)&&!ai9(e)&&(!d5(e,"value")&&d5(e,"name")&&(e.value=e.name),bX(e))})}function bX(d){var f=d.itemStyle||(d.itemStyle={}),h=f.emphasis||(f.emphasis={}),c=d.label||d.label||{},b=c.normal||(c.normal={}),g={normal:1,emphasis:1};aiT(c,function(a,i){g[i]||d5(b,i)||(b[i]=a)}),h.label&&!d5(c,"emphasis")&&(c.emphasis=h.label,delete h.label)}function d5(a,b){return a.hasOwnProperty(b)}function cV(a,b){return lq(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()},a.get("padding"))}function ad6(c,d,g,b){var f=y2(c.get(d).replace(/^path:\/\//,""),aiO(b||{}),new acw(g[0],g[1],g[2],g[3]),"center");return f}function ij(y,q,g,k,b,a){var z=q.get("color");if(b){b.setColor(z),g.add(b),a&&a.onUpdate(b)}else{var j=y.get("symbol");b=TQ(j,-1,-1,2,2,z),b.setStyle("strokeNoScale",!0),g.add(b),a&&a.onCreate(b)}var x=q.getItemStyle(["color","symbol","symbolSize"]);b.setStyle(x),k=ai5({rectHover:!0,z2:100},k,!0);var m=y.get("symbolSize");m=m instanceof Array?m.slice():[+m,+m],m[0]/=2,m[1]/=2,k.scale=m;var w=y.get("symbolOffset");if(w){var v=k.position=k.position||[0,0];v[0]+=wX(w[0],m[0]),v[1]+=wX(w[1],m[1])}var p=y.get("symbolRotate");return k.rotation=(p||0)*Math.PI/180||0,b.attr(k),b.updateTransform(),b}function ZW(d,g,j,c,b){if(!d.dragging){var h=c.getModel("checkpointStyle"),f=j.dataToCoord(c.getData().get(["value"],g));b||!h.get("animation",!0)?d.attr({position:[f,0]}):(d.stopAnimation(!0),d.animateTo({position:[f,0]},h.get("animationDuration",!0),h.get("animationEasing",!0)))}}function wt(a){return aij(nY,a)>=0}function Mj(b,c){b=b.slice();var d=aiu(b,aJ);c=(c||[]).slice();var a=aiu(c,aJ);return function(e,f){aiT(b,function(h,j){for(var i={name:h,capital:d[j]},g=0;g<c.length;g++){i[c[g]]=h+a[g]}e.call(f,i)})}}function xX(d,f,h){function c(a,i){return aij(i.nodes,a)>=0}function b(k,j){var e=!1;return f(function(a){aiT(h(k,a)||[],function(i){j.records[a.name][i]&&(e=!0)})}),e}function g(e,a){a.nodes.push(e),f(function(i){aiT(h(e,i)||[],function(j){a.records[i.name][j]=!0})})}return function(j){function i(k){!c(k,e)&&b(k,e)&&(g(k,e),a=!0)}var e={nodes:[],records:{}};if(f(function(k){e.records[k.name]={}}),!j){return e}g(j,e);var a;do{a=!1,d(i)}while(a);return e}}function n0(b,c,d){var a=[1/0,-1/0];return ah2(d,function(e){var f=e.getData();f&&ah2(f.mapDimension(c,!0),function(g){var h=f.getApproximateExtent(g);h[0]<a[0]&&(a[0]=h[0]),h[1]>a[1]&&(a[1]=h[1])})}),a[1]<a[0]&&(a=[0/0,0/0]),W0(b,a),a}function W0(d,g){var j=d.getAxisModel(),c=j.getMin(!0),b="category"===j.get("type"),h=b&&j.getCategories().length;null!=c&&"dataMin"!==c&&"function"!=typeof c?g[0]=c:b&&(g[0]=h>0?0:0/0);var f=j.getMax(!0);return null!=f&&"dataMax"!==f&&"function"!=typeof f?g[1]=f:b&&(g[1]=h>0?h-1:0/0),j.get("scale",!0)||(g[0]>0&&(g[0]=0),g[1]<0&&(g[1]=0)),g}function ahA(d,g){var j=d.getAxisModel(),c=d._percentWindow,b=d._valueWindow;if(c){var h=ag9(b,[0,500]);h=Math.min(h,20);var f=g||0===c[0]&&100===c[1];j.setRange(f?null:+b[0].toFixed(h),f?null:+b[1].toFixed(h))}}function acg(a){var b=a._minMaxSpan={},c=a._dataZoomModel;ah2(["min","max"],function(e){b[e+"Span"]=c.get(e+"Span");var d=c.get(e+"ValueSpan");if(null!=d&&(b[e+"ValueSpan"]=d,d=a.getAxisModel().axis.scale.parse(d),null!=d)){var f=a._dataExtent;b[e+"Span"]=Z7(f[0]+d,f,[0,100],!0)}})}function afc(a){var b={};return akZ(["start","end","startValue","endValue","throttle"],function(c){a.hasOwnProperty(c)&&(b[c]=a[c])}),b}function akP(b,c){var d=b._rangePropMode,a=b.get("rangeMode");akZ([["start","startValue"],["end","endValue"]],function(f,e){var h=null!=c[f[0]],g=null!=c[f[1]];h&&!g?d[e]="percent":!h&&g?d[e]="value":a?d[e]=a[e]:h&&(d[e]="percent")})}function abF(a){var b={x:"y",y:"x",radius:"angle",angle:"radius"};return b[a]}function ZQ(a){return"vertical"===a?"ns-resize":"ew-resize"}function Yj(d,g){var j=afN(d),c=g.dataZoomId,b=g.coordId;aiT(j,function(a){var e=a.dataZoomInfos;e[c]&&aij(g.allCoordIds,b)<0&&(delete e[c],a.count--)}),aia(j);var h=j[b];h||(h=j[b]={coordId:b,dataZoomInfos:{},count:0},h.controller=ajc(d,h),h.dispatchAction=aie(agZ,d)),!h.dataZoomInfos[c]&&h.count++,h.dataZoomInfos[c]=g;var f=aa4(h.dataZoomInfos);h.controller.enable(f.controlType,f.opt),h.controller.setPointerChecker(g.containsPoint),c0(h,"dispatchAction",g.dataZoomModel.get("throttle",!0),"fixRate")}function ads(a,b){var c=afN(a);aiT(c,function(d){d.controller.dispose();var e=d.dataZoomInfos;e[b]&&(delete e[b],d.count--)}),aia(c)}function VG(a){return a.type+"\x00_"+a.id}function afN(a){var b=a.getZr();return b[TX]||(b[TX]={})}function ajc(a,b){var c=new aiY(a.getZr());return aiT(["pan","zoom","scrollMove"],function(d){c.on(d,function(f){var e=[];aiT(b.dataZoomInfos,function(g){if(f.isAvailableBehavior(g.dataZoomModel.option)){var i=(g.getRange||{})[d],h=i&&i(b.controller,f);!g.dataZoomModel.get("disabled",!0)&&h&&e.push({dataZoomId:g.dataZoomId,start:h[0],end:h[1]})}}),e.length&&b.dispatchAction(e)})}),c}function aia(a){aiT(a,function(b,c){b.count||(b.controller.dispose(),delete a[c])})}function agZ(a,b){a.dispatchAction({type:"dataZoom",batch:b})}function aa4(d){var f,g="type_",c={type_true:2,type_move:1,type_false:0,type_undefined:-1},b=!0;return aiT(d,function(a){var h=a.dataZoomModel,e=h.get("disabled",!0)?!1:h.get("zoomLock",!0)?"move":!0;c[g+e]>c[g+f]&&(f=e),b&=h.get("preventDefaultMouseMove",!0)}),{controlType:f,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!b}}}function ago(a){return function(h,k,d,c){var j=this._range,g=j.slice(),f=h.axisModels[0];if(f){var b=a(g,f,h,k,d,c);return bt(b,g,[0,100],"all"),this._range=g,j[0]!==g[0]||j[1]!==g[1]?g:void 0}}}function acR(a){var b={};aiT(a,function(c){b[c]=1}),a.length=0,aiT(b,function(c,d){a.push(d)})}function T5(a){if(a){for(var b in a){if(a.hasOwnProperty(b)){return !0}}}}function P0(c,d,g){function b(){var a=function(){};a.prototype.__hidden=a.prototype;var h=new a;return h}var f={};return IK(d,function(h){var a=f[h]=b();IK(c[h],function(i,e){if(vQ.isValidType(e)){var j={type:e,visual:i};g&&g(j,h),a[e]=new vQ(j),"opacity"===e&&(j=aiO(j),j.type="colorAlpha",a.__hidden.__alphaForOpacity=new vQ(j))}})}),f}function Rj(c,d,f){var b;aiT(f,function(a){d.hasOwnProperty(a)&&T5(d[a])&&(b=!0)}),b&&aiT(f,function(a){d.hasOwnProperty(a)&&T5(d[a])?c[a]=aiO(d[a]):delete c[a]})}function a7(q,k,d,g,m,c){function b(a){return d.getItemVisual(j,a)}function v(a,h){d.setItemVisual(j,a,h)}function f(u,h){j=null==c?u:h;var r=d.getRawDataItem(j);if(!r||r.visualMap!==!1){for(var o=g.call(m,u),n=k[o],a=p[o],i=0,e=a.length;e>i;i++){var s=a[i];n[s]&&n[s].applyVisual(u,b,v)}}}var p={};aiT(q,function(a){var e=vQ.prepareVisualTypes(k[a]);p[a]=e});var j;null==c?d.each(f):d.each([c],f)}function SU(d,f,h,c){function b(z,x){function e(a){return x.getItemVisual(k,a)}function A(a,l){x.setItemVisual(k,a,l)}null!=c&&(c=x.getDimension(c));for(var k;null!=(k=z.next());){var y=x.getRawDataItem(k);if(y&&y.visualMap===!1){return}for(var n=null!=c?x.get(c,k,!0):k,w=h(n),v=f[w],q=g[w],i=0,o=q.length;o>i;i++){var j=q[i];v[j]&&v[j].applyVisual(n,e,A)}}}var g={};return aiT(d,function(a){var e=vQ.prepareVisualTypes(f[a]);g[a]=e}),{progress:b}}function akd(a){var b=["x","y"],c=["width","height"];return{point:function(g,j,f){if(g){var d=f.range,h=g[a];return mt(h,d)}},rect:function(e,d,h){if(e){var g=h.range,f=[e[b[a]],e[b[a]]+e[c[a]]];return f[1]<f[0]&&f.reverse(),mt(f[0],g)||mt(f[1],g)||mt(g[0],f)||mt(g[1],f)}}}}function mt(a,b){return b[0]<=a&&a<=b[1]}function uY(d,h,k,c,b){for(var j=0,g=b[b.length-1];j<b.length;j++){var f=b[j];if(AF(d,h,k,c,f[0],f[1],g[0],g[1])){return !0}g=f}}function AF(q,k,d,g,m,c,b,v){var f=LU(d-q,m-b,g-k,c-v);if(k1(f)){return !1}var p=LU(m-q,m-b,c-k,c-v)/f;if(0>p||p>1){return !1}var j=LU(d-q,m-q,g-k,c-k)/f;return 0>j||j>1?!1:!0}function k1(a){return 0.000001>=a&&a>=-0.000001}function LU(b,c,d,a){return b*a-c*d}function HH(d,f,h){var c=this._targetInfoList=[],b={},g=v9(f,d);xt(G8,function(a,i){(!h||!h.include||aew(h.include,i)>=0)&&a(g,c,b)})}function I0(a){return a[0]>a[1]&&a.reverse(),a}function v9(a,b){return i4(a,b,{includeMainTypes:o0})}function ad3(d,g,j,c){var b=j.getAxis(["x","y"][d]),h=I0(aiu([0,1],function(a){return g?b.coordToData(b.toLocalCoord(c[a])):b.toGlobalCoord(b.dataToCoord(c[a]))})),f=[];return f[d]=h,f[1-d]=[0/0,0/0],{values:h,xyMinMax:f}}function qK(b,c,d,a){return[c[0]-a[b]*d[0],c[1]-a[b]*d[1]]}function r2(d,f){var g=nX(d),c=nX(f),b=[g[0]/c[0],g[1]/c[1]];return isNaN(b[0])&&(b[0]=1),isNaN(b[1])&&(b[1]=1),b}function nX(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[0/0,0/0]}function OG(d,g,j,c,b){if(b){var h=d.getZr();if(!h[C1]){h[hZ]||(h[hZ]=F5);var f=c0(h,hZ,j,g);f(d,c)}}}function F5(a,b){if(!a.isDisposed()){var c=a.getZr();c[C1]=!0,a.dispatchAction({type:"brushSelect",batch:b}),c[C1]=!1}}function tB(d,g,j,c){for(var b=0,h=g.length;h>b;b++){var f=g[b];if(d[f.brushType](c,j,f.selectors,f)){return !0}}}function Kj(b){var c=b.brushSelector;if(ai2(c)){var d=[];return aiT(J2,function(f,e){d[e]=function(l,h,g,k){var j=h.getItemLayout(l);return f[c](j,g,k)}}),d}if(aif(c)){var a={};return aiT(J2,function(e,f){a[f]=c}),a}return c}function h7(a,b){var c=a.option.seriesIndex;return null!=c&&"all"!==c&&(ai9(c)?aij(c,b)<0:b!==c)}function C9(a){var b=a.selectors={};return aiT(J2[a.brushType],function(d,c){b[c]=function(e){return d(e,b,a)}}),a}function EU(a){return new acw(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}function gW(a,b){return ai5({brushType:a.brushType,brushMode:a.brushMode,transformable:a.transformable,brushStyle:new f0(a.brushStyle).getItemStyle(),removeOnClick:a.removeOnClick,z:a.z},b,!0)}function BZ(b,c,d,a){(!a||a.$from!==b.id)&&this._brushController.setPanels(b.brushTargetManager.makePanelOpts(d)).enableBrush(b.brushOption).updateCovers(b.areas.slice())}function cK(a,b){ae4[a]=b}function ft(a){return ae4[a]}function d2(a,b,c){this.model=a,this.ecModel=b,this.api=c,this._brushType,this._brushMode}function aeE(a,b){return a&&a.hasOwnProperty&&a.hasOwnProperty(b)}function jK(y,p,g,k){function w(a){return j[a]}function f(a,c){j[a]=c}for(var b=p.targetVisuals[k],z=vQ.prepareVisualTypes(b),j={color:y.getData().getVisual("color")},x=0,m=z.length;m>x;x++){var v=z[x],q=b["opacity"===v?"__alphaForOpacity":v];q&&q.applyVisual(g,w,f)}return j.color}function aau(d,h,k){if(k[0]===k[1]){return k.slice()}for(var c=200,b=(k[1]-k[0])/c,j=k[0],g=[],f=0;c>=f&&j<k[1];f++){g.push(j),j+=b}return g.push(k[1]),g}function xU(A,v,j){var m=A.option,y=m.align;if(null!=y&&"auto"!==y){return y}for(var g={width:v.getWidth(),height:v.getHeight()},b="horizontal"===m.orient?1:0,B=[["left","right","width"],["top","bottom","height"]],k=B[b],z=[0,null,10],p={},x=0;3>x;x++){p[B[1-b][x]]=z[x],p[k[x]]=2===x?j[0]:m[k[x]]}var w=[["x","width",3],["y","height",0]][b],q=lq(p,g,m.padding);return k[(q.margin[w[2]]||0)+q[w[0]]+0.5*q[w[1]]<0.5*g[w[1]]?0:1]}function M5(a){return aiT(a||[],function(){null!=a.dataIndex&&(a.dataIndexInside=a.dataIndex,a.dataIndex=null)}),a}function y4(b,c,d,a){return new ahn({shape:{points:b},draggable:!!d,cursor:c,drift:d,onmousemove:function(e){ai8(e.event)},ondragend:a})}function o8(a,b){return 0===a?[[0,0],[b,0],[b,-b]]:[[0,0],[b,0],[b,b]]}function VQ(b,c,d,a){return b?[[0,-abl(c,agF(d,0))],[UV,0],[0,abl(c,agF(a-d,0))]]:[[0,0],[5,-5],[5,5]]}function ag3(d,f,g){var c=ac8/2,b=d.get("hoverLinkDataSize");return b&&(c=aiG(b,f,g,!0)/2),c}function abJ(a){var b=a.get("hoverLinkOnHandle");return !!(null==b?a.get("realtime"):b)}function aeI(a){return"vertical"===a?"ns-resize":"ew-resize"}function akh(a,b){var c=a.inverse;("vertical"===a.orient?!c:c)&&b.reverse()}function aa8(a){return 0===a.indexOf("my")}function YF(a){this.model=a}function W4(a){this.model=a}function acV(b){var c={},d=[],a=[];return b.eachRawSeries(function(f){var e=f.coordinateSystem;if(!e||"cartesian2d"!==e.type&&"polar"!==e.type){d.push(f)}else{var h=e.getBaseAxis();if("category"===h.type){var g=h.dim+"_"+h.index;c[g]||(c[g]={categoryAxis:h,valueAxis:e.getOtherAxis(h),series:[]},a.push({axisDim:h.dim,axisIndex:h.index})),c[g].series.push(f)}else{d.push(f)}}}),{seriesGroupByCategoryAxis:c,other:d,meta:a}}function T9(a){var b=[];return aiT(a,function(p){var e=p.categoryAxis,g=p.valueAxis,k=g.dim,d=[" "].concat(aiu(p.series,function(h){return h.name})),c=[e.model.getCategories()];aiT(p.series,function(h){c.push(h.getRawData().mapArray(k,function(i){return i}))});for(var q=[d.join(aek)],f=0;f<c[0].length;f++){for(var m=[],j=0;j<c.length;j++){m.push(c[j][f])}q.push(m.join(aek))}b.push(q.join("\n"))}),b.join("\n\n"+w0+"\n\n")}function afg(a){return aiu(a,function(c){var d=c.getRawData(),f=[c.name],b=[];return d.each(d.dimensions,function(){for(var g=arguments.length,e=arguments[g-1],i=d.getName(e),h=0;g-1>h;h++){b[h]=arguments[h]}f.push((i?i+aek:"")+b.join(aek))}),f.join("\n")}).join("\n\n"+w0+"\n\n")}function aik(a){var b=acV(a);return{value:aiB([T9(b.seriesGroupByCategoryAxis),afg(b.other)],function(c){return c.replace(/[\n\t\s]/g,"")}).join("\n\n"+w0+"\n\n"),meta:b.meta}}function ahE(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ags(a){var b=a.slice(0,a.indexOf("\n"));return b.indexOf(aek)>=0?!0:void 0}function aay(d){for(var h=d.split(/\n+/g),k=ahE(h.shift()).split(q8),c=[],b=aiu(k,function(a){return{name:a,data:[]}}),j=0;j<h.length;j++){var g=ahE(h[j]).split(q8);c.push(g.shift());for(var f=0;f<g.length;f++){b[f]&&(b[f].data[j]=g[f])}}return{series:b,categories:c}}function afR(m){for(var h=m.split(/\n+/g),d=ahE(h.shift()),g=[],j=0;j<h.length;j++){var c,b=ahE(h[j]).split(q8),p="",f=!1;isNaN(b[0])?(f=!0,p=b[0],b=b.slice(1),g[j]={name:p,value:[]},c=g[j].value):c=g[j]=[];for(var k=0;k<b.length;k++){c.push(+b[k])}1===c.length&&(f?g[j].value=c[0]:g[j]=c[0])}return{name:d,data:g}}function ack(b,c){var d=b.split(new RegExp("\n*"+w0+"\n*","g")),a={series:[]};return aiT(d,function(f,i){if(ags(f)){var e=aay(f),h=c[i],g=h.axisDim+"Axis";h&&(a[g]=a[g]||[],a[g][h.axisIndex]={data:e.categories},a.series=a.series.concat(e.series))}else{var e=afR(f);a.series.push(e)}}),a}function SY(a){this._dom=null,this.model=a}function OQ(a,b){return aiu(a,function(d,e){var c=b&&b[e];return ajq(c)&&!ai9(c)?(ajq(d)&&!ai9(d)&&(d=d.value),ain({value:d},c)):d})}function P4(a,b){var c=k5(a);sQ(b,function(j,f){for(var d=c.length-1;d>=0;d--){var k=c[d];if(k[f]){break}}if(0>d){var h=a.queryComponents({mainType:"dataZoom",subType:"select",id:f})[0];if(h){var g=h.getPercentRange();c[0][f]={dataZoomId:f,start:g[0],end:g[1]}}}}),c.push(b)}function aB(b){var c=k5(b),d=c[c.length-1];c.length>1&&c.pop();var a={};return sQ(d,function(f,g){for(var e=c.length-1;e>=0;e--){var f=c[e][g];if(f){a[g]=f;break}}}),a}function RB(a){a[oF]=null}function ajk(a){return k5(a).length}function k5(a){var b=a[oF];return b||(b=a[oF]=[{}]),b}function tJ(a,b,c){(this._brushController=new nt(c.getZr())).on("brush",aic(this._onBrush,this)).mount(),this._isZoomActive}function y8(a){var b={};return aiT(["xAxisIndex","yAxisIndex"],function(c){b[c]=a[c],null==b[c]&&(b[c]="all"),(b[c]===!1||"none"===b[c])&&(b[c]=[])}),b}function jV(a,b){a.setIconStatus("back",ajk(b)>1?"emphasis":"normal")}function KF(d,g,j,c,b){var h=j._isZoomActive;c&&"takeGlobalCursor"===c.type&&(h="dataZoomSelect"===c.key?c.dataZoomSelectActive:!1),j._isZoomActive=h,d.setIconStatus("zoom",h?"emphasis":"normal");var f=new HH(y8(d.option),g,{include:["grid"]});j._brushController.setPanels(f.makePanelOpts(b,function(a){return a.xAxisDeclared&&!a.yAxisDeclared?"lineX":!a.xAxisDeclared&&a.yAxisDeclared?"lineY":"rect"})).enableBrush(h?{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:!1)}function F9(a){this.model=a}function HQ(d,g,j,c){var b=j.type,h=rG[b.charAt(0).toUpperCase()+b.slice(1)],f=new h(j);g.add(f),c.set(d,f),f.__ecGraphicId=d}function u2(a,b){var c=a&&a.parent;c&&("group"===a.type&&a.traverse(function(d){u2(d,b)}),b.removeKey(a.__ecGraphicId),c.remove(a))}function adw(a){return a=aip({},a),aiT(["id","parentId","$action","hv","bounding"].concat(p5),function(b){delete a[b]}),a}function pt(a,b){var c;return aiT(b,function(d){null!=a[d]&&"auto"!==a[d]&&(c=!0)}),c}function qV(b,c){var d=b.exist;if(c.id=b.keyInfo.id,!c.type&&d&&(c.type=d.type),null==c.parentId){var a=c.parentOption;a?c.parentId=a.id:d&&(c.parentId=d.parentId)}c.parentOption=null}function mH(b,d,g){var a=aip({},g),f=b[d],c=g.$action||"merge";"merge"===c?f?(ai5(f,a,!0),j1(f,a,{ignoreSize:!0}),GG(g,f)):b[d]=a:"replace"===c?b[d]=a:"remove"===c&&f&&(b[d]=null)}function NV(a,b){a&&(a.hv=b.hv=[pt(b,["left","right"]),pt(b,["top","bottom"])],"group"===a.type&&(null==a.width&&(a.width=b.width=0),null==a.height&&(a.height=b.height=0)))}function EY(a,b){var c=a.eventData;a.silent||a.ignore||c||(c=a.eventData={componentType:"graphic",componentIndex:b.componentIndex,name:a.name}),c&&(c.info=a.info)}var r6=2311,I4=function(){return r6++},g0={};g0="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:aiV(navigator.userAgent);var B3=g0,DB={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},fH={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},AK=Object.prototype.toString,bY=Array.prototype,d6=bY.forEach,cW=bY.filter,ad7=bY.slice,iq=bY.map,ZX=bY.reduce,wB={},Mq=function(){return wB.createCanvas()};wB.createCanvas=function(){return document.createElement("canvas")};var xY,n1="__ec_primitive__";ajC.prototype={constructor:ajC,get:function(a){return this.data.hasOwnProperty(a)?this.data[a]:null},set:function(a,b){return this.data[a]=b},each:function(a,b){void 0!==b&&(a=aic(a,b));for(var c in this.data){this.data.hasOwnProperty(c)&&a(this.data[c],c)}},removeKey:function(a){delete this.data[a]}};var WX=(Object.freeze||Object)({$override:aiy,clone:aiO,merge:ai5,mergeAll:aix,extend:aip,defaults:ain,createCanvas:Mq,getContext:aiE,indexOf:aij,inherits:aiP,mixin:aiZ,isArrayLike:aiX,each:aiT,map:aiu,reduce:aiQ,filter:aiB,find:aih,bind:aic,curry:aie,isArray:ai9,isFunction:aif,isString:ai2,isObject:ajq,isBuiltInObject:ajF,isTypedArray:ajQ,isDom:ajo,eqNaN:aka,retrieve:aj0,retrieve2:aj3,retrieve3:ajI,slice:aiH,normalizeCssArray:ajy,assert:ajz,trim:ajs,setAsPrimitive:aib,isPrimitive:ajY,createHashMap:aj6,concatArray:ajl,noop:ajU}),ahx="undefined"==typeof Float32Array?Array:Float32Array,acd=ajm,ae9=air,akM=ahr,abC=ab7,ZJ=(Object.freeze||Object)({create:ajW,copy:aji,clone:ajR,set:ajd,add:ajg,scaleAndAdd:ajf,sub:aiK,len:ajm,length:acd,lenSquare:air,lengthSquare:ae9,mul:ajL,div:akH,dot:ajP,scale:ajv,normalize:WJ,distance:ahr,dist:akM,distanceSquare:ab7,distSquare:abC,negate:ae3,lerp:akF,applyTransform:abw,min:Zq,max:X1});adj.prototype={constructor:adj,_dragStart:function(a){var b=a.target;b&&b.draggable&&(this._draggingTarget=b,b.dragging=!0,this._x=a.offsetX,this._y=a.offsetY,this.dispatchToElement(U6(b,a),"dragstart",a.event))},_drag:function(d){var h=this._draggingTarget;if(h){var k=d.offsetX,c=d.offsetY,b=k-this._x,j=c-this._y;this._x=k,this._y=c,h.drift(b,j,d),this.dispatchToElement(U6(h,d),"drag",d.event);var g=this.findHover(k,c,h).target,f=this._dropTarget;this._dropTarget=g,h!==g&&(f&&g!==f&&this.dispatchToElement(U6(f,d),"dragleave",d.event),g&&g!==f&&this.dispatchToElement(U6(g,d),"dragenter",d.event))}},_dragEnd:function(a){var b=this._draggingTarget;b&&(b.dragging=!1),this.dispatchToElement(U6(b,a),"dragend",a.event),this._dropTarget&&this.dispatchToElement(U6(this._dropTarget,a),"drop",a.event),this._draggingTarget=null,this._dropTarget=null}};var X7=Array.prototype.slice,adp=function(a){this._$handlers={},this._$eventProcessor=a};adp.prototype={constructor:adp,one:function(d,f,h,c){var b=this._$handlers;if("function"==typeof f&&(c=h,h=f,f=null),!h||!d){return this}f=afE(this,f),b[d]||(b[d]=[]);for(var g=0;g<b[d].length;g++){if(b[d][g].h===h){return this}}return b[d].push({h:h,one:!0,query:f,ctx:c||this}),this},on:function(d,f,h,c){var b=this._$handlers;if("function"==typeof f&&(c=h,h=f,f=null),!h||!d){return this}f=afE(this,f),b[d]||(b[d]=[]);for(var g=0;g<b[d].length;g++){if(b[d][g].h===h){return this}}return b[d].push({h:h,one:!1,query:f,ctx:c||this}),this},isSilent:function(a){var b=this._$handlers;return b[a]&&b[a].length},off:function(d,f){var h=this._$handlers;if(!d){return this._$handlers={},this}if(f){if(h[d]){for(var c=[],b=0,g=h[d].length;g>b;b++){h[d][b].h!==f&&c.push(h[d][b])}h[d]=c}h[d]&&0===h[d].length&&delete h[d]}else{delete h[d]}return this},trigger:function(d){var h=this._$handlers[d],k=this._$eventProcessor;if(h){var c=arguments,b=c.length;b>3&&(c=X7.call(c,1));for(var j=h.length,g=0;j>g;){var f=h[g];if(k&&k.filter&&null!=f.query&&!k.filter(d,f.query)){g++}else{switch(b){case 1:f.h.call(f.ctx);break;case 2:f.h.call(f.ctx,c[1]);break;case 3:f.h.call(f.ctx,c[1],c[2]);break;default:f.h.apply(f.ctx,c)}f.one?(h.splice(g,1),j--):g++}}}return k&&k.afterTrigger&&k.afterTrigger(d),this},triggerWithContext:function(k){var h=this._$handlers[k],d=this._$eventProcessor;if(h){var g=arguments,j=g.length;j>4&&(g=X7.call(g,1,g.length-1));for(var c=g[g.length-1],b=h.length,m=0;b>m;){var f=h[m];if(d&&d.filter&&null!=f.query&&!d.filter(k,f.query)){m++}else{switch(j){case 1:f.h.call(c);break;case 2:f.h.call(c,g[1]);break;case 3:f.h.call(c,g[1],g[2]);break;default:f.h.apply(c,g)}f.one?(h.splice(m,1),b--):m++}}}return d&&d.afterTrigger&&d.afterTrigger(k),this}};var Vt="undefined"!=typeof window&&!!window.addEventListener,afK=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ai8=Vt?function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0}:function(a){a.returnValue=!1,a.cancelBubble=!0},ah7="silent";a2.prototype.dispose=function(){};var agW=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],aa1=function(b,c,d,a){adp.call(this),this.storage=b,this.painter=c,this.painterRoot=a,d=d||new a2,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,adj.call(this),this.setHandlerProxy(d)};aa1.prototype={constructor:aa1,setHandlerProxy:function(a){this.proxy&&this.proxy.dispose(),a&&(aiT(agW,function(b){a.on&&a.on(b,this[b],this)},this),a.handler=this),this.proxy=a},mousemove:function(d){var h=d.zrX,k=d.zrY,c=this._hovered,b=c.target;b&&!b.__zr&&(c=this.findHover(c.x,c.y),b=c.target);var j=this._hovered=this.findHover(h,k),g=j.target,f=this.proxy;f.setCursor&&f.setCursor(g?g.cursor:"default"),b&&g!==b&&this.dispatchToElement(c,"mouseout",d),this.dispatchToElement(j,"mousemove",d),g&&g!==b&&this.dispatchToElement(j,"mouseover",d)},mouseout:function(a){this.dispatchToElement(this._hovered,"mouseout",a);var b,c=a.toElement||a.relatedTarget;do{c=c&&c.parentNode}while(c&&9!=c.nodeType&&!(b=c===this.painterRoot));!b&&this.trigger("globalout",{event:a})},resize:function(){this._hovered={}},dispatch:function(a,b){var c=this[a];c&&c.call(this,b)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(a){var b=this.proxy;b.setCursor&&b.setCursor(a)},dispatchToElement:function(d,f,h){d=d||{};var c=d.target;if(!c||!c.silent){for(var b="on"+f,g=PJ(f,d,h);c&&(c[b]&&(g.cancelBubble=c[b].call(c,g)),c.trigger(f,g),c=c.parent,!g.cancelBubble);){}g.cancelBubble||(this.trigger(f,g),this.painter&&this.painter.eachOtherLayer(function(a){"function"==typeof a[b]&&a[b].call(a,g),a.trigger&&a.trigger(f,g)}))}},findHover:function(d,g,j){for(var c=this.storage.getDisplayList(),b={x:d,y:g},h=c.length-1;h>=0;h--){var f;if(c[h]!==j&&!c[h].ignore&&(f=Sq(c[h],d,g))&&(!b.topTarget&&(b.topTarget=c[h]),f!==ah7)){b.target=c[h];break}}return b}},aiT(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){aa1.prototype[a]=function(c){var d=this.findHover(c.zrX,c.zrY),b=d.target;if("mousedown"===a){this._downEl=b,this._downPoint=[c.zrX,c.zrY],this._upEl=b}else{if("mouseup"===a){this._upEl=b}else{if("click"===a){if(this._downEl!==this._upEl||!this._downPoint||akM(this._downPoint,[c.zrX,c.zrY])>4){return}this._downPoint=null}}}this.dispatchToElement(d,a,c)}}),aiZ(aa1,adp),aiZ(aa1,adj);var agl="undefined"==typeof Float32Array?Array:Float32Array,acO=(Object.freeze||Object)({create:aj1,identity:l3,copy:uG,mul:z5,translate:kK,rotate:Lq,scale:G7,invert:IJ,clone:v0}),T2=l3,PX=0.00005,Q7=function(a){a=a||{},a.position||(this.position=[0,0]),null==a.rotation&&(this.rotation=0),a.scale||(this.scale=[1,1]),this.origin=this.origin||null},a5=Q7.prototype;a5.transform=null,a5.needLocalTransform=function(){return adU(this.rotation)||adU(this.position[0])||adU(this.position[1])||adU(this.scale[0]-1)||adU(this.scale[1]-1)};var SJ=[];a5.updateTransform=function(){var k=this.parent,h=k&&k.transform,d=this.needLocalTransform(),g=this.transform;if(!d&&!h){return void (g&&T2(g))}g=g||aj1(),d?this.getLocalTransform(g):T2(g),h&&(d?z5(g,k.transform,g):uG(g,k.transform)),this.transform=g;var j=this.globalScaleRatio;if(null!=j&&1!==j){this.getGlobalScale(SJ);var c=SJ[0]<0?-1:1,b=SJ[1]<0?-1:1,m=((SJ[0]-c)*j+c)/SJ[0]||0,f=((SJ[1]-b)*j+b)/SJ[1]||0;g[0]*=m,g[1]*=m,g[2]*=f,g[3]*=f}this.invTransform=this.invTransform||aj1(),IJ(this.invTransform,g)},a5.getLocalTransform=function(a){return Q7.getLocalTransform(this,a)},a5.setTransform=function(a){var b=this.transform,c=a.dpr||1;b?a.setTransform(c*b[0],c*b[1],c*b[2],c*b[3],c*b[4],c*b[5]):a.setTransform(c,0,0,c,0,0)},a5.restoreTransform=function(a){var b=a.dpr||1;a.setTransform(b,0,0,b,0,0)};var aj9=[],l9=aj1();a5.setLocalTransform=function(d){if(d){var f=d[0]*d[0]+d[1]*d[1],g=d[2]*d[2]+d[3]*d[3],c=this.position,b=this.scale;adU(f-1)&&(f=Math.sqrt(f)),adU(g-1)&&(g=Math.sqrt(g)),d[0]<0&&(f=-f),d[3]<0&&(g=-g),c[0]=d[4],c[1]=d[5],b[0]=f,b[1]=g,this.rotation=Math.atan2(-d[1]/g,d[0]/f)}},a5.decomposeTransform=function(){if(this.transform){var a=this.parent,b=this.transform;a&&a.transform&&(z5(aj9,a.invTransform,b),b=aj9);var c=this.origin;c&&(c[0]||c[1])&&(l9[4]=c[0],l9[5]=c[1],z5(aj9,b,l9),aj9[4]-=c[0],aj9[5]-=c[1],b=aj9),this.setLocalTransform(b)}},a5.getGlobalScale=function(a){var b=this.transform;return a=a||[],b?(a[0]=Math.sqrt(b[0]*b[0]+b[1]*b[1]),a[1]=Math.sqrt(b[2]*b[2]+b[3]*b[3]),b[0]<0&&(a[0]=-a[0]),b[3]<0&&(a[1]=-a[1]),a):(a[0]=1,a[1]=1,a)},a5.transformCoordToLocal=function(b,c){var d=[b,c],a=this.invTransform;return a&&abw(d,d,a),d},a5.transformCoordToGlobal=function(b,c){var d=[b,c],a=this.transform;return a&&abw(d,d,a),d},Q7.getLocalTransform=function(d,f){f=f||[],T2(f);var h=d.origin,c=d.scale||[1,1],b=d.rotation||0,g=d.position||[0,0];return h&&(f[4]-=h[0],f[5]-=h[1]),G7(f,f,c),b&&Lq(f,f,b),h&&(f[4]+=h[0],f[5]+=h[1]),f[4]+=g[0],f[5]+=g[1],f};var uV={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return(a*=2)<1?0.5*a*a:-0.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return --a*a*a+1},cubicInOut:function(a){return(a*=2)<1?0.5*a*a*a:0.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return(a*=2)<1?0.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return --a*a*a*a*a+1},quinticInOut:function(a){return(a*=2)<1?0.5*a*a*a*a*a:0.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return 0.5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},exponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return 0===a?0:1===a?1:(a*=2)<1?0.5*Math.pow(1024,a-1):0.5*(-Math.pow(2,-10*(a-1))+2)},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return(a*=2)<1?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(b){var c,d=0.1,a=0.4;return 0===b?0:1===b?1:(!d||1>d?(d=1,c=a/4):c=a*Math.asin(1/d)/(2*Math.PI),-(d*Math.pow(2,10*(b-=1))*Math.sin(2*(b-c)*Math.PI/a)))},elasticOut:function(b){var c,d=0.1,a=0.4;return 0===b?0:1===b?1:(!d||1>d?(d=1,c=a/4):c=a*Math.asin(1/d)/(2*Math.PI),d*Math.pow(2,-10*b)*Math.sin(2*(b-c)*Math.PI/a)+1)},elasticInOut:function(b){var c,d=0.1,a=0.4;return 0===b?0:1===b?1:(!d||1>d?(d=1,c=a/4):c=a*Math.asin(1/d)/(2*Math.PI),(b*=2)<1?-0.5*d*Math.pow(2,10*(b-=1))*Math.sin(2*(b-c)*Math.PI/a):d*Math.pow(2,-10*(b-=1))*Math.sin(2*(b-c)*Math.PI/a)*0.5+1)},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){var b=1.70158;return --a*a*((b+1)*a+b)+1},backInOut:function(a){var b=2.5949095;return(a*=2)<1?0.5*a*a*((b+1)*a-b):0.5*((a-=2)*a*((b+1)*a+b)+2)},bounceIn:function(a){return 1-uV.bounceOut(1-a)},bounceOut:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+0.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375},bounceInOut:function(a){return 0.5>a?0.5*uV.bounceIn(2*a):0.5*uV.bounceOut(2*a-1)+0.5}};p9.prototype={constructor:p9,step:function(d,f){if(this._initialized||(this._startTime=d+this._delay,this._initialized=!0),this._paused){return void (this._pausedTime+=f)}var h=(d-this._startTime-this._pausedTime)/this._life;if(!(0>h)){h=Math.min(h,1);var c=this.easing,b="string"==typeof c?uV[c]:c,g="function"==typeof b?b(h):h;return this.fire("frame",g),1==h?this.loop?(this.restart(d),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(a){var b=(a-this._startTime-this._pausedTime)%this._life;this._startTime=a-b+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(a,b){a="on"+a,this[a]&&this[a](this._target,b)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var Aq=function(){this.head=null,this.tail=null,this._len=0},kY=Aq.prototype;kY.insert=function(a){var b=new LJ(a);return this.insertEntry(b),b},kY.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,a.next=null,this.tail=a):this.head=this.tail=a,this._len++},kY.remove=function(a){var b=a.prev,c=a.next;b?b.next=c:this.head=c,c?c.prev=b:this.tail=b,a.next=a.prev=null,this._len--},kY.len=function(){return this._len},kY.clear=function(){this.head=this.tail=null,this._len=0};var LJ=function(a){this.value=a,this.next,this.prev},HB=function(a){this._list=new Aq,this._map={},this._maxSize=a||10,this._lastRemovedEntry=null},IX=HB.prototype;IX.put=function(d,h){var k=this._list,c=this._map,b=null;if(null==c[d]){var j=k.len(),g=this._lastRemovedEntry;if(j>=this._maxSize&&j>0){var f=k.head;k.remove(f),delete c[f.key],b=f.value,this._lastRemovedEntry=f}g?g.value=h:g=new LJ(h),g.key=d,k.insertEntry(g),c[d]=g}return b},IX.get=function(a){var b=this._map[a],c=this._list;return null!=b?(b!==c.tail&&(c.remove(b),c.insertEntry(b)),b.value):void 0},IX.clear=function(){this._list.clear(),this._map={}};var v6={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},ad0=new HB(20),qG=null,rZ=i9,nU=aal,OB=(Object.freeze||Object)({parse:BH,lift:dQ,toHex:aev,fastLerp:i9,fastMapToColor:rZ,lerp:aal,mapToColor:nU,modifyHSL:xq,modifyAlpha:M0,stringify:yV}),F2=Array.prototype.slice,tj=function(b,c,d,a){this._tracks={},this._target=b,this._loop=c||!1,this._getter=d||oZ,this._setter=a||V5,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};tj.prototype={when:function(d,f){var g=this._tracks;for(var c in f){if(f.hasOwnProperty(c)){if(!g[c]){g[c]=[];var b=this._getter(this._target,c);if(null==b){continue}0!==d&&g[c].push({time:0,value:UU(b)})}g[c].push({time:d,value:f[c]})}}return this},during:function(a){return this._onframeList.push(a),this},pause:function(){for(var a=0;a<this._clipList.length;a++){this._clipList[a].pause()}this._paused=!0},resume:function(){for(var a=0;a<this._clipList.length;a++){this._clipList[a].resume()}this._paused=!1},isPaused:function(){return !!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var a=this._doneList,b=a.length,c=0;b>c;c++){a[c].call(this)}},start:function(k,h){var d,g=this,j=0,c=function(){j--,j||g._doneCallback()};for(var b in this._tracks){if(this._tracks.hasOwnProperty(b)){var m=ahP(this,k,c,this._tracks[b],b,h);m&&(this._clipList.push(m),j++,this.animation&&this.animation.addClip(m),d=m)}}if(d){var f=d.onframe;d.onframe=function(a,i){f(a,i);for(var l=0;l<g._onframeList.length;l++){g._onframeList[l](a,i)}}}return j||this._doneCallback(),this},stop:function(d){for(var f=this._clipList,g=this.animation,c=0;c<f.length;c++){var b=f[c];d&&b.onframe(this._target,1),g&&g.removeClip(b)}f.length=0},delay:function(a){return this._delay=a,this},done:function(a){return a&&this._doneList.push(a),this},getClips:function(){return this._clipList}};var J7=1;"undefined"!=typeof window&&(J7=Math.max(window.devicePixelRatio||1,1));var h4=0,C6=J7,EJ=function(){};1===h4?EJ=function(){for(var a in arguments){throw new Error(arguments[a])}}:h4>1&&(EJ=function(){for(var a in arguments){console.log(arguments[a])}});var gQ=EJ,BW=function(){this.animators=[]};BW.prototype={constructor:BW,animate:function(w,p){var g,k=!1,v=this,f=this.__zr;if(w){var b=w.split("."),x=v;k="shape"===b[0];for(var j=0,m=b.length;m>j;j++){x&&(x=x[b[j]])}x&&(g=x)}else{g=v}if(!g){return void gQ('Property "'+w+'" is not existed in element '+v.id)}var u=v.animators,q=new tj(g,p);return q.during(function(){v.dirty(k)}).done(function(){u.splice(aij(u,q),1)}),u.push(q),f&&f.animation.addAnimator(q),q},stopAnimation:function(b){for(var c=this.animators,d=c.length,a=0;d>a;a++){c[a].stop(b)}return c.length=0,this},animateTo:function(d,f,h,c,b,g){agE(this,d,f,h,c,b,g)},animateFrom:function(d,f,h,c,b,g){agE(this,d,f,h,c,b,g,!0)}};var cH=function(a){Q7.call(this,a),adp.call(this,a),BW.call(this,a),this.id=a.id||I4()};cH.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(a,b){switch(this.draggable){case"horizontal":b=0;break;case"vertical":a=0}var c=this.transform;c||(c=this.transform=[1,0,0,1,0,0]),c[4]+=a,c[5]+=b,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(){},attrKV:function(a,b){if("position"===a||"scale"===a||"origin"===a){if(b){var c=this[a];c||(c=this[a]=[]),c[0]=b[0],c[1]=b[1]}}else{this[a]=b}},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(a,b){if("string"==typeof a){this.attrKV(a,b)}else{if(ajq(a)){for(var c in a){a.hasOwnProperty(c)&&this.attrKV(c,a[c])}}}return this.dirty(!1),this},setClipPath:function(a){var b=this.__zr;b&&a.addSelfToZr(b),this.clipPath&&this.clipPath!==a&&this.removeClipPath(),this.clipPath=a,a.__zr=b,a.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var a=this.clipPath;a&&(a.__zr&&a.removeSelfFromZr(a.__zr),a.__zr=null,a.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(a){this.__zr=a;var b=this.animators;if(b){for(var c=0;c<b.length;c++){a.animation.addAnimator(b[c])}}this.clipPath&&this.clipPath.addSelfToZr(a)},removeSelfFromZr:function(a){this.__zr=null;var b=this.animators;if(b){for(var c=0;c<b.length;c++){a.animation.removeAnimator(b[c])}}this.clipPath&&this.clipPath.removeSelfFromZr(a)}},aiZ(cH,BW),aiZ(cH,Q7),aiZ(cH,adp);var e9=abw,dZ=Math.min,aeB=Math.max;acw.prototype={constructor:acw,union:function(a){var b=dZ(a.x,this.x),c=dZ(a.y,this.y);this.width=aeB(a.x+a.width,this.x+this.width)-b,this.height=aeB(a.y+a.height,this.y+this.height)-c,this.x=b,this.y=c},applyTransform:function(){var b=[],c=[],d=[],a=[];return function(e){if(e){b[0]=d[0]=this.x,b[1]=a[1]=this.y,c[0]=a[0]=this.x+this.width,c[1]=d[1]=this.y+this.height,e9(b,b,e),e9(c,c,e),e9(d,d,e),e9(a,a,e),this.x=dZ(b[0],c[0],d[0],a[0]),this.y=dZ(b[1],c[1],d[1],a[1]);var g=aeB(b[0],c[0],d[0],a[0]),f=aeB(b[1],c[1],d[1],a[1]);this.width=g-this.x,this.height=f-this.y}}}(),calculateTransform:function(d){var f=this,g=d.width/f.width,c=d.height/f.height,b=aj1();return kK(b,b,[-f.x,-f.y]),G7(b,b,[g,c]),kK(b,b,[d.x,d.y]),b},intersect:function(m){if(!m){return !1}m instanceof acw||(m=acw.create(m));var h=this,d=h.x,g=h.x+h.width,j=h.y,c=h.y+h.height,b=m.x,p=m.x+m.width,f=m.y,k=m.y+m.height;return !(b>g||d>p||f>c||j>k)},contain:function(a,b){var c=this;return a>=c.x&&a<=c.x+c.width&&b>=c.y&&b<=c.y+c.height},clone:function(){return new acw(this.x,this.y,this.width,this.height)},copy:function(a){this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},acw.create=function(a){return new acw(a.x,a.y,a.width,a.height)};var jG=function(a){a=a||{},cH.call(this,a);for(var b in a){a.hasOwnProperty(b)&&(this[b]=a[b])}this._children=[],this.__storage=null,this.__dirty=!0};jG.prototype={constructor:jG,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(a){return this._children[a]},childOfName:function(a){for(var b=this._children,c=0;c<b.length;c++){if(b[c].name===a){return b[c]}}},childCount:function(){return this._children.length},add:function(a){return a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a)),this},addBefore:function(b,c){if(b&&b!==this&&b.parent!==this&&c&&c.parent===this){var d=this._children,a=d.indexOf(c);a>=0&&(d.splice(a,0,b),this._doAdd(b))}return this},_doAdd:function(a){a.parent&&a.parent.remove(a),a.parent=this;var b=this.__storage,c=this.__zr;b&&b!==a.__storage&&(b.addToStorage(a),a instanceof jG&&a.addChildrenToStorage(b)),c&&c.refresh()},remove:function(d){var f=this.__zr,g=this.__storage,c=this._children,b=aij(c,d);return 0>b?this:(c.splice(b,1),d.parent=null,g&&(g.delFromStorage(d),d instanceof jG&&d.delChildrenFromStorage(g)),f&&f.refresh(),this)},removeAll:function(){var b,c,d=this._children,a=this.__storage;for(c=0;c<d.length;c++){b=d[c],a&&(a.delFromStorage(b),b instanceof jG&&b.delChildrenFromStorage(a)),b.parent=null}return d.length=0,this},eachChild:function(d,f){for(var g=this._children,c=0;c<g.length;c++){var b=g[c];d.call(f,b,c)}return this},traverse:function(b,c){for(var d=0;d<this._children.length;d++){var a=this._children[d];b.call(c,a),"group"===a.type&&a.traverse(b,c)}return this},addChildrenToStorage:function(a){for(var b=0;b<this._children.length;b++){var c=this._children[b];a.addToStorage(c),c instanceof jG&&c.addChildrenToStorage(a)}},delChildrenFromStorage:function(a){for(var b=0;b<this._children.length;b++){var c=this._children[b];a.delFromStorage(c),c instanceof jG&&c.delChildrenFromStorage(a)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(k){for(var h=null,d=new acw(0,0,0,0),g=k||this._children,j=[],c=0;c<g.length;c++){var b=g[c];if(!b.ignore&&!b.invisible){var m=b.getBoundingRect(),f=b.getLocalTransform(j);f?(d.copy(m),d.applyTransform(f),h=h||d.clone(),h.union(d)):(h=h||m.clone(),h.union(m))}}return h||d}},aiP(jG,cH);var aar=32,xJ=7,M3=function(){this._roots=[],this._displayList=[],this._displayListLen=0};M3.prototype={constructor:M3,traverse:function(a,b){for(var c=0;c<this._roots.length;c++){this._roots[c].traverse(a,b)}},getDisplayList:function(a,b){return b=b||!1,a&&this.updateDisplayList(b),this._displayList},updateDisplayList:function(d){this._displayListLen=0;for(var f=this._roots,g=this._displayList,c=0,b=f.length;b>c;c++){this._updateAndAddDisplayable(f[c],null,d)}g.length=this._displayListLen,B3.canvasSupported&&t3(g,zU)},_updateAndAddDisplayable:function(k,h,d){if(!k.ignore||d){k.beforeUpdate(),k.__dirty&&k.update(),k.afterUpdate();var g=k.clipPath;if(g){h=h?h.slice():[];for(var j=g,c=k;j;){j.parent=c,j.updateTransform(),h.push(j),c=j,j=j.clipPath}}if(k.isGroup){for(var b=k._children,m=0;m<b.length;m++){var f=b[m];k.__dirty&&(f.__dirty=!0),this._updateAndAddDisplayable(f,h,d)}k.__dirty=!1}else{k.__clipPaths=h,this._displayList[this._displayListLen++]=k}}},addRoot:function(a){a.__storage!==this&&(a instanceof jG&&a.addChildrenToStorage(this),this.addToStorage(a),this._roots.push(a))},delRoot:function(d){if(null==d){for(var f=0;f<this._roots.length;f++){var g=this._roots[f];g instanceof jG&&g.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void (this._displayListLen=0)}if(d instanceof Array){for(var f=0,c=d.length;c>f;f++){this.delRoot(d[f])}}else{var b=aij(this._roots,d);b>=0&&(this.delFromStorage(d),this._roots.splice(b,1),d instanceof jG&&d.delChildrenFromStorage(this))}},addToStorage:function(a){return a&&(a.__storage=this,a.dirty(!1)),this},delFromStorage:function(a){return a&&(a.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:zU};var y1={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},o5=function(a,b,c){return y1.hasOwnProperty(b)?c*=a.dpr:c},W9=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],ahJ=function(a){this.extendFrom(a,!1)};ahJ.prototype={constructor:ahJ,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(m,h,d){for(var g=this,j=d&&d.style,c=!j,b=0;b<W9.length;b++){var p=W9[b],f=p[0];(c||g[f]!==j[f])&&(m[f]=o5(m,f,g[f]||p[1]))}if((c||g.fill!==j.fill)&&(m.fillStyle=g.fill),(c||g.stroke!==j.stroke)&&(m.strokeStyle=g.stroke),(c||g.opacity!==j.opacity)&&(m.globalAlpha=null==g.opacity?1:g.opacity),(c||g.blend!==j.blend)&&(m.globalCompositeOperation=g.blend||"source-over"),this.hasStroke()){var k=g.lineWidth;m.lineWidth=k/(this.strokeNoScale&&h&&h.getLineScale?h.getLineScale():1)}},hasFill:function(){var a=this.fill;return null!=a&&"none"!==a},hasStroke:function(){var a=this.stroke;return null!=a&&"none"!==a&&this.lineWidth>0},extendFrom:function(a,b){if(a){for(var c in a){!a.hasOwnProperty(c)||b!==!0&&(b===!1?this.hasOwnProperty(c):null==a[c])||(this[c]=a[c])}}},set:function(a,b){"string"==typeof a?this[a]=b:this.extendFrom(a,!0)},clone:function(){var a=new this.constructor;return a.extendFrom(this,!0),a},getGradient:function(d,g,j){for(var c="radial"===g.type?KZ:j7,b=c(d,g,j),h=g.colorStops,f=0;f<h.length;f++){b.addColorStop(h[f].offset,h[f].color)}return b}};for(var acp=ahJ.prototype,afl=0;afl<W9.length;afl++){var akR=W9[afl];akR[0] in acp||(acp[akR[0]]=akR[1])}ahJ.getGradient=acp.getGradient;var abO=function(a,b){this.image=a,this.repeat=b,this.type="pattern"};abO.prototype.getCanvasPattern=function(a){return a.createPattern(this.image,this.repeat||"repeat")};var Z2=function(d,f,g){var c;g=g||C6,"string"==typeof d?c=H5(d,f,g):ajq(d)&&(c=d,d=c.id),this.id=d,this.dom=c;var b=c.style;b&&(c.onselectstart=GV,b["-webkit-user-select"]="none",b["user-select"]="none",b["-webkit-touch-callout"]="none",b["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",b.padding=0,b.margin=0,b["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=f,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=0.7,this.dpr=g};Z2.prototype={constructor:Z2,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var a=this.dpr;this.domBack=H5("back-"+this.id,this.painter,a),this.ctxBack=this.domBack.getContext("2d"),1!=a&&this.ctxBack.scale(a,a)},resize:function(d,f){var h=this.dpr,c=this.dom,b=c.style,g=this.domBack;b&&(b.width=d+"px",b.height=f+"px"),c.width=d*h,c.height=f*h,g&&(g.width=d*h,g.height=f*h,1!=h&&this.ctxBack.scale(h,h))},clear:function(q,k){var d=this.dom,g=this.ctx,m=d.width,c=d.height,k=k||this.clearColor,b=this.motionBlur&&!q,v=this.lastFrameAlpha,f=this.dpr;if(b&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(d,0,0,m/f,c/f)),g.clearRect(0,0,m,c),k&&"transparent"!==k){var p;k.colorStops?(p=k.__canvasGradient||ahJ.getGradient(g,k,{x:0,y:0,width:m,height:c}),k.__canvasGradient=p):k.image&&(p=abO.prototype.getCanvasPattern.call(k,g)),g.save(),g.fillStyle=p||k,g.fillRect(0,0,m,c),g.restore()}if(b){var j=this.domBack;g.save(),g.globalAlpha=v,g.drawImage(j,0,0,m,c),g.restore()}}};var YN="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){setTimeout(a,16)},adB=new HB(50),VY={},afW=0,aju=5000,ait=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,ag8="12px sans-serif",abd={};abd.measureText=function(a,b){var c=aiE();return c.font=b||ag8,c.measureText(a)};var agx={left:1,right:1,center:1},ac0={top:1,bottom:1,middle:1},UF=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],P9=new acw,RK=function(){};RK.prototype={constructor:RK,drawRectText:function(d,f){var g=this.style;f=g.textRect||f,this.__dirty&&yj(g,!0);var c=g.text;if(null!=c&&(c+=""),aga(c,g)){d.save();var b=this.transform;g.transformText?this.setTransform(d):b&&(P9.copy(f),P9.applyTransform(b),f=P9),Wt(this,d,c,g,f),d.restore()}}},acD.prototype={constructor:acD,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(){},afterBrush:function(){},brush:function(){},getBoundingRect:function(){},contain:function(a,b){return this.rectContain(a,b)},traverse:function(a,b){a.call(b,this)},rectContain:function(b,c){var d=this.transformCoordToLocal(b,c),a=this.getBoundingRect();return a.contain(d[0],d[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(a){return this.animate("style",a)},attrKV:function(a,b){"style"!==a?cH.prototype.attrKV.call(this,a,b):this.style.set(b)},setStyle:function(a,b){return this.style.set(a,b),this.dirty(!1),this},useStyle:function(a){return this.style=new ahJ(a,this),this.dirty(!1),this}},aiP(acD,cH),aiZ(acD,RK),TJ.prototype={constructor:TJ,type:"image",brush:function(A,v){var j=this.style,m=j.image;j.bind(A,this,v);var y=this._image=adI(m,this._image,this,this.onload);if(y&&q7(y)){var g=j.x||0,b=j.y||0,B=j.width,k=j.height,z=y.width/y.height;if(null==B&&null!=k?B=k*z:null==k&&null!=B?k=B/z:null==B&&null==k&&(B=y.width,k=y.height),this.setTransform(A),j.sWidth&&j.sHeight){var p=j.sx||0,x=j.sy||0;A.drawImage(y,p,x,j.sWidth,j.sHeight,g,b,B,k)}else{if(j.sx&&j.sy){var p=j.sx,x=j.sy,w=B-p,q=k-x;A.drawImage(y,p,x,w,q,g,b,B,k)}else{A.drawImage(y,g,b,B,k)}}null!=j.text&&(this.restoreTransform(A),this.drawRectText(A,this.getBoundingRect()))}},getBoundingRect:function(){var a=this.style;return this._rect||(this._rect=new acw(a.x||0,a.y||0,a.width||0,a.height||0)),this._rect}},aiP(TJ,acD);var a9=100000,S3=314159,akm=0.01,mV=0.001,u7=new acw(0,0,0,0),AX=new acw(0,0,0,0),lj=function(r,k,d){this.type="canvas";var g=!r.nodeName||"CANVAS"===r.nodeName.toUpperCase();this._opts=d=aip({},d||{}),this.dpr=d.devicePixelRatio||C6,this._singleCanvas=g,this.root=r;var p=r.style;p&&(p["-webkit-tap-highlight-color"]="transparent",p["-webkit-user-select"]=p["user-select"]=p["-webkit-touch-callout"]="none",r.innerHTML=""),this.storage=k;var b=this._zlevelList=[],v=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,g){var f=r.width,q=r.height;null!=d.width&&(f=d.width),null!=d.height&&(q=d.height),this.dpr=d.devicePixelRatio||1,r.width=f*this.dpr,r.height=q*this.dpr,this._width=f,this._height=q;var j=new Z2(r,this,this.dpr);j.__builtin__=!0,j.initContext(),v[S3]=j,j.zlevel=S3,b.push(S3),this._domRoot=r}else{this._width=this._getSize(0),this._height=this._getSize(1);var m=this._domRoot=lY(this._width,this._height);r.appendChild(m)}this._hoverlayer=null,this._hoverElements=[]};lj.prototype={constructor:lj,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var a=this.getViewportRoot();return a?{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}:void 0},refresh:function(d){var g=this.storage.getDisplayList(!0),j=this._zlevelList;this._redrawId=Math.random(),this._paintList(g,d,this._redrawId);for(var c=0;c<j.length;c++){var b=j[c],h=this._layers[b];if(!h.__builtin__&&h.refresh){var f=0===c?this._backgroundColor:null;h.refresh(f)}}return this.refreshHover(),this},addHover:function(a,b){if(!a.__hoverMir){var c=new a.constructor({style:a.style,shape:a.shape,z:a.z,z2:a.z2,silent:a.silent});return c.__from=a,a.__hoverMir=c,b&&c.setStyle(b),this._hoverElements.push(c),c}},removeHover:function(b){var c=b.__hoverMir,d=this._hoverElements,a=aij(d,c);a>=0&&d.splice(a,1),b.__hoverMir=null},clearHover:function(){for(var a=this._hoverElements,b=0;b<a.length;b++){var c=a[b].__from;c&&(c.__hoverMir=null)}a.length=0},refreshHover:function(){var d=this._hoverElements,g=d.length,j=this._hoverlayer;if(j&&j.clear(),g){t3(d,this.storage.displayableSortFunc),j||(j=this._hoverlayer=this.getLayer(a9));var c={};j.ctx.save();for(var b=0;g>b;){var h=d[b],f=h.__from;f&&f.__zr?(b++,f.invisible||(h.transform=f.transform,h.invTransform=f.invTransform,h.__clipPaths=f.__clipPaths,this._doPaintEl(h,j,!0,c))):(d.splice(b,1),f.__hoverMir=null,g--)}j.ctx.restore()}},getHoverLayer:function(){return this.getLayer(a9)},_paintList:function(d,f,g){if(this._redrawId===g){f=f||!1,this._updateLayerStatus(d);var c=this._doPaintList(d,f);if(this._needsManuallyCompositing&&this._compositeManually(),!c){var b=this;YN(function(){b._paintList(d,f,g)})}}},_compositeManually:function(){var a=this.getLayer(S3).ctx,b=this._domRoot.width,c=this._domRoot.height;a.clearRect(0,0,b,c),this.eachBuiltinLayer(function(d){d.virtual&&a.drawImage(d.dom,0,0,b,c)})},_doPaintList:function(k,G){for(var A=[],D=0;D<this._zlevelList.length;D++){var J=this._zlevelList[D],z=this._layers[J];z.__builtin__&&z!==this._hoverlayer&&(z.__dirty||G)&&A.push(z)}for(var w=!0,q=0;q<A.length;q++){var z=A[q],C=z.ctx,j={};C.save();var E=G?z.__startIndex:z.__drawIndex,I=!G&&z.incremental&&Date.now,H=I&&Date.now(),x=z.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(z.__startIndex===z.__endIndex){z.clear(!1,x)}else{if(E===z.__startIndex){var F=k[E];F.incremental&&F.notClear&&!G||z.clear(!1,x)}}-1===E&&(console.error("For some unknown reason. drawIndex is -1"),E=z.__startIndex);for(var B=E;B<z.__endIndex;B++){var f=k[B];if(this._doPaintEl(f,z,G,j),f.__dirty=f.__dirtyText=!1,I){var b=Date.now()-H;if(b>15){break}}}z.__drawIndex=B,z.__drawIndex<z.__endIndex&&(w=!1),j.prevElClipPaths&&C.restore(),C.restore()}return B3.wxa&&aiT(this._layers,function(a){a&&a.ctx&&a.ctx.draw&&a.ctx.draw()}),w},_doPaintEl:function(d,g,j,c){var b=g.ctx,h=d.transform;if(!(!g.__dirty&&!j||d.invisible||0===d.style.opacity||h&&!h[0]&&!h[3]||d.culling&&aY(d,this._width,this._height))){var f=d.__clipPaths;(!c.prevElClipPaths||R6(f,c.prevElClipPaths))&&(c.prevElClipPaths&&(g.ctx.restore(),c.prevElClipPaths=null,c.prevEl=null),f&&(b.save(),ajS(f,b),c.prevElClipPaths=f)),d.beforeBrush&&d.beforeBrush(b),d.brush(b,c.prevEl||null),c.prevEl=d,d.afterBrush&&d.afterBrush(b)}},getLayer:function(a,b){this._singleCanvas&&!this._needsManuallyCompositing&&(a=S3);var c=this._layers[a];return c||(c=new Z2("zr_"+a,this,this.dpr),c.zlevel=a,c.__builtin__=!0,this._layerConfig[a]&&ai5(c,this._layerConfig[a],!0),b&&(c.virtual=b),this.insertLayer(a,c),c.initContext()),c},insertLayer:function(k,h){var d=this._layers,g=this._zlevelList,j=g.length,c=null,b=-1,m=this._domRoot;if(d[k]){return void gQ("ZLevel "+k+" has been used already")}if(!QW(h)){return void gQ("Layer of zlevel "+k+" is not valid")}if(j>0&&k>g[0]){for(b=0;j-1>b&&!(g[b]<k&&g[b+1]>k);b++){}c=d[g[b]]}if(g.splice(b+1,0,k),d[k]=h,!h.virtual){if(c){var f=c.dom;f.nextSibling?m.insertBefore(h.dom,f.nextSibling):m.appendChild(h.dom)}else{m.firstChild?m.insertBefore(h.dom,m.firstChild):m.appendChild(h.dom)}}},eachLayer:function(d,f){var g,c,b=this._zlevelList;for(c=0;c<b.length;c++){g=b[c],d.call(f,this._layers[g],g)}},eachBuiltinLayer:function(d,f){var h,c,b,g=this._zlevelList;for(b=0;b<g.length;b++){c=g[b],h=this._layers[c],h.__builtin__&&d.call(f,h,c)}},eachOtherLayer:function(d,f){var h,c,b,g=this._zlevelList;for(b=0;b<g.length;b++){c=g[b],h=this._layers[c],h.__builtin__||d.call(f,h,c)}},getLayers:function(){return this._layers},_updateLayerStatus:function(d){function h(a){b&&(b.__endIndex!==a&&(b.__dirty=!0),b.__endIndex=a)}if(this.eachBuiltinLayer(function(a){a.__dirty=a.__used=!1}),this._singleCanvas){for(var k=1;k<d.length;k++){var c=d[k];if(c.zlevel!==d[k-1].zlevel||c.incremental){this._needsManuallyCompositing=!0;break}}}for(var b=null,j=0,k=0;k<d.length;k++){var g,c=d[k],f=c.zlevel;c.incremental?(g=this.getLayer(f+mV,this._needsManuallyCompositing),g.incremental=!0,j=1):g=this.getLayer(f+(j>0?akm:0),this._needsManuallyCompositing),g.__builtin__||gQ("ZLevel "+f+" has been used by unkown layer "+g.id),g!==b&&(g.__used=!0,g.__startIndex!==k&&(g.__dirty=!0),g.__startIndex=k,g.__drawIndex=g.incremental?-1:k,h(k),b=g),c.__dirty&&(g.__dirty=!0,g.incremental&&g.__drawIndex<0&&(g.__drawIndex=k))}h(k),this.eachBuiltinLayer(function(a){!a.__used&&a.getElementCount()>0&&(a.__dirty=!0,a.__startIndex=a.__endIndex=a.__drawIndex=0),a.__dirty&&a.__drawIndex<0&&(a.__drawIndex=a.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(a){a.clear()},setBackgroundColor:function(a){this._backgroundColor=a},configLayer:function(b,d){if(d){var g=this._layerConfig;g[b]?ai5(g[b],d,!0):g[b]=d;for(var a=0;a<this._zlevelList.length;a++){var f=this._zlevelList[a];if(f===b||f===b+akm){var c=this._layers[f];ai5(c,g[b],!0)}}}},delLayer:function(b){var c=this._layers,d=this._zlevelList,a=c[b];a&&(a.dom.parentNode.removeChild(a.dom),delete c[b],d.splice(aij(d,b),1))},resize:function(d,f){if(this._domRoot.style){var g=this._domRoot;g.style.display="none";var c=this._opts;if(null!=d&&(c.width=d),null!=f&&(c.height=f),d=this._getSize(0),f=this._getSize(1),g.style.display="",this._width!=d||f!=this._height){g.style.width=d+"px",g.style.height=f+"px";for(var b in this._layers){this._layers.hasOwnProperty(b)&&this._layers[b].resize(d,f)}aiT(this._progressiveLayers,function(a){a.resize(d,f)}),this.refresh(!0)}this._width=d,this._height=f}else{if(null==d||null==f){return}this._width=d,this._height=f,this.getLayer(S3).resize(d,f)}return this},clearLayer:function(a){var b=this._layers[a];b&&b.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(k){if(k=k||{},this._singleCanvas&&!this._compositeManually){return this._layers[S3].dom}var h=new Z2("image",this,k.pixelRatio||this.dpr);if(h.initContext(),h.clear(!1,k.backgroundColor||this._backgroundColor),k.pixelRatio<=this.dpr){this.refresh();var d=h.dom.width,g=h.dom.height,j=h.ctx;this.eachLayer(function(a){a.__builtin__?j.drawImage(a.dom,0,0,d,g):a.renderToCanvas&&(h.ctx.save(),a.renderToCanvas(h.ctx),h.ctx.restore())})}else{for(var c={},b=this.storage.getDisplayList(!0),m=0;m<b.length;m++){var f=b[m];this._doPaintEl(f,h,!0,c)}}return h.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(d){var h=this._opts,k=["width","height"][d],c=["clientWidth","clientHeight"][d],b=["paddingLeft","paddingTop"][d],j=["paddingRight","paddingBottom"][d];if(null!=h[k]&&"auto"!==h[k]){return parseFloat(h[k])}var g=this.root,f=document.defaultView.getComputedStyle(g);return(g[c]||Pt(f[k])||Pt(g.style[k]))-(Pt(f[b])||0)-(Pt(f[j])||0)|0},pathToImage:function(q,I){I=I||this.dpr;var B=document.createElement("canvas"),E=B.getContext("2d"),L=q.getBoundingRect(),A=q.style,x=A.shadowBlur*I,w=A.shadowOffsetX*I,D=A.shadowOffsetY*I,k=A.hasStroke()?A.lineWidth:0,F=Math.max(k/2,-w+x),K=Math.max(k/2,w+x),J=Math.max(k/2,-D+x),H=Math.max(k/2,D+x),z=L.width+F+K,G=L.height+J+H;B.width=z*I,B.height=G*I,E.scale(I,I),E.clearRect(0,0,z,G),E.dpr=I;var C={position:q.position,rotation:q.rotation,scale:q.scale};q.position=[F-L.x,J-L.y],q.rotation=0,q.scale=[1,1],q.updateTransform(),q&&q.brush(E);var j=TJ,b=new j({style:{x:0,y:0,image:B}});return null!=C.position&&(b.position=q.position=C.position),null!=C.rotation&&(b.rotation=q.rotation=C.rotation),null!=C.scale&&(b.scale=q.scale=C.scale),b}};var LW=function(a){a=a||{},this.stage=a.stage||{},this.onframe=a.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,adp.call(this)};LW.prototype={constructor:LW,addClip:function(a){this._clips.push(a)},addAnimator:function(a){a.animation=this;for(var b=a.getClips(),c=0;c<b.length;c++){this.addClip(b[c])}},removeClip:function(a){var b=aij(this._clips,a);b>=0&&this._clips.splice(b,1)},removeAnimator:function(a){for(var b=a.getClips(),c=0;c<b.length;c++){this.removeClip(b[c])}a.animation=null},_update:function(){for(var k=(new Date).getTime()-this._pausedTime,h=k-this._time,d=this._clips,g=d.length,j=[],c=[],b=0;g>b;b++){var m=d[b],f=m.step(k,h);f&&(j.push(f),c.push(m))}for(var b=0;g>b;){d[b]._needsRemove?(d[b]=d[g-1],d.pop(),g--):b++}g=j.length;for(var b=0;g>b;b++){c[b].fire(j[b])}this._time=k,this.onframe(h),this.trigger("frame",h),this.stage.update&&this.stage.update()},_startLoop:function(){function a(){b._running&&(YN(a),!b._paused&&b._update())}var b=this;this._running=!0,YN(a)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return !this._clips.length},animate:function(a,b){b=b||{};var c=new tj(a,b.loop,b.getter,b.setter);return this.addAnimator(c),c}},aiZ(LW,adp);var HY=function(){this._track=[]};HY.prototype={constructor:HY,recognize:function(a,b,c){return this._doTrack(a,b,c),this._recognize(a)},clear:function(){return this._track.length=0,this},_doTrack:function(k,h,d){var g=k.touches;if(g){for(var j={points:[],touches:[],target:h,event:k},c=0,b=g.length;b>c;c++){var m=g[c],f=ah1(d,m,{});j.points.push([f.zrX,f.zrY]),j.touches.push(m)}this._track.push(j)}},_recognize:function(a){for(var b in I9){if(I9.hasOwnProperty(b)){var c=I9[b](this._track,a);if(c){return c}}}}};var I9={pinch:function(d,g){var j=d.length;if(j){var c=(d[j-1]||{}).points,b=(d[j-2]||{}).points||c;if(b&&b.length>1&&c&&c.length>1){var h=uj(c)/uj(b);!isFinite(h)&&(h=1),g.pinchScale=h;var f=z0(c);return g.pinchX=f[0],g.pinchY=f[1],{type:"pinch",target:d[0].target,event:g}}}}},wK=300,aec=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],q0=["touchstart","touchend","touchmove"],sq={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n6=aiu(aec,function(a){var b=a.replace("mouse","pointer");return sq[b]?b:a}),OY={mousemove:function(a){a=aaV(this.dom,a),this.trigger("mousemove",a)},mouseout:function(a){a=aaV(this.dom,a);var b=a.toElement||a.relatedTarget;if(b!=this.dom){for(;b&&9!=b.nodeType;){if(b===this.dom){return}b=b.parentNode}}this.trigger("mouseout",a)},touchstart:function(a){a=aaV(this.dom,a),a.zrByTouch=!0,this._lastTouchMoment=new Date,K6(this,a,"start"),OY.mousemove.call(this,a),OY.mousedown.call(this,a),G2(this)},touchmove:function(a){a=aaV(this.dom,a),a.zrByTouch=!0,K6(this,a,"change"),OY.mousemove.call(this,a),G2(this)},touchend:function(a){a=aaV(this.dom,a),a.zrByTouch=!0,K6(this,a,"end"),OY.mouseup.call(this,a),+new Date-this._lastTouchMoment<wK&&OY.click.call(this,a),G2(this)},pointerdown:function(a){OY.mousedown.call(this,a)},pointermove:function(a){It(a)||OY.mousemove.call(this,a)},pointerup:function(a){OY.mouseup.call(this,a)},pointerout:function(a){It(a)||OY.mouseout.call(this,a)}};aiT(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){OY[a]=function(b){b=aaV(this.dom,b),this.trigger(a,b)}});var GF=adP.prototype;GF.dispose=function(){for(var a=aec.concat(q0),b=0;b<a.length;b++){var c=a[b];acI(this.dom,kB(c),this._handlers[c])}},GF.setCursor=function(a){this.dom.style&&(this.dom.style.cursor=a||"default")},aiZ(adP,adp);var tW=!B3.canvasSupported,KN={canvas:lj},iH={},DK="4.0.5",E3=function(m,h,d){d=d||{},this.dom=h,this.id=m;var g=this,j=new M3,c=d.renderer;if(tW){if(!KN.vml){throw new Error("You need to require 'zrender/vml/vml' to support IE8")}c="vml"}else{c&&KN[c]||(c="canvas")}var b=new KN[c](h,j,d,m);this.storage=j,this.painter=b;var p=B3.node||B3.worker?null:new adP(b.getViewportRoot());this.handler=new aa1(j,b,p,b.root),this.animation=new LW({stage:{update:aic(this.flush,this)}}),this.animation.start(),this._needsRefresh;var f=j.delFromStorage,k=j.addToStorage;j.delFromStorage=function(a){f.call(j,a),a&&a.removeSelfFromZr(g)},j.addToStorage=function(a){k.call(j,a),a.addSelfToZr(g)}};E3.prototype={constructor:E3,getId:function(){return this.id},add:function(a){this.storage.addRoot(a),this._needsRefresh=!0},remove:function(a){this.storage.delRoot(a),this._needsRefresh=!0},configLayer:function(a,b){this.painter.configLayer&&this.painter.configLayer(a,b),this._needsRefresh=!0},setBackgroundColor:function(a){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(a),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var a;this._needsRefresh&&(a=!0,this.refreshImmediately()),this._needsRefreshHover&&(a=!0,this.refreshHoverImmediately()),a&&this.trigger("rendered")},addHover:function(a,b){if(this.painter.addHover){var c=this.painter.addHover(a,b);return this.refreshHover(),c}},removeHover:function(a){this.painter.removeHover&&(this.painter.removeHover(a),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(a){a=a||{},this.painter.resize(a.width,a.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(a,b){return this.painter.pathToImage(a,b)},setCursorStyle:function(a){this.handler.setCursorStyle(a)},findHover:function(a,b){return this.handler.findHover(a,b)},on:function(a,b,c){this.handler.on(a,b,c)},off:function(a,b){this.handler.off(a,b)},trigger:function(a,b){this.handler.trigger(a,b)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,FJ(this.id)}};var g5=(Object.freeze||Object)({version:DK,init:p4,dispose:rF,getInstance:m9,registerPainter:N6}),B8=aiT,c1=ajq,fV=ai9,eq="series\x00",aeN=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],j0=0,aaD=".",x3="___EC__COMPONENT__CONTAINER___",M7=0,zB=function(a){for(var b=0;b<a.length;b++){a[b][1]||(a[b][1]=a[b][0])}return function(h,k,d){for(var c={},j=0;j<a.length;j++){var g=a[j][1];if(!(k&&aij(k,g)>=0||d&&aij(d,g)<0)){var f=h.getShallow(g);null!=f&&(c[a[j][0]]=f)}}return c}},pJ=zB([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),XN={getLineStyle:function(a){var b=pJ(this,a),c=this.getLineDash(b.lineWidth);return c&&(b.lineDash=c),b},getLineDash:function(b){null==b&&(b=1);var c=this.get("type"),d=Math.max(b,2),a=4*b;return"solid"===c||null==c?null:"dashed"===c?[a,a]:[d,d]}},ahS=zB([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),acz={getAreaStyle:function(a,b){return ahS(this,a,b)}},afv=Math.pow,akW=Math.sqrt,abY=1e-8,aac=0.0001,Y2=akW(3),adL=1/3,V8=ajW(),af6=ajW(),ajK=ajW(),aiJ=Math.min,ahi=Math.max,abn=Math.sin,agH=Math.cos,ada=2*Math.PI,UX=ajW(),QN=ajW(),R2=ajW(),bF=[],TB=[],akw={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},m5=[],vJ=[],A7=[],lU=[],L1=Math.min,H8=Math.max,JN=Math.cos,w2=Math.sin,aem=Math.sqrt,rj=Math.abs,sV="undefined"!=typeof Float32Array,oH=function(a){this._saveData=!a,this._saveData&&(this.data=[]),this._ctx=null};oH.prototype={constructor:oH,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(a,b){this._ux=rj(1/C6/a)||0,this._uy=rj(1/C6/b)||0},getContext:function(){return this._ctx},beginPath:function(a){return this._ctx=a,a&&a.beginPath(),a&&(this.dpr=a.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(a,b){return this.addData(akw.M,a,b),this._ctx&&this._ctx.moveTo(a,b),this._x0=a,this._y0=b,this._xi=a,this._yi=b,this},lineTo:function(a,b){var c=rj(a-this._xi)>this._ux||rj(b-this._yi)>this._uy||this._len<5;return this.addData(akw.L,a,b),this._ctx&&c&&(this._needsDash()?this._dashedLineTo(a,b):this._ctx.lineTo(a,b)),c&&(this._xi=a,this._yi=b),this},bezierCurveTo:function(d,f,h,c,b,g){return this.addData(akw.C,d,f,h,c,b,g),this._ctx&&(this._needsDash()?this._dashedBezierTo(d,f,h,c,b,g):this._ctx.bezierCurveTo(d,f,h,c,b,g)),this._xi=b,this._yi=g,this},quadraticCurveTo:function(b,c,d,a){return this.addData(akw.Q,b,c,d,a),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(b,c,d,a):this._ctx.quadraticCurveTo(b,c,d,a)),this._xi=d,this._yi=a,this},arc:function(d,f,h,c,b,g){return this.addData(akw.A,d,f,h,h,c,b-c,0,g?0:1),this._ctx&&this._ctx.arc(d,f,h,c,b,g),this._xi=JN(b)*h+d,this._yi=w2(b)*h+f,this},arcTo:function(d,f,g,c,b){return this._ctx&&this._ctx.arcTo(d,f,g,c,b),this},rect:function(b,c,d,a){return this._ctx&&this._ctx.rect(b,c,d,a),this.addData(akw.R,b,c,d,a),this},closePath:function(){this.addData(akw.Z);var a=this._ctx,b=this._x0,c=this._y0;return a&&(this._needsDash()&&this._dashedLineTo(b,c),a.closePath()),this._xi=b,this._yi=c,this},fill:function(a){a&&a.fill(),this.toStatic()},stroke:function(a){a&&a.stroke(),this.toStatic()},setLineDash:function(a){if(a instanceof Array){this._lineDash=a,this._dashIdx=0;for(var b=0,c=0;c<a.length;c++){b+=a[c]}this._dashSum=b}return this},setLineDashOffset:function(a){return this._dashOffset=a,this},len:function(){return this._len},setData:function(a){var b=a.length;this.data&&this.data.length==b||!sV||(this.data=new Float32Array(b));for(var c=0;b>c;c++){this.data[c]=a[c]}this._len=b},appendPath:function(d){d instanceof Array||(d=[d]);for(var g=d.length,j=0,c=this._len,b=0;g>b;b++){j+=d[b].len()}sV&&this.data instanceof Float32Array&&(this.data=new Float32Array(c+j));for(var b=0;g>b;b++){for(var h=d[b].data,f=0;f<h.length;f++){this.data[c++]=h[f]}}this._len=c},addData:function(a){if(this._saveData){var b=this.data;this._len+arguments.length>b.length&&(this._expandData(),b=this.data);for(var c=0;c<arguments.length;c++){b[this._len++]=arguments[c]}this._prevCmd=a}},_expandData:function(){if(!(this.data instanceof Array)){for(var a=[],b=0;b<this._len;b++){a[b]=this.data[b]}this.data=a}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(E,z){var m,v,C=this._dashSum,k=this._dashOffset,b=this._lineDash,F=this._ctx,q=this._xi,D=this._yi,w=E-q,B=z-D,A=aem(w*w+B*B),y=q,j=D,x=b.length;for(w/=A,B/=A,0>k&&(k=C+k),k%=C,y-=k*w,j-=k*B;w>0&&E>=y||0>w&&y>=E||0==w&&(B>0&&z>=j||0>B&&j>=z);){v=this._dashIdx,m=b[v],y+=w*m,j+=B*m,this._dashIdx=(v+1)%x,w>0&&q>y||0>w&&y>q||B>0&&D>j||0>B&&j>D||F[v%2?"moveTo":"lineTo"](w>=0?L1(y,E):H8(y,E),B>=0?L1(j,z):H8(j,z))}w=y-E,B=j-z,this._dashOffset=-aem(w*w+B*B)},_dashedBezierTo:function(A,M,F,I,P,E){var C,B,H,z,J,O=this._dashSum,N=this._dashOffset,L=this._lineDash,D=this._ctx,K=this._xi,G=this._yi,q=adq,b=0,j=this._dashIdx,Q=L.length,k=0;for(0>N&&(N=O+N),N%=O,C=0;1>C;C+=0.1){B=q(K,A,F,P,C+0.1)-q(K,A,F,P,C),H=q(G,M,I,E,C+0.1)-q(G,M,I,E,C),b+=aem(B*B+H*H)}for(;Q>j&&(k+=L[j],!(k>N));j++){}for(C=(k-N)/b;1>=C;){z=q(K,A,F,P,C),J=q(G,M,I,E,C),j%2?D.moveTo(z,J):D.lineTo(z,J),C+=L[j]/b,j=(j+1)%Q}j%2!==0&&D.lineTo(P,E),B=P-z,H=E-J,this._dashOffset=-aem(B*B+H*H)},_dashedQuadraticTo:function(d,f,h,c){var b=h,g=c;h=(h+2*d)/3,c=(c+2*f)/3,d=(this._xi+2*d)/3,f=(this._yi+2*f)/3,this._dashedBezierTo(d,f,h,c,b,g)},toStatic:function(){var a=this.data;a instanceof Array&&(a.length=this._len,sV&&(this.data=new Float32Array(a)))},getBoundingRect:function(){m5[0]=m5[1]=A7[0]=A7[1]=Number.MAX_VALUE,vJ[0]=vJ[1]=lU[0]=lU[1]=-Number.MAX_VALUE;for(var E=this.data,z=0,m=0,v=0,C=0,k=0;k<E.length;){var b=E[k++];switch(1==k&&(z=E[k],m=E[k+1],v=z,C=m),b){case akw.M:v=E[k++],C=E[k++],z=v,m=C,A7[0]=v,A7[1]=C,lU[0]=v,lU[1]=C;break;case akw.L:SK(z,m,E[k],E[k+1],A7,lU),z=E[k++],m=E[k++];break;case akw.C:akb(z,m,E[k++],E[k++],E[k++],E[k++],E[k],E[k+1],A7,lU),z=E[k++],m=E[k++];break;case akw.Q:mj(z,m,E[k++],E[k++],E[k],E[k+1],A7,lU),z=E[k++],m=E[k++];break;case akw.A:var F=E[k++],q=E[k++],D=E[k++],w=E[k++],B=E[k++],A=E[k++]+B,y=(E[k++],1-E[k++]);1==k&&(v=JN(B)*D+F,C=w2(B)*w+q),uW(F,q,D,w,B,A,y,A7,lU),z=JN(A)*D+F,m=w2(A)*w+q;break;case akw.R:v=z=E[k++],C=m=E[k++];var j=E[k++],x=E[k++];SK(v,C,v+j,C+x,A7,lU);break;case akw.Z:z=v,m=C}Zq(m5,m5,A7),X1(vJ,vJ,lU)}return 0===k&&(m5[0]=m5[1]=vJ[0]=vJ[1]=0),new acw(m5[0],m5[1],vJ[0]-m5[0],vJ[1]-m5[1])},rebuildPath:function(E){for(var T,K,O,X,J,G,F=this.data,N=this._ux,D=this._uy,P=this._len,V=0;P>V;){var U=F[V++];switch(1==V&&(O=F[V],X=F[V+1],T=O,K=X),U){case akw.M:T=O=F[V++],K=X=F[V++],E.moveTo(O,X);break;case akw.L:J=F[V++],G=F[V++],(rj(J-O)>N||rj(G-X)>D||V===P-1)&&(E.lineTo(J,G),O=J,X=G);break;case akw.C:E.bezierCurveTo(F[V++],F[V++],F[V++],F[V++],F[V++],F[V++]),O=F[V-2],X=F[V-1];break;case akw.Q:E.quadraticCurveTo(F[V++],F[V++],F[V++],F[V++]),O=F[V-2],X=F[V-1];break;case akw.A:var R=F[V++],H=F[V++],Q=F[V++],L=F[V++],C=F[V++],q=F[V++],A=F[V++],Y=F[V++],B=Q>L?Q:L,W=Q>L?1:Q/L,j=Q>L?L/Q:1,k=Math.abs(Q-L)>0.001,z=C+q;k?(E.translate(R,H),E.rotate(A),E.scale(W,j),E.arc(0,0,B,C,z,1-Y),E.scale(1/W,1/j),E.rotate(-A),E.translate(-R,-H)):E.arc(R,H,B,C,z,1-Y),1==V&&(T=JN(C)*Q+R,K=w2(C)*L+H),O=JN(z)*Q+R,X=w2(z)*L+H;break;case akw.R:T=O=F[V],K=X=F[V+1],E.rect(F[V++],F[V++],F[V++],F[V++]);break;case akw.Z:E.closePath(),O=T,X=K}}}},oH.CMD=akw;var O8=2*Math.PI,GY=2*Math.PI,t6=oH.CMD,K2=2*Math.PI,i0=0.0001,D2=[-1,-1,-1],FB=[-1,-1],hG=abO.prototype.getCanvasPattern,CJ=Math.abs,dj=new oH(!0);h5.prototype={constructor:h5,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(k,G){var z=this.style,C=this.path||dj,J=z.hasStroke(),y=z.hasFill(),w=z.fill,q=z.stroke,B=y&&!!w.colorStops,j=J&&!!q.colorStops,D=y&&!!w.image,I=J&&!!q.image;if(z.bind(k,this,G),this.setTransform(k),this.__dirty){var H;B&&(H=H||this.getBoundingRect(),this._fillGradient=z.getGradient(k,w,H)),j&&(H=H||this.getBoundingRect(),this._strokeGradient=z.getGradient(k,q,H))}B?k.fillStyle=this._fillGradient:D&&(k.fillStyle=hG.call(w,k)),j?k.strokeStyle=this._strokeGradient:I&&(k.strokeStyle=hG.call(q,k));var F=z.lineDash,x=z.lineDashOffset,E=!!k.setLineDash,A=this.getGlobalScale();if(C.setScale(A[0],A[1]),this.__dirtyPath||F&&!E&&J?(C.beginPath(k),F&&!E&&(C.setLineDash(F),C.setLineDashOffset(x)),this.buildPath(C,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(k.beginPath(),this.path.rebuildPath(k)),y){if(null!=z.fillOpacity){var b=k.globalAlpha;k.globalAlpha=z.fillOpacity*z.opacity,C.fill(k),k.globalAlpha=b}else{C.fill(k)}}if(F&&E&&(k.setLineDash(F),k.lineDashOffset=x),J){if(null!=z.strokeOpacity){var b=k.globalAlpha;k.globalAlpha=z.strokeOpacity*z.opacity,C.stroke(k),k.globalAlpha=b}else{C.stroke(k)}}F&&E&&k.setLineDash([]),null!=z.text&&(this.restoreTransform(k),this.drawRectText(k,this.getBoundingRect()))},buildPath:function(){},createPathProxy:function(){this.path=new oH},getBoundingRect:function(){var d=this._rect,g=this.style,j=!d;if(j){var c=this.path;c||(c=this.path=new oH),this.__dirtyPath&&(c.beginPath(),this.buildPath(c,this.shape,!1)),d=c.getBoundingRect()}if(this._rect=d,g.hasStroke()){var b=this._rectWithStroke||(this._rectWithStroke=d.clone());if(this.__dirty||j){b.copy(d);var h=g.lineWidth,f=g.strokeNoScale?this.getLineScale():1;g.hasFill()||(h=Math.max(h,this.strokeContainThreshold||4)),f>1e-10&&(b.width+=h/f,b.height+=h/f,b.x-=h/f/2,b.y-=h/f/2)}return b}return d},contain:function(d,h){var k=this.transformCoordToLocal(d,h),c=this.getBoundingRect(),b=this.style;if(d=k[0],h=k[1],c.contain(d,h)){var j=this.path.data;if(b.hasStroke()){var g=b.lineWidth,f=b.strokeNoScale?this.getLineScale():1;if(f>1e-10&&(b.hasFill()||(g=Math.max(g,this.strokeContainThreshold)),J8(j,g/f,d,h))){return !0}}if(b.hasFill()){return tq(j,d,h)}}return !1},dirty:function(a){null==a&&(a=!0),a&&(this.__dirtyPath=a,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(a){return this.animate("shape",a)},attrKV:function(a,b){"shape"===a?(this.setShape(b),this.__dirtyPath=!0,this._rect=null):acD.prototype.attrKV.call(this,a,b)},setShape:function(b,c){var d=this.shape;if(d){if(ajq(b)){for(var a in b){b.hasOwnProperty(a)&&(d[a]=b[a])}}else{d[b]=c}this.dirty(!0)}return this},getLineScale:function(){var a=this.transform;return a&&CJ(a[0]-1)>1e-10&&CJ(a[3]-1)>1e-10?Math.sqrt(CJ(a[0]*a[3]-a[2]*a[1])):1}},h5.extend=function(a){var b=function(g){h5.call(this,g),a.style&&this.style.extendFrom(a.style,!1);var h=a.shape;if(h){this.shape=this.shape||{};var f=this.shape;for(var d in h){!f.hasOwnProperty(d)&&h.hasOwnProperty(d)&&(f[d]=h[d])}}a.init&&a.init.call(this,g)};aiP(b,h5);for(var c in a){"style"!==c&&"shape"!==c&&(b.prototype[c]=a[c])}return b},aiP(h5,acD);var f4=oH.CMD,eU=[[],[],[]],aeV=Math.sqrt,j9=Math.atan2,aaM=function(w,K){var D,G,N,C,A,z,F=w.data,q=f4.M,H=f4.C,M=f4.L,L=f4.R,J=f4.A,B=f4.Q;for(N=0,C=0;N<F.length;){switch(D=F[N++],C=N,G=0,D){case q:G=1;break;case M:G=1;break;case H:G=3;break;case B:G=2;break;case J:var I=K[4],E=K[5],k=aeV(K[0]*K[0]+K[1]*K[1]),b=aeV(K[2]*K[2]+K[3]*K[3]),j=j9(-K[1]/b,K[0]/k);F[N]*=k,F[N++]+=I,F[N]*=b,F[N++]+=E,F[N++]*=k,F[N++]*=b,F[N++]+=j,F[N++]+=j,N+=2,C=N;break;case L:z[0]=F[N++],z[1]=F[N++],abw(z,z,K),F[C++]=z[0],F[C++]=z[1],z[0]+=F[N++],z[1]+=F[N++],abw(z,z,K),F[C++]=z[0],F[C++]=z[1]}for(A=0;G>A;A++){var z=eU[A];z[0]=F[N++],z[1]=F[N++],abw(z,z,K),F[C++]=z[0],F[C++]=z[1]}}},yt=Math.sqrt,Nq=Math.sin,zW=Math.cos,p0=Math.PI,XX=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])},ahX=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(XX(a)*XX(b))},acE=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(ahX(a,b))},afA=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,akY=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,ab3=function(a){acD.call(this,a)};ab3.prototype={constructor:ab3,type:"text",brush:function(b,c){var d=this.style;this.__dirty&&yj(d,!0),d.fill=d.stroke=d.shadowBlur=d.shadowColor=d.shadowOffsetX=d.shadowOffsetY=null;var a=d.text;null!=a&&(a+=""),aga(a,d)&&(this.setTransform(b),Wt(this,b,a,d,null,c),this.restoreTransform(b))},getBoundingRect:function(){var b=this.style;if(this.__dirty&&yj(b,!0),!this._rect){var c=b.text;null!=c?c+="":c="";var d=N2(b.text+"",b.font,b.textAlign,b.textVerticalAlign,b.textPadding,b.rich);if(d.x+=b.x||0,d.y+=b.y||0,aiR(b.textStroke,b.textStrokeWidth)){var a=b.textStrokeWidth;d.x-=a/2,d.y-=a/2,d.width+=a,d.height+=a}this._rect=d}return this._rect}},aiP(ab3,acD);var aah=h5.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(a,b,c){c&&a.moveTo(b.cx+b.r,b.cy),a.arc(b.cx,b.cy,b.r,0,2*Math.PI,!0)}}),Y7=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],adQ=function(a){return B3.browser.ie&&B3.browser.version>=11?function(){var h,k=this.__clipPaths,d=this.style;if(k){for(var c=0;c<k.length;c++){var j=k[c],g=j&&j.shape,f=j&&j.type;if(g&&("sector"===f&&g.startAngle===g.endAngle||"rect"===f&&(!g.width||!g.height))){for(var b=0;b<Y7.length;b++){Y7[b][2]=d[Y7[b][0]],d[Y7[b][0]]=Y7[b][1]}h=!0;break}}}if(a.apply(this,arguments),h){for(var b=0;b<Y7.length;b++){d[Y7[b][0]]=Y7[b][2]}}}:a},WB=h5.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:adQ(h5.prototype.brush),buildPath:function(q,k){var d=k.cx,g=k.cy,m=Math.max(k.r0||0,0),c=Math.max(k.r,0),b=k.startAngle,v=k.endAngle,f=k.clockwise,p=Math.cos(b),j=Math.sin(b);q.moveTo(p*m+d,j*m+g),q.lineTo(p*c+d,j*c+g),q.arc(d,g,c,b,v,!f),q.lineTo(Math.cos(v)*m+d,Math.sin(v)*m+g),0!==m&&q.arc(d,g,m,v,b,f),q.closePath()}}),agb=h5.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(d,f){var g=f.cx,c=f.cy,b=2*Math.PI;d.moveTo(g+f.r,c),d.arc(g,c,f.r,0,b,!1),d.moveTo(g+f.r0,c),d.arc(g,c,f.r0,0,b,!0)}}),ajT=function(E,z){for(var m=E.length,v=[],C=0,k=1;m>k;k++){C+=ahr(E[k-1],E[k])}var b=C/2;b=m>b?m:b;for(var k=0;b>k;k++){var F,q,D,w=k/(b-1)*(z?m:m-1),B=Math.floor(w),A=w-B,y=E[B%m];z?(F=E[(B-1+m)%m],q=E[(B+1)%m],D=E[(B+2)%m]):(F=E[0===B?B:B-1],q=E[B>m-2?m-1:B+1],D=E[B>m-3?m-1:B+2]);var j=A*A,x=A*j;v.push([d0(F[0],y[0],q[0],D[0],A,j,x),d0(F[1],y[1],q[1],D[1],A,j,x)])}return v},aiS=function(w,K,D,G){var N,C,A,z,F=[],q=[],H=[],M=[];if(G){A=[1/0,1/0],z=[-1/0,-1/0];for(var L=0,J=w.length;J>L;L++){Zq(A,A,w[L]),X1(z,z,w[L])}Zq(A,A,G[0]),X1(z,z,G[1])}for(var L=0,J=w.length;J>L;L++){var B=w[L];if(D){N=w[L?L-1:J-1],C=w[(L+1)%J]}else{if(0===L||L===J-1){F.push(ajR(w[L]));continue}N=w[L-1],C=w[L+1]}aiK(q,C,N),ajv(q,q,K);var I=ahr(B,N),E=ahr(B,C),k=I+E;0!==k&&(I/=k,E/=k),ajv(H,q,-I),ajv(M,q,E);var b=ajg([],B,H),j=ajg([],B,M);G&&(X1(b,b,A),Zq(b,b,z),X1(j,j,A),Zq(j,j,z)),F.push(b),F.push(j)}return D&&F.push(F.shift()),F},ahn=h5.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(a,b){aeC(a,b,!0)}}),abs=h5.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(a,b){aeC(a,b,!1)}}),agM=h5.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(d,f){var h=f.x,c=f.y,b=f.width,g=f.height;f.r?MK(d,f):d.rect(h,c,b,g),d.closePath()}}),adf=h5.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(d,g){var j=g.x1,c=g.y1,b=g.x2,h=g.y2,f=g.percent;0!==f&&(d.moveTo(j,c),1>f&&(b=j*(1-f)+b*f,h=c*(1-f)+h*f),d.lineTo(b,h))},pointAt:function(a){var b=this.shape;return[b.x1*(1-a)+b.x2*a,b.y1*(1-a)+b.y2*a]}}),U2=[],QX=h5.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(q,k){var d=k.x1,g=k.y1,m=k.x2,c=k.y2,b=k.cpx1,v=k.cpy1,f=k.cpx2,p=k.cpy2,j=k.percent;0!==j&&(q.moveTo(d,g),null==f||null==p?(1>j&&(PY(d,b,m,j,U2),b=U2[1],m=U2[2],PY(g,v,c,j,U2),v=U2[1],c=U2[2]),q.quadraticCurveTo(b,v,m,c)):(1>j&&(ah8(d,b,f,m,j,U2),b=U2[1],f=U2[2],m=U2[3],ah8(g,v,p,c,j,U2),v=U2[1],p=U2[2],c=U2[3]),q.bezierCurveTo(b,v,f,p,m,c)))},pointAt:function(a){return jH(this.shape,a,!1)},tangentAt:function(a){var b=jH(this.shape,a,!0);return WJ(b,b)}}),R7=h5.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(m,h){var d=h.cx,g=h.cy,j=Math.max(h.r,0),c=h.startAngle,b=h.endAngle,p=h.clockwise,f=Math.cos(c),k=Math.sin(c);m.moveTo(f*j+d,k*j+g),m.arc(d,g,j,c,b,!p)}}),bH=h5.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var a=this.__dirtyPath,b=this.shape.paths,c=0;c<b.length;c++){a=a||b[c].__dirtyPath}this.__dirtyPath=a,this.__dirty=this.__dirty||a},beforeBrush:function(){this._updatePathDirty();for(var a=this.shape.paths||[],b=this.getGlobalScale(),c=0;c<a.length;c++){a[c].path||a[c].createPathProxy(),a[c].path.setScale(b[0],b[1])}},buildPath:function(b,c){for(var d=c.paths||[],a=0;a<d.length;a++){d[a].buildPath(b,d[a].shape,!0)}},afterBrush:function(){for(var a=this.shape.paths||[],b=0;b<a.length;b++){a[b].__dirtyPath=!1}},getBoundingRect:function(){return this._updatePathDirty(),h5.prototype.getBoundingRect.call(this)}}),TK=function(a){this.colorStops=a||[]};TK.prototype={constructor:TK,addColorStop:function(a,b){this.colorStops.push({offset:a,color:b})}};var akB=function(d,f,h,c,b,g){this.x=null==d?0:d,this.y=null==f?0:f,this.x2=null==h?1:h,this.y2=null==c?0:c,this.type="linear",this.global=g||!1,TK.call(this,b)};akB.prototype={constructor:akB},aiP(akB,TK);var nj=function(d,f,g,c,b){this.x=null==d?0.5:d,this.y=null==f?0.5:f,this.r=null==g?0.5:g,this.type="radial",this.global=b||!1,TK.call(this,c)};nj.prototype={constructor:nj},aiP(nj,TK),aas.prototype.incremental=!0,aas.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},aas.prototype.addDisplayable=function(a,b){b?this._temporaryDisplayables.push(a):this._displayables.push(a),this.dirty()},aas.prototype.addDisplayables=function(a,b){b=b||!1;for(var c=0;c<a.length;c++){this.addDisplayable(a[c],b)}},aas.prototype.eachPendingDisplayable=function(a){for(var b=this._cursor;b<this._displayables.length;b++){a&&a(this._displayables[b])}for(var b=0;b<this._temporaryDisplayables.length;b++){a&&a(this._temporaryDisplayables[b])}},aas.prototype.update=function(){this.updateTransform();for(var a=this._cursor;a<this._displayables.length;a++){var b=this._displayables[a];b.parent=this,b.update(),b.parent=null}for(var a=0;a<this._temporaryDisplayables.length;a++){var b=this._temporaryDisplayables[a];b.parent=this,b.update(),b.parent=null}},aas.prototype.brush=function(a){for(var b=this._cursor;b<this._displayables.length;b++){var c=this._displayables[b];c.beforeBrush&&c.beforeBrush(a),c.brush(a,b===this._cursor?null:this._displayables[b-1]),c.afterBrush&&c.afterBrush(a)}this._cursor=b;for(var b=0;b<this._temporaryDisplayables.length;b++){var c=this._temporaryDisplayables[b];c.beforeBrush&&c.beforeBrush(a),c.brush(a,0===b?null:this._temporaryDisplayables[b-1]),c.afterBrush&&c.afterBrush(a)}this._temporaryDisplayables=[],this.notClear=!0};var vW=[];aas.prototype.getBoundingRect=function(){if(!this._rect){for(var b=new acw(1/0,1/0,-1/0,-1/0),c=0;c<this._displayables.length;c++){var d=this._displayables[c],a=d.getBoundingRect().clone();d.needLocalTransform()&&a.applyTransform(d.getLocalTransform(vW)),b.union(a)}this._rect=b}return this._rect},aas.prototype.contain=function(d,f){var h=this.transformCoordToLocal(d,f),c=this.getBoundingRect();if(c.contain(h[0],h[1])){for(var b=0;b<this._displayables.length;b++){var g=this._displayables[b];if(g.contain(d,f)){return !0}}}return !1},aiP(aas,acD);var Bt=Math.round,lZ=Math.max,L3=Math.min,IB={},JX=fj,w7=aj6(),aer=0,rG=(Object.freeze||Object)({extendShape:xK,extendPath:M4,makePath:y2,makeImage:o6,mergePath:JX,resizePath:ahd,subPixelOptimizeLine:abT,subPixelOptimizeRect:aeS,subPixelOptimize:akr,setElementHoverStyle:aaI,isInEmphasis:af1,setHoverStyle:aQ,setAsHoverStyleTrigger:RX,setLabelStyle:ajD,setTextStyle:lG,setText:t1,getFont:adG,updateProps:q5,initProps:m0,getTransform:N1,applyTransform:E8,transformDirection:sH,groupTransition:JF,clipPointsByRect:hj,clipRectByRect:CB,createIcon:DX,Group:jG,Image:TJ,Text:ab3,Circle:aah,Sector:WB,Ring:agb,Polygon:ahn,Polyline:abs,Rect:agM,Line:adf,BezierCurve:QX,Arc:R7,IncrementalDisplayable:aas,CompoundPath:bH,LinearGradient:akB,RadialGradient:nj,BoundingRect:acw}),s0=["textStyle","color"],oV={getTextColor:function(a){var b=this.ecModel;return this.getShallow("color")||(!a&&b?b.get(s0):null)},getFont:function(){return adG({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(a){return N2(a,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}},PB=zB([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),G3={getItemStyle:function(b,c){var d=PB(this,b,c),a=this.getBorderLineDash();return a&&(d.lineDash=a),d},getBorderLineDash:function(){var a=this.get("borderType");return"solid"===a||null==a?null:"dashed"===a?[5,5]:[1,1]}},uq=aiZ,K7=aeq();f0.prototype={constructor:f0,init:null,mergeOption:function(a){ai5(this.option,a,!0)},get:function(a,b){return null==a?this.option:A2(this.option,this.parsePath(a),!b&&b4(this,a))},getShallow:function(d,f){var g=this.option,c=null==g?g:g[d],b=!f&&b4(this,d);return null==c&&b&&(c=b.getShallow(d)),c},getModel:function(b,c){var d,a=null==b?this.option:A2(this.option,b=this.parsePath(b));return c=c||(d=b4(this,b))&&d.getModel(b),new f0(a,c,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var a=this.constructor;return new a(aiO(this.option))},setReadOnly:function(){},parsePath:function(a){return"string"==typeof a&&(a=a.split(".")),a},customizeGetParent:function(a){K7(this).getParent=a},isAnimationEnabled:function(){if(!B3.node){if(null!=this.option.animation){return !!this.option.animation}if(this.parentModel){return this.parentModel.isAnimationEnabled()}}}},ahy(f0),ace(f0),uq(f0,XN),uq(f0,acz),uq(f0,oV),uq(f0,G3);var i5=0,D7=0.0001,FK=9007199254740991,hU=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,CW=(Object.freeze||Object)({linearMap:Z7,parsePercent:wX,round:MJ,asc:x8,getPrecision:oq,getPrecisionSafe:VZ,getPixelPrecision:ag9,getPercentWithPrecision:abP,MAX_SAFE_INTEGER:FK,remRadian:aeO,isRadianAroundZero:akn,parseDate:abe,quantity:YQ,nice:ac1,quantile:UG,reformIntervals:afm,isNumeric:aiv}),dG=ajy,f9=/([&<>"'])/g,eZ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ae0=["a","b","c","d","e","f","g"],kF=function(a,b){return"{"+a+(null==b?"":b)+"}"},aaR=DZ,yJ=N2,NB=(Object.freeze||Object)({addCommas:ahK,toCamelCase:agy,normalizeCssArray:dG,encodeHTML:aaE,formatTpl:afX,formatTplSimple:acq,getTooltipMarker:S4,formatTime:Qj,capitalFirst:aJ,truncateText:aaR,getTextRect:yJ}),z1=aiT,p5=["left","right","top","bottom","width","height"],W7=[["width","left","right"],["height","top","bottom"]],ahH=RQ,acn=(aie(RQ,"vertical"),aie(RQ,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),afj=aeq(),akQ=f0.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(b,c,d,a){f0.call(this,b,c,d,a),this.uid=eH("ec_cpt_model")},init:function(a,b,c){this.mergeDefaultAndTheme(a,c)},mergeDefaultAndTheme:function(b,c){var f=this.layoutMode,a=f?KQ(b):{},d=c.getTheme();ai5(b,d.get(this.mainType)),ai5(b,this.getDefaultOption()),f&&j1(b,a,f)},mergeOption:function(a){ai5(this.option,a,!0);var b=this.layoutMode;b&&j1(this.option,a,b)},optionUpdated:function(){},getDefaultOption:function(){var b=afj(this);if(!b.defaultOption){for(var d=[],g=this.constructor;g;){var a=g.prototype.defaultOption;a&&d.push(a),g=g.superClass}for(var f={},c=d.length-1;c>=0;c--){f=ai5(f,d[c],!0)}b.defaultOption=f}return b.defaultOption},getReferringComponents:function(a){return this.ecModel.queryComponents({mainType:a,index:this.get(a+"Index",!0),id:this.get(a+"Id",!0)})}});abD(akQ,{registerWhenExtend:!0}),c6(akQ),aeh(akQ,HZ),aiZ(akQ,acn);var abM="";"undefined"!=typeof navigator&&(abM=navigator.platform||"");var Z0={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:abM.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1000,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2000,progressiveThreshold:3000,progressive:400,hoverLayerThreshold:3000,useUTC:!1},YJ=aeq(),adz={clearColorPalette:function(){YJ(this).colorIdx=0,YJ(this).colorNameMap={}},getColorFromPalette:function(m,h,d){h=h||this;var g=YJ(h),j=g.colorIdx||0,c=g.colorNameMap=g.colorNameMap||{};if(c.hasOwnProperty(m)){return c[m]}var b=sZ(this.get("color",!0)),p=this.get("colorLayer",!0),f=null!=d&&p?u8(p,d):b;if(f=f||b,f&&f.length){var k=f[j];return m&&(c[m]=k),g.colorIdx=(j+1)%f.length,k}}},VW={cartesian2d:function(d,f,h,c){var b=d.getReferringComponents("xAxis")[0],g=d.getReferringComponents("yAxis")[0];f.coordSysDims=["x","y"],h.set("x",b),h.set("y",g),pK(b)&&(c.set("x",b),f.firstCategoryDimIndex=0),pK(g)&&(c.set("y",g),f.firstCategoryDimIndex=1)},singleAxis:function(d,f,g,c){var b=d.getReferringComponents("singleAxis")[0];f.coordSysDims=["single"],g.set("single",b),pK(b)&&(c.set("single",b),f.firstCategoryDimIndex=0)},polar:function(d,g,j,c){var b=d.getReferringComponents("polar")[0],h=b.findAxisModel("radiusAxis"),f=b.findAxisModel("angleAxis");g.coordSysDims=["radius","angle"],j.set("radius",h),j.set("angle",f),pK(h)&&(c.set("radius",h),g.firstCategoryDimIndex=0),pK(f)&&(c.set("angle",f),g.firstCategoryDimIndex=1)},geo:function(a,b){b.coordSysDims=["lng","lat"]},parallel:function(d,g,j,c){var b=d.ecModel,h=b.getComponent("parallel",d.get("parallelIndex")),f=g.coordSysDims=h.dimensions.slice();aiT(h.parallelAxisIndex,function(e,k){var i=b.getComponent("parallelAxis",e),a=f[k];j.set(a,i),pK(i)&&null==g.firstCategoryDimIndex&&(c.set(a,i),g.firstCategoryDimIndex=k)})}},afU="original",ajr="arrayRows",aiq="objectRows",ag6="keyedColumns",abb="unknown",agv="typedArray",acY="column",Ut="row";q1.seriesDataToSource=function(a){return new q1({data:a,sourceFormat:ajQ(a)?agv:afU,fromDataset:!1})},ace(q1);var P7=aeq(),RH="\x00_ec_inner",a8=f0.extend({init:function(b,c,d,a){d=d||{},this.option=null,this._theme=new f0(d),this._optionManager=a},setOption:function(a,b){ajz(!(RH in a),"please use chart.getOption()"),this._optionManager.setOption(a,b),this.resetOption(null)},resetOption:function(d){var f=!1,h=this._optionManager;if(!d||"recreate"===d){var c=h.mountOption("recreate"===d);this.option&&"recreate"!==d?(this.restoreData(),this.mergeOption(c)):iJ.call(this,c),f=!0}if(("timeline"===d||"media"===d)&&this.restoreData(),!d||"recreate"===d||"timeline"===d){var b=h.getTimelineOption(this);b&&(this.mergeOption(b),f=!0)}if(!d||"recreate"===d||"media"===d){var g=h.getMediaOption(this,this._api);g.length&&aiT(g,function(a){this.mergeOption(a,f=!0)},this)}return f},mergeOption:function(a){function c(m,j){var h=sZ(a[m]),k=D6(d.get(m),h);f8(k),aiT(k,function(e){var i=e.option;ajq(i)&&(e.keyInfo.mainType=m,e.keyInfo.subType=wQ(m,i,e.exist))});var g=Z3(d,j);f[m]=[],d.set(m,[]),aiT(k,function(o,n){var e=o.exist,q=o.option;if(ajz(ajq(q)||e,"Empty component definition"),q){var l=akQ.getClass(m,o.keyInfo.subType,!0);if(e&&e instanceof l){e.name=o.keyInfo.name,e.mergeOption(q,this),e.optionUpdated(q,!1)}else{var p=aip({dependentModels:g,componentIndex:n},o.keyInfo);e=new l(q,this,this,p),aip(e,p),e.init(q,this,this,p),e.optionUpdated(null,!0)}}else{e.mergeOption({},this),e.optionUpdated({},!1)}d.get(m)[n]=e,f[m][n]=e.option},this),"series"===m&&MG(this,d.get("series"))}var f=this.option,d=this._componentsMap,b=[];E4(this),aiT(a,function(g,h){null!=g&&(akQ.hasClass(h)?h&&b.push(h):f[h]=null==f[h]?aiO(g):ai5(f[h],g,!0))}),akQ.topologicalTravel(b,akQ.getAllClassMainTypes(),c,this),this._seriesIndicesMap=aj6(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var a=aiO(this.option);return aiT(a,function(c,d){if(akQ.hasClass(d)){for(var c=sZ(c),b=c.length-1;b>=0;b--){b9(c[b])&&c.splice(b,1)}a[d]=c}}),delete a[RH],a},getTheme:function(){return this._theme},getComponent:function(a,b){var c=this._componentsMap.get(a);return c?c[b||0]:void 0},queryComponents:function(k){var h=k.mainType;if(!h){return[]}var d=k.index,g=k.id,j=k.name,c=this._componentsMap.get(h);if(!c||!c.length){return[]}var b;if(null!=d){ai9(d)||(d=[d]),b=aiB(aiu(d,function(a){return c[a]}),function(a){return !!a})}else{if(null!=g){var m=ai9(g);b=aiB(c,function(a){return m&&aij(g,a.id)>=0||!m&&a.id===g})}else{if(null!=j){var f=ai9(j);b=aiB(c,function(a){return f&&aij(j,a.name)>=0||!f&&a.name===j})}else{b=c.slice()}}}return x4(b,k)},findComponents:function(d){function g(k){var l=b+"Index",m=b+"Id",a=b+"Name";return !k||null==k[l]&&null==k[m]&&null==k[a]?null:{mainType:b,index:k[l],id:k[m],name:k[a]}}function j(a){return d.filter?aiB(a,d.filter):a}var c=d.query,b=d.mainType,h=g(c),f=h?this.queryComponents(h):this._componentsMap.get(b);return j(x4(f,d))},eachComponent:function(d,f,g){var c=this._componentsMap;if("function"==typeof d){g=f,f=d,c.each(function(e,a){aiT(e,function(i,h){f.call(g,a,i,h)})})}else{if(ai2(d)){aiT(c.get(d),f,g)}else{if(ajq(d)){var b=this.findComponents(d);aiT(b,f,g)}}}},getSeriesByName:function(a){var b=this._componentsMap.get("series");return aiB(b,function(c){return c.name===a})},getSeriesByIndex:function(a){return this._componentsMap.get("series")[a]},getSeriesByType:function(a){var b=this._componentsMap.get("series");return aiB(b,function(c){return c.subType===a})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(a,b){aiT(this._seriesIndices,function(d){var c=this._componentsMap.get("series")[d];a.call(b,c,d)},this)},eachRawSeries:function(a,b){aiT(this._componentsMap.get("series"),a,b)},eachSeriesByType:function(a,b,c){aiT(this._seriesIndices,function(e){var d=this._componentsMap.get("series")[e];d.subType===a&&b.call(c,d,e)},this)},eachRawSeriesByType:function(a,b,c){return aiT(this.getSeriesByType(a),b,c)},isSeriesFiltered:function(a){return null==this._seriesIndicesMap.get(a.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(a,b){var c=aiB(this._componentsMap.get("series"),a,b);MG(this,c)},restoreData:function(a){var b=this._componentsMap;MG(this,b.get("series"));var c=[];b.each(function(d,f){c.push(f)}),akQ.topologicalTravel(c,akQ.getAllClassMainTypes(),function(d){aiT(b.get(d),function(f){("series"!==d||!c2(f,a))&&f.restoreData()})})}});aiZ(a8,adz);var S1=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],akk={};VX.prototype={constructor:VX,create:function(a,b){var c=[];aiT(akk,function(e){var d=e.create(a,b);c=c.concat(d||[])}),this._coordinateSystems=c},update:function(a,b){aiT(this._coordinateSystems,function(c){c.update&&c.update(a,b)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},VX.register=function(a,b){akk[a]=b},VX.get=function(a){return akk[a]};var mQ=aiT,u5=aiO,AV=aiu,k8=ai5,LV=/^(min|max)?(.+)$/;ag7.prototype={constructor:ag7,setOption:function(b,c){b&&aiT(sZ(b.series),function(e){e&&e.data&&ajQ(e.data)&&aib(e.data)}),b=u5(b,!0);var d=this._optionBackup,a=abN.call(this,b,c,!d);this._newBaseOption=a.baseOption,d?(YK(d.baseOption,a.baseOption),a.timelineOptions.length&&(d.timelineOptions=a.timelineOptions),a.mediaList.length&&(d.mediaList=a.mediaList),a.mediaDefault&&(d.mediaDefault=a.mediaDefault)):this._optionBackup=a},mountOption:function(a){var b=this._optionBackup;return this._timelineOptions=AV(b.timelineOptions,u5),this._mediaList=AV(b.mediaList,u5),this._mediaDefault=u5(b.mediaDefault),this._currentMediaIndices=[],u5(a?b.baseOption:this._newBaseOption)},getTimelineOption:function(b){var c,d=this._timelineOptions;if(d.length){var a=b.getComponent("timeline");a&&(c=u5(d[a.getCurrentIndex()],!0))}return c},getMediaOption:function(){var d=this._api.getWidth(),h=this._api.getHeight(),k=this._mediaList,c=this._mediaDefault,b=[],j=[];if(!k.length&&!c){return j}for(var g=0,f=k.length;f>g;g++){aeM(k[g].query,d,h)&&b.push(g)}return !b.length&&c&&(b=[-1]),b.length&&!abc(b,this._currentMediaIndices)&&(j=AV(b,function(a){return u5(-1===a?c.option:k[a].option)})),this._currentMediaIndices=b,j}};var HW=aiT,I7=ajq,wH=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],aea=function(a,b){HW(agw(a.series),function(d){I7(d)&&ahI(d)});var c=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];b&&c.push("valueAxis","categoryAxis","logAxis","timeAxis"),HW(c,function(d){HW(agw(a[d]),function(e){e&&(afk(e,"axisLabel"),afk(e.axisPointer,"label"))})}),HW(agw(a.parallel),function(d){var f=d&&d.parallelAxisDefault;afk(f,"axisLabel"),afk(f&&f.axisPointer,"label")}),HW(agw(a.calendar),function(d){acZ(d,"itemStyle"),afk(d,"dayLabel"),afk(d,"monthLabel"),afk(d,"yearLabel")}),HW(agw(a.radar),function(d){afk(d,"name")}),HW(agw(a.geo),function(d){I7(d)&&(ais(d),HW(agw(d.regions),function(e){ais(e)}))}),HW(agw(a.timeline),function(d){ais(d),acZ(d,"label"),acZ(d,"itemStyle"),acZ(d,"controlStyle",!0);var f=d.data;ai9(f)&&aiT(f,function(e){ajq(e)&&(acZ(e,"label"),acZ(e,"itemStyle"))})}),HW(agw(a.toolbox),function(d){acZ(d,"iconStyle"),HW(d.feature,function(e){acZ(e,"iconStyle")})}),afk(aaC(a.axisPointer),"label"),afk(aaC(a.tooltip).axisPointer,"label")},qY=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],r9=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],n4=function(a,b){aea(a,b),a.series=sZ(a.series),aiT(a.series,function(c){if(ajq(c)){var d=c.type;if(("pie"===d||"gauge"===d)&&null!=c.clockWise&&(c.clockwise=c.clockWise),"gauge"===d){var f=afV(c,"pointer.color");null!=f&&aco(c,"itemStyle.normal.color",f)}S2(c)}}),a.dataRange&&(a.visualMap=a.dataRange),aiT(r9,function(c){var d=a[c];d&&(ai9(d)||(d=[d]),aiT(d,function(e){S2(e)}))})},OW=function(a){var b=aj6();a.eachSeries(function(e){var g=e.get("stack");if(g){var d=b.get(g)||b.set(g,[]),c=e.getData(),f={stackResultDimension:c.getCalculationInfo("stackResultDimension"),stackedOverDimension:c.getCalculationInfo("stackedOverDimension"),stackedDimension:c.getCalculationInfo("stackedDimension"),stackedByDimension:c.getCalculationInfo("stackedByDimension"),isStackedByIndex:c.getCalculationInfo("isStackedByIndex"),data:c,seriesModel:e};if(!f.stackedDimension||!f.isStackedByIndex&&!f.stackedByDimension){return}d.length&&c.setCalculationInfo("stackedOnSeries",d[d.length-1].seriesModel),d.push(f)}}),b.each(OX)},Gt=P8.prototype;Gt.pure=!1,Gt.persistent=!0,Gt.getSource=function(){return this._source};var tU={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(a){return this._data[a+this._source.startIndex]},appendData:ajt},arrayRows_row:{pure:!0,count:function(){var a=this._data[0];return a?Math.max(0,a.length-this._source.startIndex):0},getItem:function(d){d+=this._source.startIndex;for(var f=[],g=this._data,c=0;c<g.length;c++){var b=g[c];f.push(b?b[d]:null)}return f},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:aH,getItem:RJ,appendData:ajt},keyedColumns:{pure:!0,count:function(){var a=this._source.dimensionsDefine[0].name,b=this._data[a];return b?b.length:0},getItem:function(d){for(var f=[],g=this._source.dimensionsDefine,c=0;c<g.length;c++){var b=this._data[g[c].name];f.push(b?b[d]:null)}return f},appendData:function(a){var b=this._data;aiT(a,function(e,f){for(var d=b[f]||(b[f]=[]),c=0;c<(e||[]).length;c++){d.push(e[c])}})}},original:{count:aH,getItem:RJ,appendData:ajt},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(b,c){b-=this._offset,c=c||[];for(var d=this._dimSize*b,a=0;a<this._dimSize;a++){c[a]=this._data[d+a]}return c},appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}}},KJ={arrayRows:k9,objectRows:function(b,c,d,a){return null!=d?b[a]:b},keyedColumns:k9,original:function(b,c,d){var a=hQ(b);return null!=d&&a instanceof Array?a[d]:a},typedArray:k9},iF={arrayRows:tV,objectRows:function(a,b){return zt(a[b],this._dimensionInfos[b])},keyedColumns:tV,original:function(d,f,g,c){var b=d&&(null==d.value?d:d.value);return !this._rawData.pure&&CV(d)&&(this.hasItemOption=!0),zt(b instanceof Array?b[c]:b,this._dimensionInfos[f])},typedArray:function(b,c,d,a){return b[a]}},DH=/\{@(.+?)\}/g,E1={getDataParams:function(y,p){var g=this.getData(p),k=this.getRawValue(y,p),w=g.getRawIndex(y),f=g.getName(y),b=g.getRawDataItem(y),z=g.getItemVisual(y,"color"),j=this.ecModel.getComponent("tooltip"),x=j&&j.get("renderMode"),m=yH(x),v=this.mainType,q="series"===v;return{componentType:v,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:q?this.subType:null,seriesIndex:this.seriesIndex,seriesId:q?this.id:null,seriesName:q?this.name:null,name:f,dataIndex:w,data:b,dataType:p,value:k,color:z,marker:S4({color:z,renderMode:m}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(m,h,d,g,j){h=h||"normal";var c=this.getData(d),b=c.getItemModel(m),p=this.getDataParams(m,d);null!=g&&p.value instanceof Array&&(p.value=p.value[g]);var f=b.get("normal"===h?[j||"label","formatter"]:[h,j||"label","formatter"]);if("function"==typeof f){return p.status=h,f(p)}if("string"==typeof f){var k=afX(f,p);return k.replace(DH,function(l,o){var a=o.length;return"["===o.charAt(0)&&"]"===o.charAt(a-1)&&(o=+o.slice(1,a-1)),jZ(c,m,o)})}},getRawValue:function(a,b){return jZ(this.getData(b),a)},formatTooltip:function(){}},g3=HX.prototype;g3.perform=function(G){function B(a){return !(a>=1)&&(a=1),a}var q=this._upstream,x=G&&G.skip;if(this._dirty&&q){var E=this.context;E.data=E.outputData=q.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var k;this._plan&&!x&&(k=this._plan(this.context));var b=B(this._modBy),H=this._modDataCount||0,w=B(G&&G.modBy),F=G&&G.modDataCount||0;(b!==w||H!==F)&&(k="reset");var y;(this._dirty||"reset"===k)&&(this._dirty=!1,y=adA(this,x)),this._modBy=w,this._modDataCount=F;var D=G&&G.step;if(this._dueEnd=q?q._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var C=this._dueIndex,A=Math.min(null!=D?this._dueIndex+D:1/0,this._dueEnd);if(!x&&(y||A>C)){var j=this._progress;if(ai9(j)){for(var z=0;z<j.length;z++){u6(this,j[z],C,A,w,F)}}else{u6(this,j,C,A,w,F)}}this._dueIndex=A;var v=null!=this._settedOutputEnd?this._settedOutputEnd:A;this._outputDueEnd=v}else{this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd}return this.unfinished()};var B6=function(){function d(){return k>c?c++:null}function h(){var a=c%g*b+Math.ceil(c/g),i=c>=k?null:j>a?a:c;return c++,i}var k,c,b,j,g,f={reset:function(a,e,i,m){c=a,k=e,b=i,j=m,g=Math.ceil(j/b),f.next=b>1&&j>0?h:d}};return f}();g3.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},g3.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},g3.pipe=function(a){(this._downstream!==a||this._dirty)&&(this._downstream=a,a._upstream=this,a.dirty())},g3.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},g3.getUpstream=function(){return this._upstream},g3.getDownstream=function(){return this._downstream},g3.setOutputEnd=function(a){this._outputDueEnd=this._settedOutputEnd=a};var cZ=aeq(),fQ=akQ.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",layoutMode:null,init:function(b,c,d){this.seriesIndex=this.componentIndex,this.dataTask=GB({count:mU,reset:NY}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(b,d),st(this);var a=this.getInitialData(b,d);sj(a,this),this.dataTask.context.data=a,cZ(this).dataBeforeProcessed=a,pH(this)},mergeDefaultAndTheme:function(b,c){var f=this.layoutMode,a=f?KQ(b):{},d=this.subType;akQ.hasClass(d)&&(d+="Series"),ai5(b,c.getTheme().get(this.subType)),ai5(b,this.getDefaultOption()),JW(b,"label",["show"]),this.fillDataTextStyle(b.data),f&&j1(b,a,f)},mergeOption:function(b,c){b=ai5(this.option,b,!0),this.fillDataTextStyle(b.data);var d=this.layoutMode;d&&j1(this.option,b,d),st(this);var a=this.getInitialData(b,c);sj(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,cZ(this).dataBeforeProcessed=a,pH(this)},fillDataTextStyle:function(a){if(a&&!ajQ(a)){for(var b=["show"],c=0;c<a.length;c++){a[c]&&a[c].label&&JW(a[c],"label",b)}}},getInitialData:function(){},appendData:function(a){var b=this.getRawData();b.appendData(a.data)},getData:function(a){var b=g4(this);if(b){var c=b.context.data;return null==a?c:c.getLinkedData(a)}return cZ(this).data},setData:function(a){var b=g4(this);if(b){var c=b.context;c.data!==a&&b.modifyOutputEnd&&b.setOutputEnd(a.count()),c.outputData=a,b!==this.dataTask&&(c.data=a)}cZ(this).data=a},getSource:function(){return NZ(this)},getRawData:function(){return cZ(this).dataBeforeProcessed},getBaseAxis:function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},formatTooltip:function(E,S,N,Q){function X(i){function c(r,x){var o=V.getDimensionInfo(x);if(o&&o.otherDims.tooltip!==!1){var w=o.type,u="sub"+H.seriesIndex+"at"+R,v=S4({color:j,type:"subItem",renderMode:Q,markerId:u}),s="string"==typeof v?v:v.content,l=(h?s+aaE(o.displayName||"-")+": ":"")+aaE("ordinal"===w?r+"":"time"===w?S?"":Qj("yyyy/MM/dd hh:mm:ss",r):ahK(r));l&&d.push(l),P&&(C[u]=j,++R)}}var h=aiQ(i,function(l,m,o){var a=V.getDimensionInfo(o);return l|=a&&a.tooltip!==!1&&null!=a.displayName},0),d=[];U.length?aiT(U,function(a){c(jZ(V,E,a),a)}):aiT(i,c);var e=h?P?"\n":"<br/>":"",b=e+d.join(e||", ");return{renderMode:Q,content:b,style:C}}function L(a){return{renderMode:Q,content:aaE(ahK(a)),style:C}}var H=this;Q=Q||"html";var G="html"===Q?"<br/>":"\n",P="richText"===Q,C={},R=0,V=this.getData(),U=V.mapDimension("defaultedTooltip",!0),K=U.length,O=this.getRawValue(E),B=ai9(O),j=V.getItemVisual(E,"color");ajq(j)&&j.colorStops&&(j=(j.colorStops[0]||{}).color),j=j||"transparent";var q=K>1||B&&!K?X(O):L(K?jZ(V,E,U[0]):B?O[0]:O),z=q.content,W=H.seriesIndex+"at"+R,g=S4({color:j,type:"item",renderMode:Q,markerId:W});C[W]=j,++R;var k=V.getName(E),f=this.name;Bq(this)||(f=""),f=f?aaE(f)+(S?": ":G):"";var J="string"==typeof g?g:g.content,F=S?J+f+z:f+J+(k?aaE(k)+": "+z:z);return{html:F,markers:C}},isAnimationEnabled:function(){if(B3.node){return !1}var a=this.getShallow("animation");return a&&this.getData().count()>this.getShallow("animationThreshold")&&(a=!1),a},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(d,f,g){var c=this.ecModel,b=adz.getColorFromPalette.call(this,d,f,g);return b||(b=c.getColorFromPalette(d,f,g)),b},coordDimToDataDim:function(a){return this.getRawData().mapDimension(a,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});aiZ(fQ,E1),aiZ(fQ,adz);var d9=function(){this.group=new jG,this.uid=eH("viewComponent")};d9.prototype={constructor:d9,init:function(){},render:function(){},dispose:function(){},filterForExposedEvent:null};var aeL=d9.prototype;aeL.updateView=aeL.updateLayout=aeL.updateVisual=function(){},ahy(d9),abD(d9,{registerWhenExtend:!0});var jY=function(){var a=aeq();return function(g){var j=a(g),c=g.pipelineContext,b=j.large,h=j.progressiveRender,f=j.large=c.large,d=j.progressiveRender=c.progressiveRender;return !!(b^f||h^d)&&"reset"}},aaB=aeq(),x1=jY();B7.prototype={type:"chart",init:function(){},render:function(){},highlight:function(b,c,d,a){fU(b.getData(),a,"emphasis")},downplay:function(b,c,d,a){fU(b.getData(),a,"normal")},remove:function(){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var M6=B7.prototype;M6.updateView=M6.updateLayout=M6.updateVisual=function(b,c,d,a){this.render(b,c,d,a)},ahy(B7,["dispose"]),abD(B7,{registerWhenExtend:!0}),B7.markUpdateMethod=function(a,b){aaB(a).updateMethod=b};var zq={incrementalPrepareRender:{progress:function(a,b){b.view.incrementalRender(a,b.model,b.ecModel,b.api,b.payload)}},render:{forceFirstProgress:!0,progress:function(a,b){b.view.render(b.model,b.ecModel,b.api,b.payload)}}},pG="\x00__throttleOriginMethod",X9="\x00__throttleRate",ah9="\x00__throttleType",acQ={createOnAllSeries:!0,performRawSeries:!0,reset:function(d,f){var h=d.getData(),c=(d.visualColorAccessPath||"itemStyle.color").split("."),b=d.get(c)||d.getColorFromPalette(d.name,null,f.getSeriesCount());if(h.setVisual("color",b),!f.isSeriesFiltered(d)){"function"!=typeof b||b instanceof TK||h.each(function(a){h.setItemVisual(a,"color",b(d.getDataParams(a)))});var g=function(j,k){var l=j.getItemModel(k),i=l.get(c,!0);null!=i&&j.setItemVisual(k,"color",i)};return{dataEach:h.hasItemOption?g:null}}}},afM={toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},ak2=function(C,x){function k(a,c){if("string"!=typeof a){return a}var d=a;return aiT(c,function(g,h){d=d.replace(new RegExp("\\{\\s*"+h+"\\s*\\}","g"),g)}),d}function q(g){var h=b.get(g);if(null==h){for(var l=g.split("."),d=afM.aria,c=0;c<l.length;++c){d=d[l[c]]}return d}return h}function A(){var a=x.getModel("title").option;return a&&a.length&&(a=a[0]),a&&a.text}function j(a){return afM.series.typeNames[a]||"自定义图"}var b=x.getModel("aria");if(b.get("show")){if(b.get("description")){return void C.setAttribute("aria-label",b.get("description"))}var D=0;x.eachSeries(function(){++D},this);var m,B=b.get("data.maxCount")||10,v=b.get("series.maxCount")||10,z=Math.min(D,v);if(!(1>D)){var y=A();m=y?k(q("general.withTitle"),{title:y}):q("general.withoutTitle");var f=[],w=D>1?"series.multiple.prefix":"series.single.prefix";m+=k(q(w),{seriesCount:D}),x.eachSeries(function(G,u){if(z>u){var F,c=G.get("name"),n="series."+(D>1?"multiple":"single")+".";F=q(c?n+"withName":n+"withoutName"),F=k(F,{seriesId:G.seriesIndex,seriesName:G.get("name"),seriesType:j(G.subType)});var o=G.getData();window.data=o,F+=o.count()>B?k(q("data.partialData"),{displayCnt:B}):q("data.allData");for(var E=[],s=0;s<o.count();s++){if(B>s){var p=o.getName(s),i=jZ(o,s);E.push(k(q(p?"data.withName":"data.withoutName"),{name:p,value:i}))}}F+=E.join(q("data.separator.middle"))+q("data.separator.end"),f.push(F)}}),m+=f.join(q("series.multiple.separator.middle"))+q("series.multiple.separator.end"),C.setAttribute("aria-label",m)}}},acf=Math.PI,aat=function(d,f){f=f||{},ain(f,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var h=new agM({style:{fill:f.maskColor},zlevel:f.zlevel,z:10000}),c=new R7({shape:{startAngle:-acf/2,endAngle:-acf/2+0.1,r:10},style:{stroke:f.color,lineCap:"round",lineWidth:5},zlevel:f.zlevel,z:10001}),b=new agM({style:{fill:"none",text:f.text,textPosition:"right",textDistance:10,textFill:f.textColor},zlevel:f.zlevel,z:10001});c.animateShape(!0).when(1000,{endAngle:3*acf/2}).start("circularInOut"),c.animateShape(!0).when(1000,{startAngle:3*acf/2}).delay(300).start("circularInOut");var g=new jG;return g.add(c),g.add(b),g.add(h),g.resize=function(){var i=d.getWidth()/2,j=d.getHeight()/2;c.setShape({cx:i,cy:j});var a=c.shape.r;b.setShape({x:i-a,y:j-a,width:2*a,height:2*a}),h.setShape({x:0,y:0,width:d.getWidth(),height:d.getHeight()})},g.resize(),g},ZN=iG.prototype;ZN.restoreData=function(a,b){a.restoreData(b),this._stageTaskMap.each(function(c){var d=c.overallTask;d&&d.dirty()})},ZN.getPerformArgs=function(d,h){if(d.__pipeline){var k=this._pipelineMap.get(d.__pipeline.id),c=k.context,b=!h&&k.progressiveEnabled&&(!c||c.progressiveRender)&&d.__idxInPipeline>k.blockIndex,j=b?k.step:null,g=c&&c.modDataCount,f=null!=g?Math.ceil(g/j):null;return{step:j,modBy:f,modDataCount:g}}},ZN.getPipeline=function(a){return this._pipelineMap.get(a)},ZN.updateStreamModes=function(d,h){var k=this._pipelineMap.get(d.uid),c=d.getData(),b=c.count(),j=k.progressiveEnabled&&h.incrementalPrepareRender&&b>=k.threshold,g=d.get("large")&&b>=d.get("largeThreshold"),f="mod"===d.get("progressiveChunkMode")?b:null;d.pipelineContext=k.context={progressiveRender:j,modDataCount:f,large:g}},ZN.restorePipelines=function(a){var b=this,c=b._pipelineMap=aj6();a.eachSeries(function(f){var e=f.getProgressive(),d=f.uid;c.set(d,{id:d,head:null,tail:null,threshold:f.getProgressiveThreshold(),progressiveEnabled:e&&!(f.preventIncremental&&f.preventIncremental()),blockIndex:-1,step:Math.round(e||700),count:0}),Y3(b,f,f.dataTask)})},ZN.prepareStageTasks=function(){var a=this._stageTaskMap,b=this.ecInstance.getModel(),c=this.api;aiT(this._allHandlers,function(e){var d=a.get(e.uid)||a.set(e.uid,[]);e.reset&&wJ(this,e,d,b,c),e.overallReset&&MF(this,e,d,b,c)},this)},ZN.prepareView=function(d,f,h,c){var b=d.renderTask,g=b.context;g.model=f,g.ecModel=h,g.api=c,b.__block=!d.incrementalPrepareRender,Y3(this,f,b)},ZN.performDataProcessorTasks=function(a,b){Z1(this,this._dataProcessorHandlers,a,b,{block:!0})},ZN.performVisualTasks=function(a,b,c){Z1(this,this._visualHandlers,a,b,c)},ZN.performSeriesTasks=function(a){var b;a.eachSeries(function(c){b|=c.dataTask.perform()}),this.unfinished|=b},ZN.plan=function(){this._pipelineMap.each(function(a){var b=a.tail;do{if(b.__block){a.blockIndex=b.__idxInPipeline;break}b=b.getUpstream()}while(b)})};var ad2=ZN.updatePayload=function(a,b){"remain"!==b&&(a.context.payload=b)},WZ=akx(0);iG.wrapStageHandler=function(a,b){return aif(a)&&(a={overallReset:a,seriesType:XQ(a)}),a.uid=eH("stageHandler"),b&&(a.visualType=b),a};var agn,akc={},ajb={};adb(akc,a8),adb(ajb,n7),akc.eachSeriesByType=akc.eachRawSeriesByType=function(a){agn=a},akc.eachComponent=function(a){"series"===a.mainType&&a.subType&&(agn=a.subType)};var ahz=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],abE={color:ahz,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],ahz]},agY="#eee",adr=function(){return{axisLine:{lineStyle:{color:agY}},axisTick:{lineStyle:{color:agY}},axisLabel:{textStyle:{color:agY}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:agY}}}},VF=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],Q9={color:VF,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:agY},crossStyle:{color:agY}}},legend:{textStyle:{color:agY}},textStyle:{color:agY},title:{textStyle:{color:agY}},toolbox:{iconStyle:{normal:{borderColor:agY}}},dataZoom:{textStyle:{color:agY}},visualMap:{textStyle:{color:agY}},timeline:{lineStyle:{color:agY},itemStyle:{normal:{color:VF[1]}},label:{normal:{textStyle:{color:agY}}},controlStyle:{normal:{color:agY,borderColor:agY}}},timeAxis:adr(),logAxis:adr(),valueAxis:adr(),categoryAxis:adr(),line:{symbol:"circle"},graph:{color:VF},gauge:{title:{textStyle:{color:agY}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};Q9.categoryAxis.splitLine.show=!1,akQ.extend({type:"dataset",defaultOption:{seriesLayoutBy:acY,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){mW(this)}}),d9.extend({type:"dataset"});var SQ=h5.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(k,h){var d=0.5522848,g=h.cx,j=h.cy,c=h.rx,b=h.ry,m=c*d,f=b*d;k.moveTo(g-c,j),k.bezierCurveTo(g-c,j-f,g-m,j-b,g,j-b),k.bezierCurveTo(g+m,j-b,g+c,j-f,g+c,j),k.bezierCurveTo(g+c,j+f,g+m,j+b,g,j+b),k.bezierCurveTo(g-m,j+b,g-c,j+f,g-c,j),k.closePath()}}),bU=/[\s,]+/;afw.prototype.parse=function(w,m){m=m||{};var f=UY(w);if(!f){throw new Error("Illegal svg")}var j=new jG;this._root=j;var q=f.getAttribute("viewBox")||"",d=parseFloat(f.getAttribute("width")||m.width),b=parseFloat(f.getAttribute("height")||m.height);isNaN(d)&&(d=null),isNaN(b)&&(b=null),aaN(f,j,null,!0);for(var x=f.firstChild;x;){this._parseNode(x,j),x=x.nextSibling}var g,v;if(q){var k=ajs(q).split(bU);k.length>=4&&(g={x:parseFloat(k[0]||0),y:parseFloat(k[1]||0),width:parseFloat(k[2]),height:parseFloat(k[3])})}if(g&&null!=d&&null!=b&&(v=O9(g,d,b),!m.ignoreViewBox)){var p=j;j=new jG,j.add(p),p.scale=v.scale.slice(),p.position=v.position.slice()}return m.ignoreRootClip||null==d||null==b||j.setClipPath(new agM({shape:{x:0,y:0,width:d,height:b}})),{root:j,width:d,height:b,viewBoxRect:g,viewBoxTransform:v}},afw.prototype._parseNode=function(d,h){var k=d.nodeName.toLowerCase();"defs"===k?this._isDefine=!0:"text"===k&&(this._isText=!0);var c;if(this._isDefine){var b=akO[k];if(b){var j=b.call(this,d),g=d.getAttribute("id");g&&(this._defs[g]=j)}}else{var b=T4[k];b&&(c=b.call(this,d,h),h.add(c))}for(var f=d.firstChild;f;){1===f.nodeType&&this._parseNode(f,c),3===f.nodeType&&this._isText&&this._parseText(f,c),f=f.nextSibling}"defs"===k?this._isDefine=!1:"text"===k&&(this._isText=!1)},afw.prototype._parseText=function(d,g){if(1===d.nodeType){var j=d.getAttribute("dx")||0,c=d.getAttribute("dy")||0;this._textX+=parseFloat(j),this._textY+=parseFloat(c)}var b=new ab3({style:{text:d.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});ahT(g,b),aaN(d,b,this._defs);var h=b.style.fontSize;h&&9>h&&(b.style.fontSize=9,b.scale=b.scale||[1,1],b.scale[0]*=h/9,b.scale[1]*=h/9);var f=b.getBoundingRect();return this._textX+=f.width,g.add(b),b};var T4={g:function(a,b){var c=new jG;return ahT(b,c),aaN(a,c,this._defs),c},rect:function(a,b){var c=new agM;return ahT(b,c),aaN(a,c,this._defs),c.setShape({x:parseFloat(a.getAttribute("x")||0),y:parseFloat(a.getAttribute("y")||0),width:parseFloat(a.getAttribute("width")||0),height:parseFloat(a.getAttribute("height")||0)}),c},circle:function(a,b){var c=new aah;return ahT(b,c),aaN(a,c,this._defs),c.setShape({cx:parseFloat(a.getAttribute("cx")||0),cy:parseFloat(a.getAttribute("cy")||0),r:parseFloat(a.getAttribute("r")||0)}),c},line:function(a,b){var c=new adf;return ahT(b,c),aaN(a,c,this._defs),c.setShape({x1:parseFloat(a.getAttribute("x1")||0),y1:parseFloat(a.getAttribute("y1")||0),x2:parseFloat(a.getAttribute("x2")||0),y2:parseFloat(a.getAttribute("y2")||0)}),c},ellipse:function(a,b){var c=new SQ;return ahT(b,c),aaN(a,c,this._defs),c.setShape({cx:parseFloat(a.getAttribute("cx")||0),cy:parseFloat(a.getAttribute("cy")||0),rx:parseFloat(a.getAttribute("rx")||0),ry:parseFloat(a.getAttribute("ry")||0)}),c},polygon:function(b,c){var d=b.getAttribute("points");d&&(d=agI(d));var a=new ahn({shape:{points:d||[]}});return ahT(c,a),aaN(b,a,this._defs),a},polyline:function(d,f){var g=new h5;ahT(f,g),aaN(d,g,this._defs);var c=d.getAttribute("points");c&&(c=agI(c));var b=new abs({shape:{points:c||[]}});return b},image:function(a,b){var c=new TJ;return ahT(b,c),aaN(a,c,this._defs),c.setStyle({image:a.getAttribute("xlink:href"),x:a.getAttribute("x"),y:a.getAttribute("y"),width:a.getAttribute("width"),height:a.getAttribute("height")}),c},text:function(d,g){var j=d.getAttribute("x")||0,c=d.getAttribute("y")||0,b=d.getAttribute("dx")||0,h=d.getAttribute("dy")||0;this._textX=parseFloat(j)+parseFloat(b),this._textY=parseFloat(c)+parseFloat(h);var f=new jG;return ahT(g,f),aaN(d,f,this._defs),f},tspan:function(d,g){var j=d.getAttribute("x"),c=d.getAttribute("y");null!=j&&(this._textX=parseFloat(j)),null!=c&&(this._textY=parseFloat(c));var b=d.getAttribute("dx")||0,h=d.getAttribute("dy")||0,f=new jG;return ahT(g,f),aaN(d,f,this._defs),this._textX+=b,this._textY+=h,f},path:function(b,c){var d=b.getAttribute("d")||"",a=BX(d);return ahT(c,a),aaN(b,a,this._defs),a}},akO={lineargradient:function(d){var f=parseInt(d.getAttribute("x1")||0,10),h=parseInt(d.getAttribute("y1")||0,10),c=parseInt(d.getAttribute("x2")||10,10),b=parseInt(d.getAttribute("y2")||0,10),g=new akB(f,h,c,b);return aiL(d,g),g},radialgradient:function(){}},nW={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"},v8=/url\(\s*#(.*?)\)/,BY=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,mq=/([^\s:;]+)\s*:\s*([^:;]+)/g,L7=aj6(),IZ={registerMap:function(b,c,d){var a;return ai9(c)?a=c:c.svg?a=[{type:"svg",source:c.svg,specialAreas:c.specialAreas}]:(c.geoJson&&!c.features&&(d=c.specialAreas,c=c.geoJson),a=[{type:"geoJSON",source:c,specialAreas:d}]),aiT(a,function(f){var g=f.type;"geoJson"===g&&(g=f.type="geoJSON");var h=J9[g];h(f)}),L7.set(b,a)},retrieveMap:function(a){return L7.get(a)}},J9={geoJSON:function(a){var b=a.source;a.geoJSON=ai2(b)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(b):new Function("return ("+b+");")():b},svg:function(a){a.svgXML=UY(a.source)}},xQ=ajz,aeD=aiT,r1=aif,tt=ajq,o7=akQ.parseClassType,PZ="4.2.0",HG={zrender:"4.0.5"},uX=1,LQ=1000,jJ=5000,EQ=1000,F4=2000,h6=3000,C8=4000,d1=5000,gV={PROCESSOR:{FILTER:LQ,STATISTIC:jJ},VISUAL:{LAYOUT:EQ,GLOBAL:F4,CHART:h6,COMPONENT:C8,BRUSH:d1}},fq="__flagInMainProcess",afb="__optionUpdated",k0=/^[a-zA-Z0-9_]+$/;R3.prototype.on=aW("on"),R3.prototype.off=aW("off"),R3.prototype.one=aW("one"),aiZ(R3,adp);var aa3=ajM.prototype;aa3._onframe=function(){if(!this._disposed){var d=this._scheduler;if(this[afb]){var f=this[afb].silent;this[fq]=!0,t7(this),y3.update.call(this),this[fq]=!1,this[afb]=!1,GZ.call(this,f),H9.call(this,f)}else{if(d.unfinished){var h=uX,c=this._model,b=this._api;d.unfinished=!1;do{var g=+new Date;d.performSeriesTasks(c),d.performDataProcessorTasks(c),kj(this,c),d.performVisualTasks(c),N4(this,this._model,b,"remain"),h-=+new Date-g}while(h>0&&d.unfinished);d.unfinished||this._zr.flush()}}}},aa3.getDom=function(){return this._dom},aa3.getZr=function(){return this._zr},aa3.setOption=function(d,g,j){var c;if(tt(g)&&(j=g.lazyUpdate,c=g.silent,g=g.notMerge),this[fq]=!0,!this._model||g){var b=new ag7(this._api),h=this._theme,f=this._model=new a8(null,null,h,b);f.scheduler=this._scheduler,f.init(null,null,h,b)}this._model.setOption(d,ah4),j?(this[afb]={silent:c},this[fq]=!1):(t7(this),y3.update.call(this),this._zr.flush(),this[afb]=!1,this[fq]=!1,GZ.call(this,c),H9.call(this,c))},aa3.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},aa3.getModel=function(){return this._model},aa3.getOption=function(){return this._model&&this._model.getOption()},aa3.getWidth=function(){return this._zr.getWidth()},aa3.getHeight=function(){return this._zr.getHeight()},aa3.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},aa3.getRenderedCanvas=function(a){if(B3.canvasSupported){a=a||{},a.pixelRatio=a.pixelRatio||1,a.backgroundColor=a.backgroundColor||this._model.get("backgroundColor");var b=this._zr;return b.painter.getRenderedCanvas(a)}},aa3.getSvgDataUrl=function(){if(B3.svgSupported){var a=this._zr,b=a.storage.getDisplayList();return aiT(b,function(c){c.stopAnimation(!0)}),a.painter.pathToDataUrl()}},aa3.getDataURL=function(d){d=d||{};var f=d.excludeComponents,h=this._model,c=[],b=this;aeD(f,function(a){h.eachComponent({mainType:a},function(i){var j=b._componentsMap[i.__viewId];j.group.ignore||(c.push(j),j.group.ignore=!0)})});var g="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(d).toDataURL("image/"+(d&&d.type||"png"));return aeD(c,function(a){a.group.ignore=!1}),g},aa3.getConnectedDataURL=function(C){if(B3.canvasSupported){var x=this.group,j=Math.min,A=Math.max,i=1/0;if(ZF[x]){var b=i,D=i,q=-i,B=-i,v=[],z=C&&C.pixelRatio||1;aiT(aao,function(e){if(e.group===x){var g=e.getRenderedCanvas(aiO(C)),a=e.getDom().getBoundingClientRect();b=j(a.left,b),D=j(a.top,D),q=A(a.right,q),B=A(a.bottom,B),v.push({dom:g,left:a.left,top:a.top})}}),b*=z,D*=z,q*=z,B*=z;var y=q-b,f=B-D,w=Mq();w.width=y,w.height=f;var k=p4(w);return aeD(v,function(a){var c=new TJ({style:{x:a.left*z-b,y:a.top*z-D,image:a.dom}});k.add(c)}),k.refreshImmediately(),w.toDataURL("image/"+(C&&C.type||"png"))}return this.getDataURL(C)}},aa3.convertToPixel=aie(lV,"convertToPixel"),aa3.convertFromPixel=aie(lV,"convertFromPixel"),aa3.containPixel=function(b,c){var d,a=this._model;return b=i4(a,b),aiT(b,function(f,e){e.indexOf("Models")>=0&&aiT(f,function(h){var g=h.coordinateSystem;if(g&&g.containPoint){d|=!!g.containPoint(c)}else{if("seriesModels"===e){var i=this._chartsMap[h.__viewId];i&&i.containPoint&&(d|=i.containPoint(c,h))}}},this)},this),!!d},aa3.getVisual=function(d,f){var h=this._model;d=i4(h,d,{defaultMainType:"series"});var c=d.seriesModel,b=c.getData(),g=d.hasOwnProperty("dataIndexInside")?d.dataIndexInside:d.hasOwnProperty("dataIndex")?b.indexOfRawIndex(d.dataIndex):null;return null!=g?b.getItemVisual(g,f):b.getVisual(f)},aa3.getViewOfComponentModel=function(a){return this._componentsMap[a.__viewId]},aa3.getViewOfSeriesModel=function(a){return this._chartsMap[a.__viewId]};var y3={prepareAndUpdate:function(a){t7(this),y3.update.call(this,a)},update:function(d){var h=this._model,k=this._api,c=this._zr,b=this._coordSysMgr,j=this._scheduler;if(h){j.restoreData(h,d),j.performSeriesTasks(h),b.create(h,k),j.performDataProcessorTasks(h,d),kj(this,h),b.update(h,k),p1(h),j.performVisualTasks(h,d),rq(this,h,k,d);var g=h.get("backgroundColor")||"transparent";if(B3.canvasSupported){c.setBackgroundColor(g)}else{var f=BH(g);g=yV(f,"rgb"),0===f[3]&&(g="transparent")}FF(h,k)}},updateTransform:function(d){var f=this._model,h=this,c=this._api;if(f){var b=[];f.eachComponent(function(j,i){var e=h.getViewOfComponentModel(i);if(e&&e.__alive){if(e.updateTransform){var a=e.updateTransform(i,f,c,d);a&&a.update&&b.push(e)}else{b.push(e)}}});var g=aj6();f.eachSeries(function(e){var j=h._chartsMap[e.__viewId];if(j.updateTransform){var i=j.updateTransform(e,f,c,d);i&&i.update&&g.set(e.uid,1)}else{g.set(e.uid,1)}}),p1(f),this._scheduler.performVisualTasks(f,d,{setDirty:!0,dirtyMap:g}),N4(h,f,c,d,g),FF(f,this._api)}},updateView:function(a){var b=this._model;b&&(B7.markUpdateMethod(a,"updateView"),p1(b),this._scheduler.performVisualTasks(b,a,{setDirty:!0}),rq(this,this._model,this._api,a),FF(b,this._api))},updateVisual:function(a){y3.update.call(this,a)},updateLayout:function(a){y3.update.call(this,a)}};aa3.resize=function(b){this._zr.resize(b);var c=this._model;if(this._loadingFX&&this._loadingFX.resize(),c){var d=c.resetOption("media"),a=b&&b.silent;this[fq]=!0,d&&t7(this),y3.update.call(this),this[fq]=!1,GZ.call(this,a),H9.call(this,a)}},aa3.showLoading=function(b,c){if(tt(b)&&(c=b,b=""),b=b||"default",this.hideLoading(),aca[b]){var d=aca[b](this._api,c),a=this._zr;this._loadingFX=d,a.add(d)}},aa3.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},aa3.makeActionFromEvent=function(a){var b=aip({},a);return b.type=qJ[a.type],b},aa3.dispatchAction=function(a,b){if(tt(b)||(b={silent:!!b}),AB[a.type]&&this._model){if(this[fq]){return void this._pendingActions.push(a)}K3.call(this,a,b.silent),b.flush?this._zr.flush(!0):b.flush!==!1&&B3.browser.weChat&&this._throttledZrFlush(),GZ.call(this,b.silent),H9.call(this,b.silent)}},aa3.appendData=function(b){var c=b.seriesIndex,d=this.getModel(),a=d.getSeriesByIndex(c);a.appendData(b),this._scheduler.unfinished=!0},aa3.on=aW("on"),aa3.off=aW("off"),aa3.one=aW("one");var NJ=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];aa3._initEvents=function(){aeD(NJ,function(a){this._zr.on(a,function(k){var d,g=this.getModel(),p=k.target,b="globalout"===a;if(b){d={}}else{if(p&&null!=p.dataIndex){var r=p.dataModel||g.getSeriesByIndex(p.seriesIndex);d=r&&r.getDataParams(p.dataIndex,p.dataType,p)||{}}else{p&&p.eventData&&(d=aip({},p.eventData))}}if(d){var f=d.componentType,q=d.componentIndex;("markLine"===f||"markPoint"===f||"markArea"===f)&&(f="series",q=d.seriesIndex);var j=f&&null!=q&&g.getComponent(f,q),m=j&&this["series"===j.mainType?"_chartsMap":"_componentsMap"][j.__viewId];d.event=k,d.type=a,this._ecEventProcessor.eventInfo={targetEl:p,packedEvent:d,model:j,view:m},this.trigger(a,d)}},this)},this),aeD(qJ,function(a,b){this._messageCenter.on(b,function(c){this.trigger(b,c)},this)},this)},aa3.isDisposed=function(){return this._disposed},aa3.clear=function(){this.setOption({series:[]},!0)},aa3.dispose=function(){if(!this._disposed){this._disposed=!0,w6(this.getDom(),agi,"");var a=this._api,b=this._model;aeD(this._componentsViews,function(c){c.dispose(b,a)}),aeD(this._chartsViews,function(c){c.dispose(b,a)}),this._zr.dispose(),delete aao[this.id]}},aiZ(ajM,adp),D3.prototype={constructor:D3,normalizeQuery:function(d){var g={},j={},c={};if(ai2(d)){var b=o7(d);g.mainType=b.main||null,g.subType=b.sub||null}else{var h=["Index","Name","Id"],f={name:1,dataIndex:1,dataType:1};aiT(d,function(m,i){for(var o=!1,e=0;e<h.length;e++){var k=h[e],n=i.lastIndexOf(k);if(n>0&&n===i.length-k.length){var p=i.slice(0,n);"data"!==p&&(g.mainType=p,g[k.toLowerCase()]=m,o=!0)}}f.hasOwnProperty(i)&&(j[i]=m,o=!0),o||(c[i]=m)})}return{cptQuery:g,dataQuery:j,otherQuery:c}},filter:function(m,h){function d(l,o,q,a){return null==l[q]||o[a||q]===l[q]}var g=this.eventInfo;if(!g){return !0}var j=g.targetEl,c=g.packedEvent,b=g.model,p=g.view;if(!b||!p){return !0}var f=h.cptQuery,k=h.dataQuery;return d(f,b,"mainType")&&d(f,b,"subType")&&d(f,b,"index","componentIndex")&&d(f,b,"name")&&d(f,b,"id")&&d(k,c,"name")&&d(k,c,"dataIndex")&&d(k,c,"dataType")&&(!p.filterForExposedEvent||p.filterForExposedEvent(m,h.otherQuery,j,c))},afterTrigger:function(){this.eventInfo=null}};var AB={},qJ={},X4=[],ah4=[],acL=[],afH=[],ak0={},aca={},aao={},ZF={},adX=new Date-0,WU=new Date-0,agi="_echarts_instance_",aj5=eV;aeK(F4,acQ),w3(n4),MU(jJ,OW),aba("default",aat),oJ({type:"highlight",event:"highlight",update:"highlight"},ajU),oJ({type:"downplay",event:"downplay",update:"downplay"},ajU),aad("light",abE),aad("dark",Q9);var ai4={};aaA.prototype={constructor:aaA,add:function(a){return this._add=a,this},update:function(a){return this._update=a,this},remove:function(a){return this._remove=a,this},execute:function(){var q,k=this._old,d=this._new,g={},m={},c=[],b=[];for(afT(k,g,c,"_oldKeyGetter",this),afT(d,m,b,"_newKeyGetter",this),q=0;q<k.length;q++){var v=c[q],f=m[v];if(null!=f){var p=f.length;p?(1===p&&(m[v]=null),f=f.unshift()):m[v]=null,this._update&&this._update(f,q)}else{this._remove&&this._remove(q)}}for(var q=0;q<b.length;q++){var v=b[q];if(m.hasOwnProperty(v)){var f=m[v];if(null==f){continue}if(f.length){for(var j=0,p=f.length;p>j;j++){this._add&&this._add(f[j])}}else{this._add&&this._add(f)}}}}};var ahu=aj6(["tooltip","label","itemName","itemId","seriesName"]),abz=ajq,agT="undefined",adm="e\x00\x00",U9={"float":typeof Float64Array===agT?Array:Float64Array,"int":typeof Int32Array===agT?Array:Int32Array,ordinal:Array,number:Array,time:Array},Q4=typeof Uint32Array===agT?Array:Uint32Array,SF=typeof Uint16Array===agT?Array:Uint16Array,bK=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],TZ=["_extent","_approximateExtent","_rawExtent"],akJ=function(d,h){d=d||["x","y"];for(var k={},c=[],b={},j=0;j<d.length;j++){var g=d[j];ai2(g)&&(g={name:g});var f=g.name;g.type=g.type||"float",g.coordDim||(g.coordDim=f,g.coordDimIndex=0),g.otherDims=g.otherDims||{},c.push(f),k[f]=g,g.index=j,g.createInvertedIndices&&(b[f]=[])}this.dimensions=c,this._dimensionInfos=k,this.hostModel=h,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=100000,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=acm(this),this._invertedIndicesMap=b,this._calculationInfo={}},nJ=akJ.prototype;nJ.type="list",nJ.hasItemOption=!0,nJ.getDimension=function(a){return isNaN(a)||(a=this.dimensions[a]||a),a},nJ.getDimensionInfo=function(a){return this._dimensionInfos[this.getDimension(a)]},nJ.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},nJ.mapDimension=function(b,c){var d=this._dimensionsSummary;if(null==c){return d.encodeFirstDimNotExtra[b]}var a=d.encode[b];return c===!0?(a||[]).slice():a&&a[c]},nJ.initData=function(b,c,d){var a=q1.isInstance(b)||aiX(b);a&&(b=new P8(b,this.dimensions.length)),this._rawData=b,this._storage={},this._indices=null,this._nameList=c||[],this._idList=[],this._nameRepeatCount={},d||(this.hasItemOption=!1),this.defaultDimValueGetter=iF[this._rawData.getSource().sourceFormat],this._dimValueGetter=d=d||this.defaultDimValueGetter,this._rawExtent={},this._initDataFromProvider(0,b.count()),b.pure&&(this.hasItemOption=!1)},nJ.getProvider=function(){return this._rawData},nJ.appendData=function(b){var c=this._rawData,d=this.count();c.appendData(b);var a=c.count();c.persistent||(a+=d),this._initDataFromProvider(d,a)},nJ._initDataFromProvider=function(V,am){if(!(V>=am)){for(var ad,ah=this._chunkSize,ar=this._rawData,ac=this._storage,Z=this.dimensions,X=Z.length,af=this._dimensionInfos,U=this._nameList,ai=this._idList,ao=this._rawExtent,an=this._nameRepeatCount={},al=this._chunkCount,ab=al-1,ak=0;X>ak;ak++){var ae=Z[ak];ao[ae]||(ao[ae]=u4());var Q=af[ae];0===Q.otherDims.itemName&&(ad=this._nameDimIdx=ak),0===Q.otherDims.itemId&&(this._idDimIdx=ak);var H=U9[Q.type];ac[ae]||(ac[ae]=[]);var K=ac[ae][ab];if(K&&K.length<ah){for(var au=new H(Math.min(am-ab*ah,ah)),N=0;N<K.length;N++){au[N]=K[N]}ac[ae][ab]=au}for(var ap=al*ah;am>ap;ap+=ah){ac[ae].push(new H(Math.min(am-ap,ah)))}this._chunkCount=ac[ae].length}for(var q=new Array(X),F=V;am>F;F++){q=ar.getItem(F,q);for(var J=Math.floor(F/ah),j=F%ah,ap=0;X>ap;ap++){var ae=Z[ap],aa=ac[ae][J],W=this._dimValueGetter(q,ae,F,ap);aa[j]=W;var Y=ao[ae];W<Y[0]&&(Y[0]=W),W>Y[1]&&(Y[1]=W)}if(!ar.pure){var G=U[F];if(q&&null==G){if(null!=q.name){U[F]=G=q.name}else{if(null!=ad){var ag=Z[ad],B=ac[ag][J];if(B){G=B[j];var E=af[ag].ordinalMeta;E&&E.categories.length&&(G=E.categories[G])}}}}var z=null==q?null:q.id;null==z&&null!=G&&(an[G]=an[G]||0,z=G,an[G]>0&&(z+="__ec__"+an[G]),an[G]++),null!=z&&(ai[F]=z)}}!ar.persistent&&ar.clean&&ar.clean(),this._rawCount=this._count=am,this._extent={},ajp(this)}},nJ.count=function(){return this._count},nJ.getIndices=function(){var d,f=this._indices;if(f){var g=f.constructor,c=this._count;if(g===Array){d=new g(c);for(var b=0;c>b;b++){d[b]=f[b]}}else{d=new g(f.buffer,0,c)}}else{for(var g=P6(this),d=new g(this.count()),b=0;b<d.length;b++){d[b]=b}}return d},nJ.get=function(d,g){if(!(g>=0&&g<this._count)){return 0/0}var j=this._storage;if(!j[d]){return 0/0}g=this.getRawIndex(g);var c=Math.floor(g/this._chunkSize),b=g%this._chunkSize,h=j[d][c],f=h[b];return f},nJ.getByRawIndex=function(d,f){if(!(f>=0&&f<this._rawCount)){return 0/0}var h=this._storage[d];if(!h){return 0/0}var c=Math.floor(f/this._chunkSize),b=f%this._chunkSize,g=h[c];return g[b]},nJ._getFast=function(d,f){var g=Math.floor(f/this._chunkSize),c=f%this._chunkSize,b=this._storage[d][g];return b[c]},nJ.getValues=function(d,f){var g=[];ai9(d)||(f=d,d=this.dimensions);for(var c=0,b=d.length;b>c;c++){g.push(this.get(d[c],f))}return g},nJ.hasValue=function(d){for(var f=this._dimensionsSummary.dataDimsOnCoord,g=this._dimensionInfos,c=0,b=f.length;b>c;c++){if("ordinal"!==g[f[c]].type&&isNaN(this.get(f[c],d))){return !1}}return !0},nJ.getDataExtent=function(m){m=this.getDimension(m);var h=this._storage[m],d=u4();if(!h){return d}var g,j=this.count(),c=!this._indices;if(c){return this._rawExtent[m].slice()}if(g=this._extent[m]){return g.slice()}g=d;for(var b=g[0],p=g[1],f=0;j>f;f++){var k=this._getFast(m,this.getRawIndex(f));b>k&&(b=k),k>p&&(p=k)}return g=[b,p],this._extent[m]=g,g},nJ.getApproximateExtent=function(a){return a=this.getDimension(a),this._approximateExtent[a]||this.getDataExtent(a)},nJ.setApproximateExtent=function(a,b){b=this.getDimension(b),this._approximateExtent[b]=a.slice()},nJ.getCalculationInfo=function(a){return this._calculationInfo[a]},nJ.setCalculationInfo=function(a,b){abz(a)?aip(this._calculationInfo,a):this._calculationInfo[a]=b},nJ.getSum=function(d){var f=this._storage[d],h=0;if(f){for(var c=0,b=this.count();b>c;c++){var g=this.get(d,c);isNaN(g)||(h+=g)}}return h},nJ.getMedian=function(b){var c=[];this.each(b,function(e){isNaN(e)||c.push(e)});var d=[].concat(c).sort(function(f,g){return f-g}),a=this.count();return 0===a?0:a%2===1?d[(a-1)/2]:(d[a/2]+d[a/2-1])/2},nJ.rawIndexOf=function(b,c){var d=b&&this._invertedIndicesMap[b],a=d[c];return null==a||isNaN(a)?-1:a},nJ.indexOfName=function(a){for(var b=0,c=this.count();c>b;b++){if(this.getName(b)===a){return b}}return -1},nJ.indexOfRawIndex=function(d){if(!this._indices){return d}if(d>=this._rawCount||0>d){return -1}var f=this._indices,h=f[d];if(null!=h&&h<this._count&&h===d){return d}for(var c=0,b=this._count-1;b>=c;){var g=(c+b)/2|0;if(f[g]<d){c=g+1}else{if(!(f[g]>d)){return g}b=g-1}}return -1},nJ.indicesOfNearest=function(w,m,f){var j=this._storage,q=j[w],d=[];if(!q){return d}null==f&&(f=1/0);for(var b=Number.MAX_VALUE,x=-1,g=0,v=this.count();v>g;g++){var k=m-this.get(w,g),p=Math.abs(k);f>=k&&b>=p&&((b>p||k>=0&&0>x)&&(b=p,x=k,d.length=0),d.push(g))}return d},nJ.getRawIndex=tQ,nJ.getRawDataItem=function(b){if(this._rawData.persistent){return this._rawData.getItem(this.getRawIndex(b))}for(var c=[],d=0;d<this.dimensions.length;d++){var a=this.dimensions[d];c.push(this.get(a,b))}return c},nJ.getName=function(a){var b=this.getRawIndex(a);return this._nameList[b]||k7(this,this._nameDimIdx,b)||""},nJ.getId=function(a){return jX(this,this.getRawIndex(a))},nJ.each=function(d,h,k,c){if(this._count){"function"==typeof d&&(c=k,k=h,h=d,d=[]),k=k||c||this,d=aiu(KH(d),this.getDimension,this);for(var b=d.length,j=0;j<this.count();j++){switch(b){case 0:h.call(k,j);break;case 1:h.call(k,this.get(d[0],j),j);break;case 2:h.call(k,this.get(d[0],j),this.get(d[1],j),j);break;default:for(var g=0,f=[];b>g;g++){f[g]=this.get(d[g],j)}f[g]=j,h.apply(k,f)}}}},nJ.filterSelf=function(E,z,k,v){if(this._count){"function"==typeof E&&(v=k,k=z,z=E,E=[]),k=k||v||this,E=aiu(KH(E),this.getDimension,this);for(var C=this.count(),j=P6(this),b=new j(C),F=[],q=E.length,D=0,w=E[0],B=0;C>B;B++){var A,y=this.getRawIndex(B);if(0===q){A=z.call(k,B)}else{if(1===q){var x=this._getFast(w,y);A=z.call(k,x,B)}else{for(var p=0;q>p;p++){F[p]=this._getFast(w,y)}F[p]=B,A=z.apply(k,F)}}A&&(b[D++]=y)}return C>D&&(this._indices=b),this._count=D,this._extent={},this.getRawIndex=this._indices?zj:tQ,this}},nJ.selectRange=function(F){if(this._count){var V=[];for(var L in F){F.hasOwnProperty(L)&&V.push(L)}var P=V.length;if(P){var Z=this.count(),K=P6(this),H=new K(Z),G=0,O=V[0],E=F[O][0],Q=F[O][1],X=!1;if(!this._indices){var W=0;if(1===P){for(var U=this._storage[V[0]],J=0;J<this._chunkCount;J++){for(var R=U[J],N=Math.min(this._count-J*this._chunkSize,this._chunkSize),D=0;N>D;D++){var z=R[D];(z>=E&&Q>=z||isNaN(z))&&(H[G++]=W),W++}}X=!0}else{if(2===P){for(var U=this._storage[O],B=this._storage[V[1]],aa=F[V[1]][0],C=F[V[1]][1],J=0;J<this._chunkCount;J++){for(var R=U[J],Y=B[J],N=Math.min(this._count-J*this._chunkSize,this._chunkSize),D=0;N>D;D++){var z=R[D],k=Y[D];(z>=E&&Q>=z||isNaN(z))&&(k>=aa&&C>=k||isNaN(k))&&(H[G++]=W),W++}}X=!0}}}if(!X){if(1===P){for(var D=0;Z>D;D++){var q=this.getRawIndex(D),z=this._getFast(O,q);(z>=E&&Q>=z||isNaN(z))&&(H[G++]=q)}}else{for(var D=0;Z>D;D++){for(var A=!0,q=this.getRawIndex(D),J=0;P>J;J++){var j=V[J],z=this._getFast(L,q);(z<F[j][0]||z>F[j][1])&&(A=!1)}A&&(H[G++]=this.getRawIndex(D))}}}return Z>G&&(this._indices=H),this._count=G,this._extent={},this.getRawIndex=this._indices?zj:tQ,this}}},nJ.mapArray=function(d,f,g,c){"function"==typeof d&&(c=g,g=f,f=d,d=[]),g=g||c||this;var b=[];return this.each(d,function(){b.push(f&&f.apply(this,arguments))},g),b},nJ.map=function(B,M,F,I){F=F||I||this,B=aiu(KH(B),this.getDimension,this);var Q=Gq(this,B);Q._indices=this._indices,Q.getRawIndex=Q._indices?zj:tQ;for(var E=Q._storage,D=[],C=this._chunkSize,H=B.length,A=this.count(),J=[],O=Q._rawExtent,N=0;A>N;N++){for(var L=0;H>L;L++){J[L]=this.get(B[L],N)}J[H]=N;var K=M&&M.apply(F,J);if(null!=K){"object"!=typeof K&&(D[0]=K,K=D);for(var G=this.getRawIndex(N),z=Math.floor(G/C),k=G%C,p=0;p<K.length;p++){var R=B[p],q=K[p],P=O[R],j=E[R];j&&(j[z][k]=q),q<P[0]&&(P[0]=q),q>P[1]&&(P[1]=q)}}}return Q},nJ.downSample=function(B,N,G,J){for(var R=Gq(this,[B]),F=R._storage,D=[],C=Math.floor(1/N),I=F[B],A=this.count(),K=this._chunkSize,P=R._rawExtent[B],O=new (P6(this))(A),M=0,E=0;A>E;E+=C){C>A-E&&(C=A-E,D.length=C);for(var L=0;C>L;L++){var H=this.getRawIndex(E+L),z=Math.floor(H/K),j=H%K;D[L]=I[z][j]}var k=G(D),S=this.getRawIndex(Math.min(E+J(D,k)||0,A-1)),q=Math.floor(S/K),Q=S%K;I[q][Q]=k,k<P[0]&&(P[0]=k),k>P[1]&&(P[1]=k),O[M++]=S}return R._count=M,R._indices=O,R.getRawIndex=zj,R},nJ.getItemModel=function(a){var b=this.hostModel;return new f0(this.getRawDataItem(a),b,b&&b.ecModel)},nJ.diff=function(a){var b=this;return new aaA(a?a.getIndices():[],this.getIndices(),function(c){return jX(a,c)},function(c){return jX(b,c)})},nJ.getVisual=function(a){var b=this._visual;return b&&b[a]},nJ.setVisual=function(a,b){if(abz(a)){for(var c in a){a.hasOwnProperty(c)&&this.setVisual(c,a[c])}}else{this._visual=this._visual||{},this._visual[a]=b}},nJ.setLayout=function(a,b){if(abz(a)){for(var c in a){a.hasOwnProperty(c)&&this.setLayout(c,a[c])}}else{this._layout[a]=b}},nJ.getLayout=function(a){return this._layout[a]},nJ.getItemLayout=function(a){return this._itemLayouts[a]},nJ.setItemLayout=function(a,b,c){this._itemLayouts[a]=c?aip(this._itemLayouts[a]||{},b):b},nJ.clearItemLayouts=function(){this._itemLayouts.length=0},nJ.getItemVisual=function(d,f,g){var c=this._itemVisuals[d],b=c&&c[f];return null!=b||g?b:this.getVisual(f)},nJ.setItemVisual=function(d,f,h){var c=this._itemVisuals[d]||{},b=this.hasItemVisual;if(this._itemVisuals[d]=c,abz(f)){for(var g in f){f.hasOwnProperty(g)&&(c[g]=f[g],b[g]=!0)}}else{c[f]=h,b[f]=!0}},nJ.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var v3=function(a){a.seriesIndex=this.seriesIndex,a.dataIndex=this.dataIndex,a.dataType=this.dataType};nJ.setItemGraphicEl=function(a,b){var c=this.hostModel;b&&(b.dataIndex=a,b.dataType=this.dataType,b.seriesIndex=c&&c.seriesIndex,"group"===b.type&&b.traverse(v3,b)),this._graphicEls[a]=b},nJ.getItemGraphicEl=function(a){return this._graphicEls[a]},nJ.eachItemGraphicEl=function(a,b){aiT(this._graphicEls,function(d,c){d&&a&&a.call(b,d,c)})},nJ.cloneShallow=function(a){if(!a){var b=aiu(this.dimensions,this.getDimensionInfo,this);a=new akJ(b,this.hostModel)}if(a._storage=this._storage,RG(a,this),this._indices){var c=this._indices.constructor;a._indices=new c(this._indices)}else{a._indices=null}return a.getRawIndex=a._indices?zj:tQ,a},nJ.wrapMethod=function(a,b){var c=this[a];"function"==typeof c&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(a),this[a]=function(){var d=c.apply(this,arguments);return b.apply(this,[d].concat(aiH(arguments)))})},nJ.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],nJ.CHANGABLE_METHODS=["filterSelf","selectRange"];var BQ=function(a,b){return b=b||{},ady(b.coordDimensions||[],a,{dimsDef:b.dimensionsDefine||a.dimensionsDefine,encodeDef:b.encodeDefine||a.encodeDefine,dimCount:b.dimensionsCount,generateCoord:b.generateCoord,generateCoordCount:b.generateCoordCount})};B5.prototype.parse=function(a){return a},B5.prototype.getSetting=function(a){return this._setting[a]},B5.prototype.contain=function(a){var b=this._extent;return a>=b[0]&&a<=b[1]},B5.prototype.normalize=function(a){var b=this._extent;return b[1]===b[0]?0.5:(a-b[0])/(b[1]-b[0])},B5.prototype.scale=function(a){var b=this._extent;return a*(b[1]-b[0])+b[0]},B5.prototype.unionExtent=function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]),a[1]>b[1]&&(b[1]=a[1])},B5.prototype.unionExtentFromData=function(a,b){this.unionExtent(a.getApproximateExtent(b))},B5.prototype.getExtent=function(){return this._extent.slice()},B5.prototype.setExtent=function(a,b){var c=this._extent;isNaN(a)||(c[0]=a),isNaN(b)||(c[1]=b)},B5.prototype.isBlank=function(){return this._isBlank},B5.prototype.setBlank=function(a){this._isBlank=a},B5.prototype.getLabel=null,ahy(B5),abD(B5,{registerWhenExtend:!0}),DG.createByAxisModel=function(b){var c=b.option,d=c.data,a=d&&aiu(d,AU);return new DG({categories:a,needCollect:!a,deduplication:c.dedplication!==!1})};var l6=DG.prototype;l6.getOrdinal=function(a){return fK(this).get(a)},l6.parseAndCollect=function(b){var c,d=this._needCollect;if("string"!=typeof b&&!d){return b}if(d&&!this._deduplication){return c=this.categories.length,this.categories[c]=b,c}var a=fK(this);return c=a.get(b),null==c&&(d?(c=this.categories.length,this.categories[c]=b,a.set(b,c)):c=0/0),c};var L5=B5.prototype,IU=B5.extend({type:"ordinal",init:function(a,b){(!a||ai9(a))&&(a=new DG({categories:a})),this._ordinalMeta=a,this._extent=b||[0,a.categories.length-1]},parse:function(a){return"string"==typeof a?this._ordinalMeta.getOrdinal(a):Math.round(a)},contain:function(a){return a=this.parse(a),L5.contain.call(this,a)&&null!=this._ordinalMeta.categories[a]},normalize:function(a){return L5.normalize.call(this,this.parse(a))},scale:function(a){return Math.round(L5.scale.call(this,a))},getTicks:function(){for(var a=[],b=this._extent,c=b[0];c<=b[1];){a.push(c),c++}return a},getLabel:function(a){return this.isBlank()?void 0:this._ordinalMeta.categories[a]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(a,b){this.unionExtent(a.getApproximateExtent(b))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:ajU,niceExtent:ajU});IU.create=function(){return new IU};var J4=MJ,xF=MJ,aey=B5.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(a,b){var c=this._extent;isNaN(a)||(c[0]=parseFloat(a)),isNaN(b)||(c[1]=parseFloat(b))},unionExtent:function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]),a[1]>b[1]&&(b[1]=a[1]),aey.prototype.setExtent.call(this,b[0],b[1])},getInterval:function(){return this._interval},setInterval:function(a){this._interval=a,this._niceExtent=this._extent.slice(),this._intervalPrecision=d8(a)},getTicks:function(){return iB(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getLabel:function(a,b){if(null==a){return""}var c=b&&b.precision;return null==c?c=VZ(a)||0:"auto"===c&&(c=this._intervalPrecision),a=xF(a,c,!0),ahK(a)},niceTicks:function(d,f,h){d=d||5;var c=this._extent,b=c[1]-c[0];if(isFinite(b)){0>b&&(b=-b,c.reverse());var g=b0(c,d,f,h);this._intervalPrecision=g.intervalPrecision,this._interval=g.interval,this._niceExtent=g.niceTickExtent}},niceExtent:function(d){var f=this._extent;if(f[0]===f[1]){if(0!==f[0]){var g=f[0];d.fixMax?f[0]-=g/2:(f[1]+=g/2,f[0]-=g/2)}else{f[1]=1}}var c=f[1]-f[0];isFinite(c)||(f[0]=0,f[1]=1),this.niceTicks(d.splitNumber,d.minInterval,d.maxInterval);var b=this._interval;d.fixMin||(f[0]=xF(Math.floor(f[0]/b)*b)),d.fixMax||(f[1]=xF(Math.ceil(f[1]/b)*b))}});aey.create=function(){return new aey};var rW="__ec_stack_",s7=0.5,o2="undefined"!=typeof Float32Array?Float32Array:Array,PU={seriesType:"bar",plan:jY(),reset:function(q){function k(a,l){for(var s,r=new o2(2*a.count),o=[],h=[],i=0;null!=(s=a.next());){h[p]=l.get(b,s),h[1-p]=l.get(v,s),o=g.dataToPoint(h,null,o),r[i++]=o[0],r[i++]=o[1]}l.setLayout({largePoints:r,barWidth:j,valueAxisStart:abt(m,c,!1),valueAxisHorizontal:f})}if(ae1(q)&&akC(q)){var d=q.getData(),g=q.coordinateSystem,m=g.getBaseAxis(),c=g.getOtherAxis(m),b=d.mapDimension(c.dim),v=d.mapDimension(m.dim),f=c.isHorizontal(),p=f?0:1,j=aho(n3([q]),m,q).width;return j>s7||(j=s7),{progress:k}}}},Hj=aey.prototype,uK=Math.ceil,LF=Math.floor,jt=1000,EF=60*jt,FZ=60*EF,h1=24*FZ,C3=function(d,f,g,c){for(;c>g;){var b=g+c>>>1;d[b][1]<f?g=b+1:c=b}return g},dW=aey.extend({type:"time",getLabel:function(a){var b=this._stepLvl,c=new Date(a);return Qj(b[0],c,this.getSetting("useUTC"))},niceExtent:function(b){var c=this._extent;if(c[0]===c[1]&&(c[0]-=h1,c[1]+=h1),c[1]===-1/0&&1/0===c[0]){var d=new Date;c[1]=+new Date(d.getFullYear(),d.getMonth(),d.getDate()),c[0]=c[1]-h1}this.niceTicks(b.splitNumber,b.minInterval,b.maxInterval);var a=this._interval;b.fixMin||(c[0]=MJ(LF(c[0]/a)*a)),b.fixMax||(c[1]=MJ(uK(c[1]/a)*a))},niceTicks:function(A,v,j){A=A||10;var m=this._extent,y=m[1]-m[0],g=y/A;null!=v&&v>g&&(g=v),null!=j&&g>j&&(g=j);var b=gH.length,B=C3(gH,g,0,b),k=gH[Math.min(B,b-1)],z=k[1];if("year"===k[0]){var p=y/z,x=ac1(p/A,!0);z*=x}var w=this.getSetting("useUTC")?0:60*new Date(+m[0]||+m[1]).getTimezoneOffset()*1000,q=[Math.round(uK((m[0]-w)/z)*z+w),Math.round(LF((m[1]-w)/z)*z+w)];ad9(q,m),this._stepLvl=k,this._interval=z,this._niceExtent=q},parse:function(a){return +abe(a)}});aiT(["contain","normalize"],function(a){dW.prototype[a]=function(b){return Hj[a].call(this,this.parse(b))}});var gH=[["hh:mm:ss",jt],["hh:mm:ss",5*jt],["hh:mm:ss",10*jt],["hh:mm:ss",15*jt],["hh:mm:ss",30*jt],["hh:mm\nMM-dd",EF],["hh:mm\nMM-dd",5*EF],["hh:mm\nMM-dd",10*EF],["hh:mm\nMM-dd",15*EF],["hh:mm\nMM-dd",30*EF],["hh:mm\nMM-dd",FZ],["hh:mm\nMM-dd",2*FZ],["hh:mm\nMM-dd",6*FZ],["hh:mm\nMM-dd",12*FZ],["MM-dd\nyyyy",h1],["MM-dd\nyyyy",2*h1],["MM-dd\nyyyy",3*h1],["MM-dd\nyyyy",4*h1],["MM-dd\nyyyy",5*h1],["MM-dd\nyyyy",6*h1],["week",7*h1],["MM-dd\nyyyy",10*h1],["week",14*h1],["week",21*h1],["month",31*h1],["week",42*h1],["month",62*h1],["week",70*h1],["quarter",95*h1],["month",31*h1*4],["month",31*h1*5],["half-year",380*h1/2],["month",31*h1*8],["month",31*h1*10],["year",380*h1]];dW.create=function(a){return new dW({useUTC:a.ecModel.get("useUTC")})};var e6=B5.prototype,ae6=aey.prototype,kV=VZ,aaY=MJ,yY=Math.floor,NG=Math.ceil,z8=Math.pow,qt=Math.log,X6=B5.extend({type:"log",base:10,$constructor:function(){B5.apply(this,arguments),this._originalScale=new aey},getTicks:function(){var a=this._originalScale,b=this._extent,c=a.getExtent();return aiu(ae6.getTicks.call(this),function(e){var d=MJ(z8(this.base,e));return d=e===b[0]&&a.__fixMin?Y8(d,c[0]):d,d=e===b[1]&&a.__fixMax?Y8(d,c[1]):d},this)},getLabel:ae6.getLabel,scale:function(a){return a=e6.scale.call(this,a),z8(this.base,a)},setExtent:function(a,b){var c=this.base;a=qt(a)/qt(c),b=qt(b)/qt(c),ae6.setExtent.call(this,a,b)},getExtent:function(){var b=this.base,c=e6.getExtent.call(this);c[0]=z8(b,c[0]),c[1]=z8(b,c[1]);var d=this._originalScale,a=d.getExtent();return d.__fixMin&&(c[0]=Y8(c[0],a[0])),d.__fixMax&&(c[1]=Y8(c[1],a[1])),c},unionExtent:function(a){this._originalScale.unionExtent(a);var b=this.base;a[0]=qt(a[0])/qt(b),a[1]=qt(a[1])/qt(b),e6.unionExtent.call(this,a)},unionExtentFromData:function(a,b){this.unionExtent(a.getApproximateExtent(b))},niceTicks:function(d){d=d||10;var f=this._extent,h=f[1]-f[0];if(!(1/0===h||0>=h)){var c=YQ(h),b=d/h*c;for(0.5>=b&&(c*=10);!isNaN(c)&&Math.abs(c)<1&&Math.abs(c)>0;){c*=10}var g=[MJ(NG(f[0]/c)*c),MJ(yY(f[1]/c)*c)];this._interval=c,this._niceExtent=g}},niceExtent:function(a){ae6.niceExtent.call(this,a);var b=this._originalScale;b.__fixMin=a.fixMin,b.__fixMax=a.fixMax}});aiT(["contain","normalize"],function(a){X6.prototype[a]=function(b){return b=qt(b)/qt(this.base),e6[a].call(this,b)}}),X6.create=function(){return new X6};var ah6={getMin:function(a){var b=this.option,c=a||null==b.rangeStart?b.min:b.rangeStart;return this.axis&&null!=c&&"dataMin"!==c&&"function"!=typeof c&&!aka(c)&&(c=this.axis.scale.parse(c)),c},getMax:function(a){var b=this.option,c=a||null==b.rangeEnd?b.max:b.rangeEnd;return this.axis&&null!=c&&"dataMax"!==c&&"function"!=typeof c&&!aka(c)&&(c=this.axis.scale.parse(c)),c},getNeedCrossZero:function(){var a=this.option;return null!=a.rangeStart||null!=a.rangeEnd?!1:!a.scale},getCoordSysModel:ajU,setRange:function(a,b){this.option.rangeStart=a,this.option.rangeEnd=b},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},acN=xK({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(d,f){var h=f.cx,c=f.cy,b=f.width/2,g=f.height/2;d.moveTo(h,c-g),d.lineTo(h+b,c+g),d.lineTo(h-b,c+g),d.closePath()}}),afJ=xK({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(d,f){var h=f.cx,c=f.cy,b=f.width/2,g=f.height/2;d.moveTo(h,c-g),d.lineTo(h+b,c),d.lineTo(h,c+g),d.lineTo(h-b,c),d.closePath()}}),ak1=xK({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(C,x){var k=x.x,q=x.y,A=x.width/5*3,j=Math.max(A,x.height),b=A/2,D=b*b/(j-b),m=q-j+b+D,B=Math.asin(D/b),v=Math.cos(B)*b,z=Math.sin(B),y=Math.cos(B),w=0.6*b,g=0.7*b;C.moveTo(k-v,m+D),C.arc(k,m,b,Math.PI-B,2*Math.PI+B),C.bezierCurveTo(k+v-z*w,m+D+y*w,k,q-g,k,q),C.bezierCurveTo(k,q-g,k-v+z*w,m+D+y*w,k-v,m+D),C.closePath()}}),acc=xK({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(d,g){var j=g.height,c=g.width,b=g.x,h=g.y,f=c/3*2;d.moveTo(b,h),d.lineTo(b+f,h+j),d.lineTo(b,h+j/4*3),d.lineTo(b-f,h+j),d.lineTo(b,h),d.closePath()}}),aaq={line:adf,rect:agM,roundRect:agM,square:agM,circle:aah,diamond:afJ,pin:ak1,arrow:acc,triangle:acN},ZH={line:function(d,f,g,c,b){b.x1=d,b.y1=f+c/2,b.x2=d+g,b.y2=f+c/2},rect:function(d,f,g,c,b){b.x=d,b.y=f,b.width=g,b.height=c},roundRect:function(d,f,g,c,b){b.x=d,b.y=f,b.width=g,b.height=c,b.r=Math.min(g,c)/4},square:function(d,f,h,c,b){var g=Math.min(h,c);b.x=d,b.y=f,b.width=g,b.height=g},circle:function(d,f,g,c,b){b.cx=d+g/2,b.cy=f+c/2,b.r=Math.min(g,c)/2},diamond:function(d,f,g,c,b){b.cx=d+g/2,b.cy=f+c/2,b.width=g,b.height=c},pin:function(d,f,g,c,b){b.x=d+g/2,b.y=f+c/2,b.width=g,b.height=c},arrow:function(d,f,g,c,b){b.x=d+g/2,b.y=f+c/2,b.width=g,b.height=c},triangle:function(d,f,g,c,b){b.cx=d+g/2,b.cy=f+c/2,b.width=g,b.height=c}},adZ={};aiT(aaq,function(a,b){adZ[b]=new a});var WW=xK({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var a=this.style,b=this.shape;"pin"===b.symbolType&&"inside"===a.textPosition&&(a.textPosition=["50%","40%"],a.textAlign="center",a.textVerticalAlign="middle")},buildPath:function(d,f,g){var c=f.symbolType,b=adZ[c];"none"!==f.symbolType&&(b||(c="rect",b=adZ[c]),ZH[c](f.x,f.y,f.width,f.height,b.shape),b.buildPath(d,b.shape,g))}}),agk={isDimensionStacked:NX,enableDataStack:mK,getStackedDimension:E0},aj8=(Object.freeze||Object)({createList:PF,getLayoutRect:lq,dataStack:agk,createScale:QY,mixinAxisModelCommonMethods:aZ,completeDimensions:ady,createDimensions:BQ,createSymbol:TQ}),ai7=1e-8;l0.prototype={constructor:l0,properties:null,getBoundingRect:function(){var k=this._rect;if(k){return k}for(var h=Number.MAX_VALUE,d=[h,h],g=[-h,-h],j=[],c=[],b=this.geometries,m=0;m<b.length;m++){if("polygon"===b[m].type){var f=b[m].exterior;a6(f,j,c),Zq(d,d,j),X1(g,g,c)}}return 0===m&&(d[0]=d[1]=g[0]=g[1]=0),this._rect=new acw(d[0],d[1],g[0]-d[0],g[1]-d[1])},contain:function(d){var h=this.getBoundingRect(),k=this.geometries;if(!h.contain(d[0],d[1])){return !1}d:for(var c=0,b=k.length;b>c;c++){if("polygon"===k[c].type){var j=k[c].exterior,g=k[c].interiors;if(ajV(j,d[0],d[1])){for(var f=0;f<(g?g.length:0);f++){if(ajV(g[f])){continue d}}return !0}}}return !1},transformTo:function(A,v,j,m){var y=this.getBoundingRect(),g=y.width/y.height;j?m||(m=j/g):j=g*m;for(var b=new acw(A,v,j,m),B=y.calculateTransform(b),k=this.geometries,z=0;z<k.length;z++){if("polygon"===k[z].type){for(var p=k[z].exterior,x=k[z].interiors,w=0;w<p.length;w++){abw(p[w],p[w],B)}for(var q=0;q<(x?x.length:0);q++){for(var w=0;w<x[q].length;w++){abw(x[q][w],x[q][w],B)}}}}y=this._rect,y.copy(b),this.center=[y.x+y.width/2,y.y+y.height/2]},cloneShallow:function(a){null==a&&(a=this.name);var b=new l0(a,this.geometries,this.center);return b._rect=this._rect,b.transformTo=null,b}};var ahw=function(a){return ut(a),aiu(aiB(a.features,function(b){return b.geometry&&b.properties&&b.geometry.coordinates.length>0}),function(d){var f=d.properties,h=d.geometry,c=h.coordinates,b=[];"Polygon"===h.type&&b.push({type:"polygon",exterior:c[0],interiors:c.slice(1)}),"MultiPolygon"===h.type&&aiT(c,function(e){e[0]&&b.push({type:"polygon",exterior:e[0],interiors:e.slice(1)})});var g=new l0(f.name,b,f.cp);return g.properties=f,g})},abB=aeq(),agV=[0,1],ado=function(a,b,c){this.dim=a,this.scale=b,this._extent=c||[0,0],this.inverse=!1,this.onBand=!1};ado.prototype={constructor:ado,contain:function(b){var c=this._extent,d=Math.min(c[0],c[1]),a=Math.max(c[0],c[1]);return b>=d&&a>=b},containData:function(a){return this.contain(this.dataToCoord(a))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(a){return ag9(a||this.scale.getExtent(),this._extent)},setExtent:function(a,b){var c=this._extent;c[0]=a,c[1]=b},dataToCoord:function(b,c){var d=this._extent,a=this.scale;return b=a.normalize(b),this.onBand&&"ordinal"===a.type&&(d=d.slice(),D8(d,a.count())),Z7(b,agV,d,c)},coordToData:function(d,f){var g=this._extent,c=this.scale;this.onBand&&"ordinal"===c.type&&(g=g.slice(),D8(g,c.count()));var b=Z7(d,g,agV,f);return this.scale.scale(b)},pointToData:function(){},getTicksCoords:function(d){d=d||{};var f=d.tickModel||this.getTickModel(),h=K8(this,f),c=h.ticks,b=aiu(c,function(a){return{coord:this.dataToCoord(a),tickValue:a}},this),g=f.get("alignWithLabel");return gj(this,b,h.tickCategoryInterval,g,d.clamp),b},getViewLabels:function(){return kG(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var b=this._extent,c=this.scale.getExtent(),d=c[1]-c[0]+(this.onBand?1:0);0===d&&(d=1);var a=Math.abs(b[1]-b[0]);return Math.abs(a)/d},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return FQ(this)}};var Vq=ahw,Q6={};aiT(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(a){Q6[a]=WX[a]});var SH={};aiT(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(a){SH[a]=rG[a]});var bQ=function(a){this._axes={},this._dimList=[],this.name=a||""};bQ.prototype={constructor:bQ,type:"cartesian",getAxis:function(a){return this._axes[a]},getAxes:function(){return aiu(this._dimList,BB,this)},getAxesByScale:function(a){return a=a.toLowerCase(),aiB(this.getAxes(),function(b){return b.scale.type===a})},addAxis:function(a){var b=a.dim;this._axes[b]=a,this._dimList.push(b)},dataToCoord:function(a){return this._dataCoordConvert(a,"dataToCoord")},coordToData:function(a){return this._dataCoordConvert(a,"coordToData")},_dataCoordConvert:function(d,g){for(var j=this._dimList,c=d instanceof Array?[]:{},b=0;b<j.length;b++){var h=j[b],f=this._axes[h];c[h]=f[g](d[h])}return c}},cj.prototype={constructor:cj,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(a){var b=this.getAxis("x"),c=this.getAxis("y");return b.contain(b.toLocalCoord(a[0]))&&c.contain(c.toLocalCoord(a[1]))},containData:function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},dataToPoint:function(d,f,g){var c=this.getAxis("x"),b=this.getAxis("y");return g=g||[],g[0]=c.toGlobalCoord(c.dataToCoord(d[0])),g[1]=b.toGlobalCoord(b.dataToCoord(d[1])),g},clampData:function(d,h){var k=this.getAxis("x").scale,c=this.getAxis("y").scale,b=k.getExtent(),j=c.getExtent(),g=k.parse(d[0]),f=c.parse(d[1]);return h=h||[],h[0]=Math.min(Math.max(Math.min(b[0],b[1]),g),Math.max(b[0],b[1])),h[1]=Math.min(Math.max(Math.min(j[0],j[1]),f),Math.max(j[0],j[1])),h},pointToData:function(b,c){var d=this.getAxis("x"),a=this.getAxis("y");return c=c||[],c[0]=d.coordToData(d.toLocalCoord(b[0])),c[1]=a.coordToData(a.toLocalCoord(b[1])),c},getOtherAxis:function(a){return this.getAxis("x"===a.dim?"y":"x")}},aiP(cj,bQ);var T1=function(d,f,g,c,b){ado.call(this,d,f,g),this.type=c||"value",this.position=b||"bottom"};T1.prototype={constructor:T1,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},getGlobalExtent:function(a){var b=this.getExtent();return b[0]=this.toGlobalCoord(b[0]),b[1]=this.toGlobalCoord(b[1]),a&&b[0]>b[1]&&b.reverse(),b},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(a,b){return this.coordToData(this.toLocalCoord(a["x"===this.dim?0:1]),b)},toLocalCoord:null,toGlobalCoord:null},aiP(T1,ado);var akL={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},nQ={};nQ.categoryAxis=ai5({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},akL),nQ.valueAxis=ai5({boundaryGap:[0,0],splitNumber:5},akL),nQ.timeAxis=ain({scale:!0,min:"dataMin",max:"dataMax"},nQ.valueAxis),nQ.logAxis=ain({scale:!0,logBase:10},nQ.valueAxis);var v5=["value","category","time","log"],BV=function(b,c,d,a){aiT(v5,function(e){c.extend({type:b+"Axis."+e,mergeDefaultAndTheme:function(j,g){var k=this.layoutMode,h=k?KQ(j):{},f=g.getTheme();ai5(j,f.get(e+"Axis")),ai5(j,this.getDefaultOption()),j.type=d(b,j),k&&j1(j,h,k)},optionUpdated:function(){var f=this.option;"category"===f.type&&(this.__ordinalMeta=DG.createByAxisModel(this))},getCategories:function(f){var g=this.option;return"category"===g.type?f?g.data:this.__ordinalMeta.categories:void 0},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:aix([{},nQ[e+"Axis"],a],!0)})}),akQ.registerSubTypeDefaulter(b+"Axis",aie(d,b))},l8=akQ.extend({type:"cartesian2dAxis",axis:null,init:function(){l8.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){l8.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){l8.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});ai5(l8.prototype,ah6);var L6={offset:0};BV("x",l8,e0,L6),BV("y",l8,e0,L6),akQ.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var IW=aes.prototype;IW.type="grid",IW.axisPointerEnabled=!0,IW.getRect=function(){return this._rect},IW.update=function(b,c){var d=this._axesMap;this._updateScale(b,this.model),aiT(d.x,function(e){U3(e.scale,e.model)}),aiT(d.y,function(e){U3(e.scale,e.model)});var a={};aiT(d.x,function(e){i6(d,"y",e,a)}),aiT(d.y,function(e){i6(d,"x",e,a)}),this.resize(this.model,c)},IW.resize=function(d,f,h){function c(){aiT(g,function(j){var k=j.isHorizontal(),l=k?[0,b.width]:[0,b.height],a=j.inverse?1:0;j.setExtent(l[a],l[1-a]),w8(j,k?b.x:b.y)})}var b=lq(d.getBoxLayoutParams(),{width:f.getWidth(),height:f.getHeight()});this._rect=b;var g=this._axesList;c(),!h&&d.get("containLabel")&&(aiT(g,function(j){if(!j.model.get("axisLabel.inside")){var k=aaS(j);if(k){var l=j.isHorizontal()?"height":"width",a=j.model.get("axisLabel.margin");b[l]-=k[l]+a,"top"===j.position?b.y+=k.height+a:"left"===j.position&&(b.x+=k.width+a)}}}),c())},IW.getAxis=function(b,c){var d=this._axesMap[b];if(null!=d){if(null==c){for(var a in d){if(d.hasOwnProperty(a)){return d[a]}}}return d[c]}},IW.getAxes=function(){return this._axesList.slice()},IW.getCartesian=function(d,f){if(null!=d&&null!=f){var g="x"+d+"y"+f;return this._coordsMap[g]}ajq(d)&&(f=d.yAxisIndex,d=d.xAxisIndex);for(var c=0,b=this._coordsList;c<b.length;c++){if(b[c].getAxis("x").index===d||b[c].getAxis("y").index===f){return b[c]}}},IW.getCartesians=function(){return this._coordsList.slice()},IW.convertToPixel=function(b,c,d){var a=this._findConvertTarget(b,c);return a.cartesian?a.cartesian.dataToPoint(d):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(d)):null},IW.convertFromPixel=function(b,c,d){var a=this._findConvertTarget(b,c);return a.cartesian?a.cartesian.pointToData(d):a.axis?a.axis.coordToData(a.axis.toLocalCoord(d)):null},IW._findConvertTarget=function(p,k){var d,g,m=k.seriesModel,c=k.xAxisModel||m&&m.getReferringComponents("xAxis")[0],b=k.yAxisModel||m&&m.getReferringComponents("yAxis")[0],q=k.gridModel,f=this._coordsList;if(m){d=m.coordinateSystem,aij(f,d)<0&&(d=null)}else{if(c&&b){d=this.getCartesian(c.componentIndex,b.componentIndex)}else{if(c){g=this.getAxis("x",c.componentIndex)}else{if(b){g=this.getAxis("y",b.componentIndex)}else{if(q){var j=q.coordinateSystem;j===this&&(d=this._coordsList[0])}}}}}return{cartesian:d,axis:g}},IW.containPoint=function(a){var b=this._coordsList[0];return b?b.containPoint(a):void 0},IW._initCartesian=function(d,f){function h(a){return function(m,k){if(dH(m,d,f)){var e=m.get("position");"x"===a?"top"!==e&&"bottom"!==e&&(e="bottom",c[e]&&(e="top"===e?"bottom":"top")):"left"!==e&&"right"!==e&&(e="left",c[e]&&(e="left"===e?"right":"left")),c[e]=!0;var i=new T1(a,afB(m),[0,0],m.get("type"),e),j="category"===i.type;i.onBand=j&&m.get("boundaryGap"),i.inverse=m.get("inverse"),m.axis=i,i.model=m,i.grid=this,i.index=k,this._axesList.push(i),b[a][k]=i,g[a]++}}}var c={left:!1,right:!1,top:!1,bottom:!1},b={x:{},y:{}},g={x:0,y:0};return f.eachComponent("xAxis",h("x"),this),f.eachComponent("yAxis",h("y"),this),g.x&&g.y?(this._axesMap=b,void aiT(b.x,function(a,i){aiT(b.y,function(j,e){var l="x"+i+"y"+e,k=new cj(l);k.grid=this,k.model=d,this._coordsMap[l]=k,this._coordsList.push(k),k.addAxis(a),k.addAxis(j)},this)},this)):(this._axesMap={},void (this._axesList=[]))},IW._updateScale=function(a,b){function c(d,f){aiT(d.mapDimension(f.dim,!0),function(e){f.scale.unionExtentFromData(d,E0(d,e))})}aiT(this._axesList,function(d){d.scale.setExtent(1/0,-1/0)}),a.eachSeries(function(g){if(yK(g)){var e=MX(g,a),n=e[0],m=e[1];if(!dH(n,b,a)||!dH(m,b,a)){return}var k=this.getCartesian(n.componentIndex,m.componentIndex),d=g.getData(),f=k.getAxis("x"),j=k.getAxis("y");"list"===d.type&&(c(d,f,g),c(d,j,g))}},this)},IW.getTooltipAxes=function(a){var b=[],c=[];return aiT(this.getCartesians(),function(e){var d=null!=a&&"auto"!==a?e.getAxis(a):e.getBaseAxis(),f=e.getOtherAxis(d);aij(b,d)<0&&b.push(d),aij(c,f)<0&&c.push(f)}),{baseAxes:b,otherAxes:c}};var J6=["xAxis","yAxis"];aes.create=function(a,b){var c=[];return a.eachComponent("grid",function(e,d){var f=new aes(e,a,b);f.name="grid_"+d,f.resize(e,b,!0),e.coordinateSystem=f,c.push(f)}),a.eachSeries(function(h){if(yK(h)){var k=MX(h,a),f=k[0],d=k[1],j=f.getCoordSysModel(),g=j.coordinateSystem;h.coordinateSystem=g.getCartesian(f.componentIndex,d.componentIndex)}}),c},aes.dimensions=aes.prototype.dimensions=cj.prototype.dimensions,VX.register("cartesian2d",aes);var xH=fQ.extend({type:"series.__base_bar__",getInitialData:function(){return r8(this.getSource(),this)},getMarkerPosition:function(d){var g=this.coordinateSystem;if(g){var j=g.dataToPoint(g.clampData(d)),c=this.getData(),b=c.getLayout("offset"),h=c.getLayout("size"),f=g.getBaseAxis().isHorizontal()?0:1;return j[f]+=b+h/2,j}return[0/0,0/0]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3000,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});xH.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return this.get("large")?this.get("progressive"):!1},getProgressiveThreshold:function(){var a=this.get("progressiveThreshold"),b=this.get("largeThreshold");return b>a&&(a=b),a}});var aeA=zB([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),rY={getBarItemStyle:function(a){var b=aeA(this,a);if(this.getBorderLineDash){var c=this.getBorderLineDash();c&&(b.lineDash=c)}return b}},s9=["itemStyle","barBorderWidth"];aip(f0.prototype,rY),Uq({type:"bar",render:function(b,c,d){this._updateDrawMode(b);var a=b.get("coordinateSystem");return("cartesian2d"===a||"polar"===a)&&(this._isLargeDraw?this._renderLarge(b,c,d):this._renderNormal(b,c,d)),this.group},incrementalPrepareRender:function(a){this._clear(),this._updateDrawMode(a)},incrementalRender:function(a,b){this._incrementalRenderLarge(a,b)},_updateDrawMode:function(a){var b=a.pipelineContext.large;(null==this._isLargeDraw||b^this._isLargeDraw)&&(this._isLargeDraw=b,this._clear())},_renderNormal:function(d){var h,k=this.group,c=d.getData(),b=this._data,j=d.coordinateSystem,g=j.getBaseAxis();"cartesian2d"===j.type?h=g.isHorizontal():"polar"===j.type&&(h="angle"===g.dim);var f=d.isAnimationEnabled()?d:null;c.diff(b).add(function(i){if(c.hasValue(i)){var n=c.getItemModel(i),e=PW[j.type](c,i,n),m=o4[j.type](c,i,n,e,h,f);c.setItemGraphicEl(i,m),k.add(m),akK(m,c,i,n,e,d,h,"polar"===j.type)}}).update(function(m,a){var e=b.getItemGraphicEl(a);if(!c.hasValue(m)){return void k.remove(e)}var i=c.getItemModel(m),n=PW[j.type](c,m,i);e?q5(e,{shape:n},f,m):e=o4[j.type](c,m,i,n,h,f,!0),c.setItemGraphicEl(m,e),k.add(e),akK(e,c,m,i,n,d,h,"polar"===j.type)}).remove(function(a){var i=b.getItemGraphicEl(a);"cartesian2d"===j.type?i&&acb(a,f,i):i&&ae7(a,f,i)}).execute(),this._data=c},_renderLarge:function(a){this._clear(),ZG(a,this.group)},_incrementalRenderLarge:function(a,b){ZG(b,this.group,!0)},dispose:ajU,remove:function(a){this._clear(a)},_clear:function(a){var b=this.group,c=this._data;a&&a.get("animation")&&c&&!this._isLargeDraw?c.eachItemGraphicEl(function(d){"sector"===d.type?ae7(d.dataIndex,a,d):acb(d.dataIndex,a,d)}):b.removeAll(),this._data=null}});var o4={cartesian2d:function(r,k,d,g,p,b,v){var f=new agM({shape:aip({},g)});if(b){var q=f.shape,j=p?"height":"width",m={};q[j]=0,m[j]=g[j],rG[v?"updateProps":"initProps"](f,{shape:m},b,k)}return f},polar:function(x,p,g,k,v,f,b){var j=k.startAngle<k.endAngle,w=new WB({shape:ain({clockwise:j},k)});if(f){var m=w.shape,s=v?"r":"endAngle",q={};m[s]=v?0:k.startAngle,q[s]=k[s],rG[b?"updateProps":"initProps"](w,{shape:q},f,p)}return w}},PW={cartesian2d:function(d,g,j){var c=d.getItemLayout(g),b=abA(j,c),h=c.width>0?1:-1,f=c.height>0?1:-1;return{x:c.x+h*b/2,y:c.y+f*b/2,width:c.width-h*b,height:c.height-f*b}},polar:function(a,b){var c=a.getItemLayout(b);return{cx:c.cx,cy:c.cy,r0:c.r0,r:c.r,startAngle:c.startAngle,endAngle:c.endAngle}}},Ht=h5.extend({type:"largeBar",shape:{points:[]},buildPath:function(d,f){for(var h=f.points,c=this.__startPoint,b=this.__valueIdx,g=0;g<h.length;g+=2){c[this.__valueIdx]=h[g+b],d.moveTo(c[0],c[1]),d.lineTo(h[g],h[g+1])}}}),uU=Math.PI,LH=function(a,b){this.opt=b,this.axisModel=a,ain(b,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new jG;var c=new jG({position:b.position.slice(),rotation:b.rotation});c.updateTransform(),this._transform=c.transform,this._dumbGroup=c};LH.prototype={constructor:LH,hasBuilder:function(a){return !!jF[a]},add:function(a){jF[a].call(this)},getGroup:function(){return this.group}};var jF={axisLine:function(){var w=this.opt,m=this.axisModel;if(m.get("axisLine.show")){var f=this.axisModel.axis.getExtent(),j=this._transform,r=[f[0],0],b=[f[1],0];j&&(abw(r,r,j),abw(b,b,j));var x=aip({lineCap:"round"},m.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new adf(abT({anid:"line",shape:{x1:r[0],y1:r[1],x2:b[0],y2:b[1]},style:x,strokeContainThreshold:w.strokeContainThreshold||5,silent:!0,z2:1})));var g=m.get("axisLine.symbol"),v=m.get("axisLine.symbolSize"),k=m.get("axisLine.symbolOffset")||0;if("number"==typeof k&&(k=[k,k]),null!=g){"string"==typeof g&&(g=[g,g]),("string"==typeof v||"number"==typeof v)&&(v=[v,v]);var q=v[0],p=v[1];aiT([{rotate:w.rotation+Math.PI/2,offset:k[0],r:0},{rotate:w.rotation-Math.PI/2,offset:k[1],r:Math.sqrt((r[0]-b[0])*(r[0]-b[0])+(r[1]-b[1])*(r[1]-b[1]))}],function(d,l){if("none"!==g[l]&&null!=g[l]){var a=TQ(g[l],-q/2,-p/2,q,p,x.stroke,!0),h=d.r+d.offset,c=[r[0]+h*Math.cos(w.rotation),r[1]-h*Math.sin(w.rotation)];a.attr({rotation:d.rotate,position:c,silent:!0}),this.group.add(a)}},this)}}},axisTickLabel:function(){var b=this.axisModel,c=this.opt,d=agj(this,b,c),a=acM(this,b,c);ai6(b,a,d)},axisName:function(){var A=this.opt,L=this.axisModel,E=aj0(A.axisName,L.get("name"));if(E){var H,P=L.get("nameLocation"),D=A.nameDirection,B=L.getModel("nameTextStyle"),G=L.get("nameGap")||0,z=this.axisModel.axis.getExtent(),I=z[0]>z[1]?-1:1,N=["start"===P?z[0]-I*G:"end"===P?z[1]+I*G:(z[0]+z[1])/2,aaZ(P)?A.labelOffset+D*G:0],M=L.get("nameRotate");null!=M&&(M=M*uU/180);var K;aaZ(P)?H=EH(A.rotation,null!=M?M:A.rotation,D):(H=Vj(A,P,M||0,z),K=A.axisNameAvailableWidth,null!=K&&(K=Math.abs(K/Math.sin(H.rotation)),!isFinite(K)&&(K=null)));var C=B.getFont(),J=L.get("nameTruncate",!0)||{},F=J.ellipsis,r=aj0(A.nameTruncateMaxWidth,J.maxWidth,K),j=null!=F&&null!=r?aaR(E,r,C,F,{minChar:2,placeholder:J.placeholder}):E,k=L.get("tooltip",!0),Q=L.mainType,q={componentType:Q,name:E,$vars:["name"]};q[Q+"Index"]=L.componentIndex;var O=new ab3({anid:"name",__fullText:E,__truncatedText:j,position:N,rotation:H.rotation,silent:afI(L),z2:1,tooltip:k&&k.show?aip({content:E,formatter:function(){return E},formatterParams:q},k):null});lG(O.style,B,{text:j,textFont:C,textFill:B.getTextColor()||L.get("axisLine.lineStyle.color"),textAlign:H.textAlign,textVerticalAlign:H.textVerticalAlign}),L.get("triggerEvent")&&(O.eventData=adn(L),O.eventData.targetType="axisName",O.eventData.name=E),this._dumbGroup.add(O),O.updateTransform(),this.group.add(O),O.decomposeTransform()}}},EH=LH.innerTextLayout=function(d,f,h){var c,b,g=aeO(f-d);return akn(g)?(b=h>0?"top":"bottom",c="center"):akn(g-uU)?(b=h>0?"bottom":"top",c="center"):(b="middle",c=g>0&&uU>g?h>0?"right":"left":h>0?"left":"right"),{rotation:g,textAlign:c,textVerticalAlign:b}},F1=aiT,h3=aie,C5=W6({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(b,c,d,a){this.axisPointerClass&&l7(b),C5.superApply(this,"render",arguments),Hq(this,b,c,d,a,!0)},updateAxisPointer:function(b,c,d,a){Hq(this,b,c,d,a,!1)},remove:function(a,b){var c=this._axisPointer;c&&c.remove(b),C5.superApply(this,"remove",arguments)},dispose:function(a,b){IV(this,b),C5.superApply(this,"dispose",arguments)}}),dY=[];C5.registerAxisPointerClass=function(a,b){dY[a]=b},C5.getAxisPointerClass=function(a){return a&&dY[a]};var gK=["axisLine","axisTickLabel","axisName"],e8=["splitArea","splitLine"],ae8=C5.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(d,h,k,c){this.group.removeAll();var b=this._axisGroup;if(this._axisGroup=new jG,this.group.add(this._axisGroup),d.get("show")){var j=d.getCoordSysModel(),g=v4(j,d),f=new LH(d,g);aiT(gK,f.add,f),this._axisGroup.add(f.getGroup()),aiT(e8,function(a){d.get(a+".show")&&this["_"+a](d,j)},this),JF(b,this._axisGroup,d),ae8.superCall(this,"render",d,h,k,c)}},remove:function(){this._splitAreaColors=null},_splitLine:function(H,B){var q=H.axis;if(!q.scale.isBlank()){var x=H.getModel("splitLine"),E=x.getModel("lineStyle"),k=E.get("color");k=ai9(k)?k:[k];for(var b=B.coordinateSystem.getRect(),w=q.isHorizontal(),G=0,y=q.getTicksCoords({tickModel:x}),D=[],C=[],A=E.getLineStyle(),j=0;j<y.length;j++){var z=q.toGlobalCoord(y[j].coord);w?(D[0]=z,D[1]=b.y,C[0]=z,C[1]=b.y+b.height):(D[0]=b.x,D[1]=z,C[0]=b.x+b.width,C[1]=z);var s=G++%k.length,F=y[j].tickValue;this._axisGroup.add(new adf(abT({anid:null!=F?"line_"+y[j].tickValue:null,shape:{x1:D[0],y1:D[1],x2:C[0],y2:C[1]},style:ain({stroke:k[s]},A),silent:!0})))}}},_splitArea:function(B,M){var F=B.axis;if(!F.scale.isBlank()){var I=B.getModel("splitArea"),Q=I.getModel("areaStyle"),E=Q.get("color"),C=M.coordinateSystem.getRect(),H=F.getTicksCoords({tickModel:I,clamp:!0});if(H.length){var A=E.length,J=this._splitAreaColors,O=aj6(),N=0;if(J){for(var L=0;L<H.length;L++){var D=J.get(H[L].tickValue);if(null!=D){N=(D+(A-1)*L)%A;break}}}var K=F.toGlobalCoord(H[0].coord),G=Q.getAreaStyle();E=ai9(E)?E:[E];for(var L=1;L<H.length;L++){var z,k,q,s,P=F.toGlobalCoord(H[L].coord);F.isHorizontal()?(z=K,k=C.y,q=P-z,s=C.height,K=z+q):(z=C.x,k=K,q=C.width,s=P-k,K=k+s);var j=H[L-1].tickValue;null!=j&&O.set(j,N),this._axisGroup.add(new agM({anid:null!=j?"area_"+j:null,shape:{x:z,y:k,width:q,height:s},style:ain({fill:E[N]},G),silent:!0})),N=(N+1)%A}this._splitAreaColors=O}}}});ae8.extend({type:"xAxis"}),ae8.extend({type:"yAxis"}),W6({type:"grid",render:function(a){this.group.removeAll(),a.get("show")&&this.group.add(new agM({shape:a.coordinateSystem.getRect(),style:ain({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))}}),w3(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})}),abL(aie(ab4,"bar")),abL(PU),aeK({seriesType:"bar",reset:function(a){a.getData().setVisual("legendSymbol","roundRect")}}),fQ.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(){return r8(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var kX=adY.prototype,aa0=adY.getSymbolSize=function(a,b){var c=a.getItemVisual(b,"symbolSize");return c instanceof Array?c.slice():[+c,+c]};kX._createSymbol=function(d,g,j,c,b){this.removeAll();var h=g.getItemVisual(j,"color"),f=TQ(d,-1,-1,2,2,h,b);f.attr({z2:100,culling:!0,scale:qB(c)}),f.drift=rX,this._symbolType=d,this.add(f)},kX.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(a)},kX.getSymbolPath=function(){return this.childAt(0)},kX.getScale=function(){return this.childAt(0).scale},kX.highlight=function(){this.childAt(0).trigger("emphasis")},kX.downplay=function(){this.childAt(0).trigger("normal")},kX.setZ=function(a,b){var c=this.childAt(0);c.zlevel=a,c.z=b},kX.setDraggable=function(a){var b=this.childAt(0);b.draggable=a,b.cursor=a?"move":"pointer"},kX.updateData=function(q,k,d){this.silent=!1;var g=q.getItemVisual(k,"symbol")||"circle",m=q.hostModel,c=aa0(q,k),b=g!==this._symbolType;if(b){var v=q.getItemVisual(k,"symbolKeepAspect");this._createSymbol(g,q,k,c,v)}else{var f=this.childAt(0);f.silent=!1,q5(f,{scale:qB(c)},m,k)}if(this._updateCommon(q,k,c,d),b){var f=this.childAt(0),p=d&&d.fadeIn,j={scale:f.scale.slice()};p&&(j.style={opacity:f.style.opacity}),f.scale=[0,0],p&&(f.style.opacity=0),m0(f,j,m,k)}this._seriesModel=m};var y0=["itemStyle"],NH=["emphasis","itemStyle"],Aj=["label"],qF=["emphasis","label"];kX._updateCommon=function(A,L,E,H){function P(a){return O?A.getName(a):oW(A,a)}var D=this.childAt(0),B=A.hostModel,G=A.getItemVisual(L,"color");"image"!==D.type&&D.useStyle({strokeNoScale:!0});var z=H&&H.itemStyle,I=H&&H.hoverItemStyle,N=H&&H.symbolRotate,M=H&&H.symbolOffset,K=H&&H.labelModel,C=H&&H.hoverLabelModel,J=H&&H.hoverAnimation,F=H&&H.cursorStyle;if(!H||A.hasItemOption){var r=H&&H.itemModel?H.itemModel:A.getItemModel(L);z=r.getModel(y0).getItemStyle(["color"]),I=r.getModel(NH).getItemStyle(),N=r.getShallow("symbolRotate"),M=r.getShallow("symbolOffset"),K=r.getModel(Aj),C=r.getModel(qF),J=r.getShallow("hoverAnimation"),F=r.getShallow("cursor")}else{I=aip({},I)}var j=D.style;D.attr("rotation",(N||0)*Math.PI/180||0),M&&D.attr("position",[wX(M[0],E[0]),wX(M[1],E[1])]),F&&D.attr("cursor",F),D.setColor(G,H&&H.symbolInnerColor),D.setStyle(z);var k=A.getItemVisual(L,"opacity");null!=k&&(j.opacity=k);var Q=A.getItemVisual(L,"liftZ"),q=D.__z2Origin;null!=Q?null==q&&(D.__z2Origin=D.z2,D.z2+=Q):null!=q&&(D.z2=q,D.__z2Origin=null);var O=H&&H.useNameLabel;ajD(j,I,K,C,{labelFetcher:B,labelDataIndex:L,defaultText:P,isRectText:!0,autoColor:G}),D.off("mouseover").off("mouseout").off("emphasis").off("normal"),D.hoverStyle=I,aQ(D),D.__symbolOriginalScale=qB(E),J&&B.isAnimationEnabled()&&D.on("mouseover",nK).on("mouseout",Ot).on("emphasis",F0).on("normal",s8)},kX.fadeOut=function(a,b){var c=this.childAt(0);this.silent=c.silent=!0,!(b&&b.keepLabel)&&(c.style.text=null),q5(c,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,a)},aiP(adY,jG);var XV=J5.prototype;XV.updateData=function(d,g){g=C4(g);var j=this.group,c=d.hostModel,b=this._data,h=this._symbolCtor,f=EG(d);b||j.removeAll(),d.diff(b).add(function(k){var e=d.getItemLayout(k);if(h2(d,e,k,g)){var l=new h(d,k,f);l.attr("position",e),d.setItemGraphicEl(k,l),j.add(l)}}).update(function(k,a){var e=b.getItemGraphicEl(a),i=d.getItemLayout(k);return h2(d,i,k,g)?(e?(e.updateData(d,k,f),q5(e,{position:i},c)):(e=new h(d,k),e.attr("position",i)),j.add(e),void d.setItemGraphicEl(k,e)):void j.remove(e)}).remove(function(a){var i=b.getItemGraphicEl(a);i&&i.fadeOut(function(){j.remove(i)})}).execute(),this._data=d},XV.isPersistent=function(){return !0},XV.updateLayout=function(){var a=this._data;a&&a.eachItemGraphicEl(function(c,d){var b=a.getItemLayout(d);c.attr("position",b)})},XV.incrementalPrepareUpdate=function(a){this._seriesScope=EG(a),this._data=null,this.group.removeAll()},XV.incrementalUpdate=function(d,g,j){function c(a){a.isGroup||(a.incremental=a.useHoverLayer=!0)}j=C4(j);for(var b=d.start;b<d.end;b++){var h=g.getItemLayout(b);if(h2(g,h,b,j)){var f=new this._symbolCtor(g,b,this._seriesScope);f.traverse(c),f.attr("position",h),this.group.add(f),g.setItemGraphicEl(b,f)}}},XV.remove=function(a){var b=this.group,c=this._data;c&&a?c.eachItemGraphicEl(function(d){d.fadeOut(function(){b.remove(d)})}):b.removeAll()};var ahV=function(J,ab,U,X,af,R,O,L){for(var W=e7(J,ab),H=[],Y=[],ad=[],ac=[],aa=[],Q=[],Z=[],V=gJ(af,ab,O),G=gJ(R,J,L),z=0;z<W.length;z++){var E=W[z],ag=!0;switch(E.cmd){case"=":var F=J.getItemLayout(E.idx),ae=ab.getItemLayout(E.idx1);(isNaN(F[0])||isNaN(F[1]))&&(F=ae.slice()),H.push(F),Y.push(ae),ad.push(U[E.idx]),ac.push(X[E.idx1]),Z.push(ab.getRawIndex(E.idx1));break;case"+":var k=E.idx;H.push(af.dataToPoint([ab.get(V.dataDimsForPoint[0],k),ab.get(V.dataDimsForPoint[1],k)])),Y.push(ab.getItemLayout(k).slice()),ad.push(cG(V,af,ab,k)),ac.push(X[k]),Z.push(ab.getRawIndex(k));break;case"-":var k=E.idx,q=J.getRawIndex(k);q!==k?(H.push(J.getItemLayout(k)),Y.push(R.dataToPoint([J.get(G.dataDimsForPoint[0],k),J.get(G.dataDimsForPoint[1],k)])),ad.push(U[k]),ac.push(cG(G,R,J,k)),Z.push(q)):ag=!1}ag&&(aa.push(E),Q.push(Q.length))}Q.sort(function(a,b){return Z[a]-Z[b]});for(var B=[],j=[],P=[],K=[],N=[],z=0;z<Q.length;z++){var k=Q[z];B[z]=H[k],j[z]=Y[k],P[z]=ad[k],K[z]=ac[k],N[z]=aa[k]}return{current:B,next:j,stackedOnCurrent:P,stackedOnNext:K,status:N}},acC=Zq,afy=X1,akX=ajf,ab1=aji,aaf=[],Y5=[],adO=[],Wq=h5.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:adQ(h5.prototype.brush),buildPath:function(d,f){var h=f.points,c=0,b=h.length,g=xG(h,f.smoothConstraint);if(f.connectNulls){for(;b>0&&dX(h[b-1]);b--){}for(;b>c&&dX(h[c]);c++){}}for(;b>c;){c+=aez(d,h,c,b,b,1,g.min,g.max,f.smooth,f.smoothMonotone,f.connectNulls)+1}}}),af9=h5.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:adQ(h5.prototype.brush),buildPath:function(m,h){var d=h.points,g=h.stackedOnPoints,j=0,c=d.length,b=h.smoothMonotone,p=xG(d,h.smoothConstraint),f=xG(g,h.smoothConstraint);if(h.connectNulls){for(;c>0&&dX(d[c-1]);c--){}for(;c>j&&dX(d[j]);j++){}}for(;c>j;){var k=aez(m,d,j,c,c,1,p.min,p.max,h.smooth,b,h.connectNulls);aez(m,g,j+k-1,k,c,-1,f.min,f.max,h.stackedOnSmooth,b,h.connectNulls),j+=k+1,m.closePath()}}});B7.extend({type:"line",init:function(){var a=new jG,b=new J5;this.group.add(b.group),this._symbolDraw=b,this._lineGroup=a},render:function(G,X,O){var R=G.coordinateSystem,ab=this.group,N=G.getData(),J=G.getModel("lineStyle"),Q=G.getModel("areaStyle"),F=N.mapArray(N.getItemLayout),U="polar"===R.type,Z=this._coordSys,Y=this._symbolDraw,W=this._polyline,L=this._polygon,V=this._lineGroup,P=G.get("animation"),E=!Q.isEmpty(),s=Q.get("origin"),B=gJ(R,N,s),ac=WQ(R,N,B),C=G.get("showSymbol"),aa=C&&!U&&ZB(G,N,R),k=this._data;k&&k.eachItemGraphicEl(function(a,b){a.__temp&&(ab.remove(a),k.setItemGraphicEl(b,null))}),C||Y.remove(),ab.add(V);var q=!U&&G.get("step");W&&Z.type===R.type&&q===this._step?(E&&!L?L=this._newPolygon(F,ac,R,P):L&&!E&&(V.remove(L),L=this._polygon=null),V.setClipPath(ae5(R,!1,!1,G)),C&&Y.updateData(N,{isIgnore:aa,clipShape:ae5(R,!1,!0,G)}),N.eachItemGraphicEl(function(a){a.stopAnimation(!0)}),M2(this._stackedOnPoints,ac)&&M2(this._points,F)||(P?this._updateAnimation(N,ac,R,O,q,s):(q&&(F=akI(F,R,q),ac=akI(ac,R,q)),W.setShape({points:F}),L&&L.setShape({points:F,stackedOnPoints:ac})))):(C&&Y.updateData(N,{isIgnore:aa,clipShape:ae5(R,!1,!0,G)}),q&&(F=akI(F,R,q),ac=akI(ac,R,q)),W=this._newPolyline(F,R,P),E&&(L=this._newPolygon(F,ac,R,P)),V.setClipPath(ae5(R,!0,!1,G)));var z=aby(N,R)||N.getVisual("color");W.useStyle(ain(J.getLineStyle(),{fill:"none",stroke:z,lineJoin:"bevel"}));var j=G.get("smooth");if(j=yZ(G.get("smooth")),W.setShape({smooth:j,smoothMonotone:G.get("smoothMonotone"),connectNulls:G.get("connectNulls")}),L){var K=N.getCalculationInfo("stackedOnSeries"),H=0;L.useStyle(ain(Q.getAreaStyle(),{fill:z,opacity:0.7,lineJoin:"bevel"})),K&&(H=yZ(K.get("smooth"))),L.setShape({smooth:j,stackedOnSmooth:H,smoothMonotone:G.get("smoothMonotone"),connectNulls:G.get("connectNulls")})}this._data=N,this._coordSys=R,this._stackedOnPoints=ac,this._points=F,this._step=q,this._valueOrigin=s},dispose:function(){},highlight:function(d,h,k,c){var b=d.getData(),j=dF(b,c);if(!(j instanceof Array)&&null!=j&&j>=0){var g=b.getItemGraphicEl(j);if(!g){var f=b.getItemLayout(j);if(!f){return}g=new adY(b,j),g.position=f,g.setZ(d.get("zlevel"),d.get("z")),g.ignore=isNaN(f[0])||isNaN(f[1]),g.__temp=!0,b.setItemGraphicEl(j,g),g.stopSymbolAnimation(!0),this.group.add(g)}g.highlight()}else{B7.prototype.highlight.call(this,d,h,k,c)}},downplay:function(d,g,j,c){var b=d.getData(),h=dF(b,c);if(null!=h&&h>=0){var f=b.getItemGraphicEl(h);f&&(f.__temp?(b.setItemGraphicEl(h,null),this.group.remove(f)):f.downplay())}else{B7.prototype.downplay.call(this,d,g,j,c)}},_newPolyline:function(a){var b=this._polyline;return b&&this._lineGroup.remove(b),b=new Wq({shape:{points:a},silent:!0,z2:10}),this._lineGroup.add(b),this._polyline=b,b},_newPolygon:function(a,b){var c=this._polygon;return c&&this._lineGroup.remove(c),c=new af9({shape:{points:a,stackedOnPoints:b},silent:!0}),this._lineGroup.add(c),this._polygon=c,c},_updateAnimation:function(q,I,B,E,L,A){var x=this._polyline,w=this._polygon,D=q.hostModel,k=ahV(this._data,q,this._stackedOnPoints,I,this._coordSys,B,this._valueOrigin,A),F=k.current,K=k.stackedOnCurrent,J=k.next,H=k.stackedOnNext;L&&(F=akI(k.current,B,L),K=akI(k.stackedOnCurrent,B,L),J=akI(k.next,B,L),H=akI(k.stackedOnNext,B,L)),x.shape.__points=k.current,x.shape.points=F,q5(x,{shape:{points:J}},D),w&&(w.setShape({points:F,stackedOnPoints:K}),q5(w,{shape:{points:J,stackedOnPoints:H}},D));for(var z=[],G=k.status,C=0;C<G.length;C++){var j=G[C].cmd;if("="===j){var b=q.getItemGraphicEl(G[C].idx1);b&&z.push({el:b,ptIdx:C})}}x.animators&&x.animators.length&&x.animators[0].during(function(){for(var a=0;a<z.length;a++){var c=z[a].el;c.attr("position",x.shape.__points[z[a].ptIdx])}})},remove:function(){var a=this.group,b=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),b&&b.eachItemGraphicEl(function(d,c){d.__temp&&(a.remove(d),b.setItemGraphicEl(c,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var ajO=function(a,b,c){return{seriesType:a,performRawSeries:!0,reset:function(h,g){function e(w,y){if("function"==typeof j){var t=h.getRawValue(y),q=h.getDataParams(y);w.setItemVisual(y,"symbolSize",j(t,q))}if(w.hasItemOption){var x=w.getItemModel(y),v=x.getShallow("symbol",!0),p=x.getShallow("symbolSize",!0),s=x.getShallow("symbolKeepAspect",!0);null!=v&&w.setItemVisual(y,"symbol",v),null!=p&&w.setItemVisual(y,"symbolSize",p),null!=s&&w.setItemVisual(y,"symbolKeepAspect",s)}}var m=h.getData(),k=h.get("symbol")||b,j=h.get("symbolSize"),d=h.get("symbolKeepAspect");if(m.setVisual({legendSymbol:c||k,symbol:k,symbolSize:j,symbolKeepAspect:d}),!g.isSeriesFiltered(h)){var f="function"==typeof j;return{dataEach:m.hasItemOption||f?e:null}}}}},aiN=function(a){return{seriesType:a,plan:jY(),reset:function(k){function h(A,v){for(var o=A.end-A.start,y=c&&new Float32Array(o*m),q=A.start,z=0,r=[],x=[];q<A.end;q++){var w;if(1===m){var s=v.get(b[0],q);w=!isNaN(s)&&g.dataToPoint(s,null,x)}else{var s=r[0]=v.get(b[0],q),i=r[1]=v.get(b[1],q);w=!isNaN(s)&&!isNaN(i)&&g.dataToPoint(r,null,x)}c?(y[z++]=w?w[0]:0/0,y[z++]=w?w[1]:0/0):v.setItemLayout(q,w&&w.slice()||[0/0,0/0])}c&&v.setLayout("symbolPoints",y)}var d=k.getData(),g=k.coordinateSystem,j=k.pipelineContext,c=j.large;if(g){var b=aiu(g.dimensions,function(e){return d.mapDimension(e)}).slice(0,2),m=b.length,f=d.getCalculationInfo("stackResultDimension");return NX(d,b[0])&&(b[0]=f),NX(d,b[1])&&(b[1]=f),m&&{progress:h}}}}},ahl={average:function(b){for(var c=0,d=0,a=0;a<b.length;a++){isNaN(b[a])||(c+=b[a],d++)}return 0===d?0/0:c/d},sum:function(a){for(var b=0,c=0;c<a.length;c++){b+=a[c]||0}return b},max:function(a){for(var b=-1/0,c=0;c<a.length;c++){a[c]>b&&(b=a[c])}return isFinite(b)?b:0/0},min:function(a){for(var b=1/0,c=0;c<a.length;c++){a[c]<b&&(b=a[c])}return isFinite(b)?b:0/0},nearest:function(a){return a[0]}},abq=function(a){return Math.round(a.length/2)},agK=function(a){return{seriesType:a,modifyOutputEnd:!0,reset:function(m){var h=m.getData(),d=m.get("sampling"),g=m.coordinateSystem;if("cartesian2d"===g.type&&d){var j=g.getBaseAxis(),c=g.getOtherAxis(j),b=j.getExtent(),p=b[1]-b[0],f=Math.round(h.count()/p);if(f>1){var k;"string"==typeof d?k=ahl[d]:"function"==typeof d&&(k=d),k&&m.setData(h.downSample(h.mapDimension(c.dim),1/f,k,abq))}}}}};aeK(ajO("line","circle","line")),abL(aiN("line")),MU(gV.PROCESSOR.STATISTIC,agK("line"));var add=function(d,f,h){f=ai9(f)&&{coordDimensions:f}||aip({},f);var c=d.getSource(),b=BQ(c,f),g=new akJ(b,d);return g.initData(c,h),g},U0={updateSelectedMap:function(a){this._targetList=ai9(a)?a.slice():[],this._selectTargetMap=aiQ(a||[],function(b,c){return b.set(c.name,c),b},aj6())},select:function(b,c){var d=null!=c?this._targetList[c]:this._selectTargetMap.get(b),a=this.get("selectedMode");"single"===a&&this._selectTargetMap.each(function(e){e.selected=!1}),d&&(d.selected=!0)},unSelect:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);c&&(c.selected=!1)},toggleSelected:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);return null!=c?(this[c.selected?"unSelect":"select"](a,b),c.selected):void 0},isSelected:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);return c&&c.selected}},QV=acX({type:"series.pie",init:function(a){QV.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(a)},mergeOption:function(a){QV.superCall(this,"mergeOption",a),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(){return add(this,["value"])},_createSelectableList:function(){for(var d=this.getRawData(),f=d.mapDimension("value"),g=[],c=0,b=d.count();b>c;c++){g.push({name:d.getName(c),value:d.get(f,c),selected:KK(d,c,"selected")})}return g},getDataParams:function(b){var c=this.getData(),d=QV.superCall(this,"getDataParams",b),a=[];return c.each(c.mapDimension("value"),function(e){a.push(e)}),d.percent=abP(a,b,c.hostModel.get("percentPrecision")),d.$vars.push("percent"),d},_defaultLabelLine:function(a){JW(a,"labelLine",["show"]);var b=a.labelLine,c=a.emphasis.labelLine;b.show=b.show&&a.label.show,c.show=c.show&&a.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});aiZ(QV,U0);var R5=afG.prototype;R5.updateData=function(z,s,j){function m(){g.stopAnimation(!0),g.animateTo({shape:{r:q.r+k.get("hoverOffset")}},300,"elasticOut")}function x(){g.stopAnimation(!0),g.animateTo({shape:{r:q.r}},300,"elasticOut")}var g=this.childAt(0),k=z.hostModel,y=z.getItemModel(s),q=z.getItemLayout(s),w=aip({},q);if(w.label=null,j){g.setShape(w);var v=k.getShallow("animationType");"scale"===v?(g.shape.r=q.r0,m0(g,{shape:{r:q.r}},k,s)):(g.shape.endAngle=q.startAngle,q5(g,{shape:{endAngle:q.endAngle}},k,s))}else{q5(g,{shape:w},k,s)}var r=z.getItemVisual(s,"color");g.useStyle(ain({lineJoin:"bevel",fill:r},y.getModel("itemStyle").getItemStyle())),g.hoverStyle=y.getModel("emphasis.itemStyle").getItemStyle();var b=y.getShallow("cursor");b&&g.attr("cursor",b),U8(this,z.getItemLayout(s),k.isSelected(null,s),k.get("selectedOffset"),k.get("animation")),g.off("mouseover").off("mouseout").off("emphasis").off("normal"),y.get("hoverAnimation")&&k.isAnimationEnabled()&&g.on("mouseover",m).on("mouseout",x).on("emphasis",m).on("normal",x),this._updateLabel(z,s),aQ(this)},R5._updateLabel=function(A,v){var j=this.childAt(1),m=this.childAt(2),y=A.hostModel,g=A.getItemModel(v),b=A.getItemLayout(v),B=b.label,k=A.getItemVisual(v,"color");q5(j,{shape:{points:B.linePoints||[[B.x,B.y],[B.x,B.y],[B.x,B.y]]}},y,v),q5(m,{style:{x:B.x,y:B.y}},y,v),m.attr({rotation:B.rotation,origin:[B.x,B.y],z2:10});var z=g.getModel("label"),p=g.getModel("emphasis.label"),x=g.getModel("labelLine"),w=g.getModel("emphasis.labelLine"),k=A.getItemVisual(v,"color");ajD(m.style,m.hoverStyle={},z,p,{labelFetcher:A.hostModel,labelDataIndex:v,defaultText:A.getName(v),autoColor:k,useInsideStyle:!!B.inside},{textAlign:B.textAlign,textVerticalAlign:B.verticalAlign,opacity:A.getItemVisual(v,"opacity")}),m.ignore=m.normalIgnore=!z.get("show"),m.hoverIgnore=!p.get("show"),j.ignore=j.normalIgnore=!x.get("show"),j.hoverIgnore=!w.get("show"),j.setStyle({stroke:k,opacity:A.getItemVisual(v,"opacity")}),j.setStyle(x.getModel("lineStyle").getLineStyle()),j.hoverStyle=w.getModel("lineStyle").getLineStyle();var q=x.get("smooth");q&&q===!0&&(q=0.4),j.setShape({smooth:q})},aiP(afG,jG);var bG=(B7.extend({type:"pie",init:function(){var a=new jG;this._sectorGroup=a},render:function(C,x,k,q){if(!q||q.from!==this.uid){var A=C.getData(),j=this._data,b=this.group,D=x.get("animation"),m=!j,B=C.get("animationType"),v=aie(adl,this.uid,C,D,k),z=C.get("selectedMode");if(A.diff(j).add(function(a){var c=new afG(A,a);m&&"scale"!==B&&c.eachChild(function(d){d.stopAnimation(!0)}),z&&c.on("click",v),A.setItemGraphicEl(a,c),b.add(c)}).update(function(a,c){var d=j.getItemGraphicEl(c);d.updateData(A,a),d.off("click"),z&&d.on("click",v),b.add(d),A.setItemGraphicEl(a,d)}).remove(function(a){var c=j.getItemGraphicEl(a);b.remove(c)}).execute(),D&&m&&A.count()>0&&"scale"!==B){var y=A.getItemLayout(0),w=Math.max(k.getWidth(),k.getHeight())/2,g=aic(b.removeClipPath,b);b.setClipPath(this._createClipPath(y.cx,y.cy,w,y.startAngle,y.clockwise,g,C))}else{b.removeClipPath()}this._data=A}},dispose:function(){},_createClipPath:function(d,h,k,c,b,j,g){var f=new WB({shape:{cx:d,cy:h,r0:0,r:k,startAngle:c,endAngle:c,clockwise:b}});return m0(f,{shape:{endAngle:c+(b?1:-1)*Math.PI*2}},g,j),f},containPoint:function(d,g){var j=g.getData(),c=j.getItemLayout(0);if(c){var b=d[0]-c.cx,h=d[1]-c.cy,f=Math.sqrt(b*b+h*h);return f<=c.r&&f>=c.r0}}}),function(a,b){aiT(b,function(c){c.update="updateView",oJ(c,function(f,e){var d={};return e.eachComponent({mainType:"series",subType:a,query:f},function(h){h[c.method]&&h[c.method](f.name,f.dataIndex);var g=h.getData();g.each(function(i){var j=g.getName(i);d[j]=h.isSelected(j)||!1})}),{name:f.name,selected:d}})})}),TH=function(a){return{getTargetSeries:function(c){var d={},b=aj6();return c.eachSeriesByType(a,function(e){e.__paletteScope=d,b.set(e.uid,e)}),b},reset:function(c){var d=c.getRawData(),f={},b=c.getData();b.each(function(g){var h=b.getRawIndex(g);f[h]=g}),d.each(function(g){var j=f[g],i=null!=j&&b.getItemVisual(j,"color",!0);if(i){d.setItemVisual(g,"color",i)}else{var h=d.getItemModel(g),e=h.get("itemStyle.color")||c.getColorFromPalette(d.getName(g)||g+"",c.__paletteScope,d.count());d.setItemVisual(g,"color",e),null!=j&&b.setItemVisual(j,"color",e)}})}}},akz=function(k,h,d,g){var j,c,b=k.getData(),m=[],f=!1;b.each(function(K){var Q,E,R,X,W=b.getItemLayout(K),V=b.getItemModel(K),J=V.getModel("label"),U=J.get("position")||V.get("emphasis.label.position"),N=V.getModel("labelLine"),B=N.get("length"),r=N.get("length2"),t=(W.startAngle+W.endAngle)/2,Z=Math.cos(t),z=Math.sin(t);j=W.cx,c=W.cy;var Y="inside"===U||"inner"===U;if("center"===U){Q=W.cx,E=W.cy,X="center"}else{var e=(Y?(W.r+W.r0)/2*Z:W.r*Z)+j,o=(Y?(W.r+W.r0)/2*z:W.r*z)+c;if(Q=e+3*Z,E=o+3*z,!Y){var s=e+Z*(B+h-W.r),a=o+z*(B+h-W.r),H=s+(0>Z?-1:1)*r,F=a;Q=H+(0>Z?-5:5),E=F,R=[[e,o],[s,a],[H,F]]}X=Y?"center":Z>0?"left":"right"}var G=J.getFont(),q=J.get("rotate")?0>Z?-t+Math.PI:-t:0,O=k.getFormattedLabel(K,"normal")||b.getName(K),l=N2(O,G,X,"top");f=!!q,W.label={x:Q,y:E,position:U,height:l.height,len:B,len2:r,linePoints:R,textAlign:X,verticalAlign:"middle",rotation:q,inside:Y},Y||m.push(W.label)}),!f&&k.get("avoidLabelOverlap")&&ah3(m,j,c,h,d,g)},m8=2*Math.PI,vU=Math.PI/180,Bj=function(a,b,c){b.eachSeriesByType(a,function(F){var V=F.getData(),P=V.mapDimension("value"),Z=F.get("center"),L=F.get("radius");ai9(L)||(L=[0,L]),ai9(Z)||(Z=[Z,Z]);var H=c.getWidth(),G=c.getHeight(),O=Math.min(H,G),E=wX(Z[0],H),Q=wX(Z[1],G),X=wX(L[0],O/2),W=wX(L[1],O/2),U=-F.get("startAngle")*vU,K=F.get("minAngle")*vU,R=0;V.each(P,function(d){!isNaN(d)&&R++});var N=V.getSum(P),D=Math.PI/(N||R)*2,q=F.get("clockwise"),B=F.get("roseType"),C=F.get("stillShowZeroSum"),Y=V.getDataExtent(P);Y[0]=0;var k=m8,n=0,z=U,j=q?1:-1;if(V.each(P,function(f,g){var e;if(isNaN(f)){return void V.setItemLayout(g,{angle:0/0,startAngle:0/0,endAngle:0/0,clockwise:q,cx:E,cy:Q,r0:X,r:B?0/0:W})}e="area"!==B?0===N&&C?D:f*D:m8/R,K>e?(e=K,k-=K):n+=f;var d=z+j*e;V.setItemLayout(g,{angle:e,startAngle:z,endAngle:d,clockwise:q,cx:E,cy:Q,r0:X,r:B?Z7(f,Y,[X,W]):W}),z=d}),m8>k&&R){if(0.001>=k){var J=m8/R;V.each(P,function(e,f){if(!isNaN(e)){var d=V.getItemLayout(f);d.angle=J,d.startAngle=U+j*f*J,d.endAngle=U+j*(f+1)*J}})}else{D=k/n,z=U,V.each(P,function(f,g){if(!isNaN(f)){var e=V.getItemLayout(g),d=e.angle===K?K:f*D;e.startAngle=z,e.endAngle=z+j*d,z+=j*d}})}}akz(F,W,H,G)})},lX=function(a){return{seriesType:a,reset:function(c,d){var f=d.findComponents({mainType:"legend"});if(f&&f.length){var b=c.getData();b.filterSelf(function(h){for(var i=b.getName(h),g=0;g<f.length;g++){if(!f[g].isSelected(i)){return !1}}return !0})}}}};bG("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),aeK(TH("pie")),abL(aie(Bj,"pie")),MU(lX("pie")),fQ.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(){return r8(this.getSource(),this)},brushSelector:"point",getProgressive:function(){var a=this.option.progressive;return null==a?this.option.large?5000:this.get("progressive"):a},getProgressiveThreshold:function(){var a=this.option.progressiveThreshold;return null==a?this.option.large?10000:this.get("progressiveThreshold"):a},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2000,itemStyle:{opacity:0.8}}});var L2=4,Iq=xK({shape:{points:null},symbolProxy:null,buildPath:function(q,k){var d=k.points,g=k.size,m=this.symbolProxy,c=m.shape,b=q.getContext?q.getContext():q,v=b&&g[0]<L2;if(!v){for(var f=0;f<d.length;){var p=d[f++],j=d[f++];isNaN(p)||isNaN(j)||(c.x=p-g[0]/2,c.y=j-g[1]/2,c.width=g[0],c.height=g[1],m.buildPath(q,c,!0))}}},afterBrush:function(d){var h=this.shape,k=h.points,c=h.size,b=c[0]<L2;if(b){this.setTransform(d);for(var j=0;j<k.length;){var g=k[j++],f=k[j++];isNaN(g)||isNaN(f)||d.fillRect(g-c[0]/2,f-c[1]/2,c[0],c[1])}this.restoreTransform(d)}},findDataIndex:function(q,k){for(var d=this.shape,g=d.points,m=d.size,c=Math.max(m[0],4),b=Math.max(m[1],4),v=g.length/2-1;v>=0;v--){var f=2*v,p=g[f]-c/2,j=g[f+1]-b/2;if(q>=p&&k>=j&&p+c>=q&&j+b>=k){return v}}return -1}}),JV=agS.prototype;JV.isPersistent=function(){return !this._incremental},JV.updateData=function(a){this.group.removeAll();var b=new Iq({rectHover:!0,cursor:"default"});b.setShape({points:a.getLayout("symbolPoints")}),this._setCommon(b,a),this.group.add(b),this._incremental=null},JV.updateLayout=function(a){if(!this._incremental){var b=a.getLayout("symbolPoints");this.group.eachChild(function(d){if(null!=d.startIndex){var e=2*(d.endIndex-d.startIndex),c=4*d.startIndex*2;b=new Float32Array(b.buffer,c,e)}d.setShape("points",b)})}},JV.incrementalPrepareUpdate=function(a){this.group.removeAll(),this._clearIncremental(),a.count()>2000000?(this._incremental||(this._incremental=new aas({silent:!0})),this.group.add(this._incremental)):this._incremental=null},JV.incrementalUpdate=function(a,b){var c;this._incremental?(c=new Iq,this._incremental.addDisplayable(c,!0)):(c=new Iq({rectHover:!0,cursor:"default",startIndex:a.start,endIndex:a.end}),c.incremental=!0,this.group.add(c)),c.setShape({points:b.getLayout("symbolPoints")}),this._setCommon(c,b,!!this._incremental)},JV._setCommon=function(d,g,j){var c=g.hostModel,b=g.getVisual("symbolSize");d.setShape("size",b instanceof Array?b:[b,b]),d.symbolProxy=TQ(g.getVisual("symbol"),0,0,0,0),d.setColor=d.symbolProxy.setColor;var h=d.shape.size[0]<L2;d.useStyle(c.getModel("itemStyle").getItemStyle(h?["color","shadowBlur","shadowColor"]:["color"]));var f=g.getVisual("color");f&&d.setColor(f),j||(d.seriesIndex=c.seriesIndex,d.on("mousemove",function(a){d.dataIndex=null;var i=d.findDataIndex(a.offsetX,a.offsetY);i>=0&&(d.dataIndex=i+(d.startIndex||0))}))},JV.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},JV._clearIncremental=function(){var a=this._incremental;a&&a.clearDisplaybles()},Uq({type:"scatter",render:function(a){var b=a.getData(),c=this._updateSymbolDraw(b,a);c.updateData(b),this._finished=!0},incrementalPrepareRender:function(a){var b=a.getData(),c=this._updateSymbolDraw(b,a);c.incrementalPrepareUpdate(b),this._finished=!1},incrementalRender:function(a,b){this._symbolDraw.incrementalUpdate(a,b.getData()),this._finished=a.end===b.getData().count()},updateTransform:function(a){var b=a.getData();if(this.group.dirty(),!this._finished||b.count()>10000||!this._symbolDraw.isPersistent()){return{update:!0}}var c=aiN().reset(a);c.progress&&c.progress({start:0,end:b.count()},b),this._symbolDraw.updateLayout(b)},_updateSymbolDraw:function(d,f){var g=this._symbolDraw,c=f.pipelineContext,b=c.large;return g&&b===this._isLargeDraw||(g&&g.remove(),g=this._symbolDraw=b?new agS:new J5,this._isLargeDraw=b,this.group.removeAll()),this.group.add(g.group),g},remove:function(){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),aeK(ajO("scatter","circle")),abL(aiN("scatter")),fQ.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(){return r8(this.getSource(),this)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});var w5=3,aep=acK.prototype;aep.stopEffectAnimation=function(){this.childAt(1).removeAll()},aep.startEffectAnimation=function(d){for(var g=d.symbolType,j=d.color,c=this.childAt(1),b=0;w5>b;b++){var h=TQ(g,-1,-1,2,2,j);h.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[0.5,0.5]});var f=-b/w5*d.period+d.effectOffset;h.animate("",!0).when(d.period,{scale:[d.rippleScale/2,d.rippleScale/2]}).delay(f).start(),h.animateStyle(!0).when(d.period,{opacity:0}).delay(f).start(),c.add(h)}agh(c,d)},aep.updateEffectAnimation=function(d){for(var f=this._effectCfg,h=this.childAt(1),c=["symbolType","period","rippleScale"],b=0;b<c.length;b++){var g=c[b];if(f[g]!==d[g]){return this.stopEffectAnimation(),void this.startEffectAnimation(d)}}agh(h,d)},aep.highlight=function(){this.trigger("emphasis")},aep.downplay=function(){this.trigger("normal")},aep.updateData=function(A,v){var j=A.hostModel;this.childAt(0).updateData(A,v);var m=this.childAt(1),y=A.getItemModel(v),g=A.getItemVisual(v,"symbol"),b=aaX(A.getItemVisual(v,"symbolSize")),B=A.getItemVisual(v,"color");m.attr("scale",b),m.traverse(function(a){a.attr({fill:B})});var k=y.getShallow("symbolOffset");if(k){var z=m.position;z[0]=wX(k[0],b[0]),z[1]=wX(k[1],b[1])}m.rotation=(y.getShallow("symbolRotate")||0)*Math.PI/180||0;var p={};if(p.showEffectOn=j.get("showEffectOn"),p.rippleScale=y.get("rippleEffect.scale"),p.brushType=y.get("rippleEffect.brushType"),p.period=1000*y.get("rippleEffect.period"),p.effectOffset=v/A.count(),p.z=y.getShallow("z")||0,p.zlevel=y.getShallow("zlevel")||0,p.symbolType=g,p.color=B,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===p.showEffectOn){this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p}else{this._effectCfg=null,this.stopEffectAnimation();var x=this.childAt(0),w=function(){x.highlight(),"render"!==p.showEffectOn&&this.startEffectAnimation(p)},q=function(){x.downplay(),"render"!==p.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",w,this).on("mouseout",q,this).on("emphasis",w,this).on("normal",q,this)}this._effectCfg=p},aep.fadeOut=function(a){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),a&&a()},aiP(acK,jG),Uq({type:"effectScatter",init:function(){this._symbolDraw=new J5(acK)},render:function(a){var b=a.getData(),c=this._symbolDraw;c.updateData(b),this.group.add(c.group)},updateTransform:function(a){var b=a.getData();this.group.dirty();var c=aiN().reset(a);c.progress&&c.progress({start:0,end:b.count()},b),this._symbolDraw.updateLayout(b)},_updateGroupTransform:function(a){var b=a.coordinateSystem;b&&b.getRoamTransform&&(this.group.transform=v0(b.getRoamTransform()),this.group.decomposeTransform())},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove(b)},dispose:function(){}}),aeK(ajO("effectScatter","circle")),abL(aiN("effectScatter"));var rB={_baseAxisDim:null,getInitialData:function(k,G){var A,D,J=G.getComponent("xAxis",this.get("xAxisIndex")),z=G.getComponent("yAxis",this.get("yAxisIndex")),w=J.get("type"),q=z.get("type");"category"===w?(k.layout="horizontal",A=J.getOrdinalMeta(),D=!0):"category"===q?(k.layout="vertical",A=z.getOrdinalMeta(),D=!0):k.layout=k.layout||"horizontal";var C=["x","y"],j="horizontal"===k.layout?0:1,E=this._baseAxisDim=C[j],I=C[1-j],H=[J,z],x=H[j].get("type"),F=H[1-j].get("type"),B=k.data;if(B&&D){var f=[];aiT(B,function(a,c){var d;a.value&&ai9(a.value)?(d=a.value.slice(),a.value.unshift(c)):ai9(a)?(d=a.slice(),a.unshift(c)):d=a,f.push(d)}),k.data=f}var b=this.defaultValueDimensions;return add(this,{coordDimensions:[{name:E,type:S0(x),ordinalMeta:A,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:I,type:S0(F),dimsDef:b.slice()}],dimensionsCount:b.length+1})},getBaseAxis:function(){var a=this._baseAxisDim;return this.ecModel.getComponent(a+"Axis",this.get(a+"AxisIndex")).axis}},sY=fQ.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3000,progressiveThreshold:10000,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(b,c,d){var a=c.getItemLayout(b);return a&&d.rect(a.brushRect)}});aiZ(sY,rB,!0);var oQ=["itemStyle"],Pq=["emphasis","itemStyle"],G1=["color","color0","borderColor","borderColor0"],t9=(B7.extend({type:"candlestick",render:function(a){this._updateDrawMode(a),this._isLargeDraw?this._renderLarge(a):this._renderNormal(a)},incrementalPrepareRender:function(a){this._clear(),this._updateDrawMode(a)},incrementalRender:function(a,b){this._isLargeDraw?this._incrementalRenderLarge(a,b):this._incrementalRenderNormal(a,b)},_updateDrawMode:function(a){var b=a.pipelineContext.large;(null==this._isLargeDraw||b^this._isLargeDraw)&&(this._isLargeDraw=b,this._clear())},_renderNormal:function(d){var f=d.getData(),g=this._data,c=this.group,b=f.getLayout("isSimpleBox");this._data||c.removeAll(),f.diff(g).add(function(h){if(f.hasValue(h)){var e,a=f.getItemLayout(h);e=TY(a,h,!0),m0(e,{shape:{points:a.ends}},d,h),PQ(e,f,h,b),c.add(e),f.setItemGraphicEl(h,e)}}).update(function(i,h){var e=g.getItemGraphicEl(h);if(!f.hasValue(i)){return void c.remove(e)}var a=f.getItemLayout(i);e?q5(e,{shape:{points:a.ends}},d,i):e=TY(a,i),PQ(e,f,i,b),c.add(e),f.setItemGraphicEl(i,e)}).remove(function(a){var h=g.getItemGraphicEl(a);h&&c.remove(h)}).execute(),this._data=f},_renderLarge:function(a){this._clear(),a3(a,this.group)},_incrementalRenderNormal:function(d,g){for(var j,c=g.getData(),b=c.getLayout("isSimpleBox");null!=(j=d.next());){var h,f=c.getItemLayout(j);h=TY(f,j),PQ(h,c,j,b),h.incremental=!0,this.group.add(h)}},_incrementalRenderLarge:function(a,b){a3(b,this.group,!0)},remove:function(){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:ajU}),h5.extend({type:"normalCandlestickBox",shape:{},buildPath:function(a,b){var c=b.points;this.__simpleBox?(a.moveTo(c[4][0],c[4][1]),a.lineTo(c[6][0],c[6][1])):(a.moveTo(c[0][0],c[0][1]),a.lineTo(c[1][0],c[1][1]),a.lineTo(c[2][0],c[2][1]),a.lineTo(c[3][0],c[3][1]),a.closePath(),a.moveTo(c[4][0],c[4][1]),a.lineTo(c[5][0],c[5][1]),a.moveTo(c[6][0],c[6][1]),a.lineTo(c[7][0],c[7][1]))}})),K5=h5.extend({type:"largeCandlestickBox",shape:{},buildPath:function(d,f){for(var g=f.points,c=0;c<g.length;){if(this.__sign===g[c++]){var b=g[c++];d.moveTo(b,g[c++]),d.lineTo(b,g[c++])}else{c+=3}}}}),i3=function(a){a&&ai9(a.series)&&aiT(a.series,function(b){ajq(b)&&"k"===b.type&&(b.type="candlestick")})},D5=["itemStyle","borderColor"],FH=["itemStyle","borderColor0"],hK=["itemStyle","color"],CU=["itemStyle","color0"],dB={seriesType:"candlestick",plan:jY(),performRawSeries:!0,reset:function(d,g){function j(a,k){for(var m;null!=(m=a.next());){var l=k.getItemModel(m),i=k.getItemLayout(m).sign;k.setItemVisual(m,{color:c(i,l),borderColor:b(i,l)})}}function c(a,i){return i.get(a>0?hK:CU)}function b(a,i){return i.get(a>0?D5:FH)}var h=d.getData(),f=d.pipelineContext.large;return h.setVisual({legendSymbol:"roundRect",colorP:c(1,d),colorN:c(-1,d),borderColorP:b(1,d),borderColorN:b(-1,d)}),g.isSeriesFiltered(d)?void 0:!f&&{progress:j}}},f7="undefined"!=typeof Float32Array?Float32Array:Array,eX={seriesType:"candlestick",plan:jY(),reset:function(C){function x(u,L){function F(a,h){var l=[];return l[b]=h,l[D]=a,isNaN(h)||isNaN(a)?[0/0,0/0]:q.dataToPoint(l)}function O(I,M,Q){var l=M.slice(),h=M.slice();l[b]=akr(l[b]+j/2,1,!1),h[b]=akr(h[b]-j/2,1,!0),Q?I.push(l,h):I.push(h,l)}function H(M,Q,I){var n=F(M,I),h=F(Q,I);return n[b]-=j/2,h[b]-=j/2,{x:n[0],y:n[1],width:D?j:h[0]-n[0],height:D?h[1]-n[1]:j}}function J(a){return a[b]=akr(a[b],1),a}for(var K;null!=(K=u.next());){var G=L.get(B,K),s=L.get(z,K),i=L.get(y,K),p=L.get(w,K),P=L.get(g,K),r=Math.min(s,i),N=Math.max(s,i),d=F(r,G),f=F(N,G),o=F(p,G),c=F(P,G),E=[];O(E,f,0),O(E,d,1),E.push(J(c),J(f),J(o),J(d)),L.setItemLayout(K,{sign:aj4(L,K,s,i,y),initBaseline:s>i?f[D]:d[D],ends:E,brushRect:H(p,P,G)})}}function k(I,s){for(var d,F,c=new f7(5*I.count),i=0,p=[],r=[];null!=(F=I.next());){var f=s.get(B,F),H=s.get(z,F),u=s.get(y,F),E=s.get(w,F),G=s.get(g,F);isNaN(f)||isNaN(E)||isNaN(G)?(c[i++]=0/0,i+=4):(c[i++]=aj4(s,F,H,u,y),p[b]=f,p[D]=E,d=q.dataToPoint(p,null,r),c[i++]=d?d[0]:0/0,c[i++]=d?d[1]:0/0,p[D]=G,d=q.dataToPoint(p,null,r),c[i++]=d?d[1]:0/0)}s.setLayout("largePoints",c)}var q=C.coordinateSystem,A=C.getData(),j=l5(C,A),b=0,D=1,m=["x","y"],B=A.mapDimension(m[b]),v=A.mapDimension(m[D],!0),z=v[0],y=v[1],w=v[2],g=v[3];return A.setLayout({candleWidth:j,isSimpleBox:1.3>=j}),null==B||v.length<4?void 0:{progress:C.pipelineContext.large?k:x}}};w3(i3),aeK(dB),abL(eX),aiP(uJ,ado),z7.prototype.getIndicatorAxes=function(){return this._indicatorAxes},z7.prototype.dataToPoint=function(a,b){var c=this._indicatorAxes[b];return this.coordToPoint(c.dataToCoord(a),b)},z7.prototype.coordToPoint=function(d,f){var h=this._indicatorAxes[f],c=h.angle,b=this.cx+d*Math.cos(c),g=this.cy-d*Math.sin(c);return[b,g]},z7.prototype.pointToData=function(q){var k=q[0]-this.cx,d=q[1]-this.cy,g=Math.sqrt(k*k+d*d);k/=g,d/=g;for(var m,c=Math.atan2(-d,k),b=1/0,v=-1,f=0;f<this._indicatorAxes.length;f++){var p=this._indicatorAxes[f],j=Math.abs(c-p.angle);b>j&&(m=p,v=f,b=j)}return[v,+(m&&m.coodToData(g))]},z7.prototype.resize=function(d,g){var j=d.get("center"),c=g.getWidth(),b=g.getHeight(),h=Math.min(c,b)/2;this.cx=wX(j[0],c),this.cy=wX(j[1],b),this.startAngle=d.get("startAngle")*Math.PI/180;var f=d.get("radius");("string"==typeof f||"number"==typeof f)&&(f=[0,f]),this.r0=wX(f[0],h),this.r=wX(f[1],h),aiT(this._indicatorAxes,function(a,i){a.setExtent(this.r0,this.r);var k=this.startAngle+i*Math.PI*2/this._indicatorAxes.length;k=Math.atan2(Math.sin(k),Math.cos(k)),a.angle=k},this)},z7.prototype.update=function(d){function f(a){var h=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),i=a/h;return 2===i?i=5:i*=2,i*h}var g=this._indicatorAxes,c=this._model;aiT(g,function(a){a.scale.setExtent(1/0,-1/0)}),d.eachSeriesByType("radar",function(i){if("radar"===i.get("coordinateSystem")&&d.getComponent("radar",i.get("radarIndex"))===c){var h=i.getData();aiT(g,function(a){a.scale.unionExtentFromData(h,h.mapDimension(a.dim))})}},this);var b=c.get("splitNumber");aiT(g,function(y){var j=XY(y.scale,y.model);U3(y.scale,y.model);var m=y.model,e=y.scale,a=m.getMin(),z=m.getMax(),k=e.getInterval();if(null!=a&&null!=z){e.setExtent(+a,+z),e.setInterval((z-a)/b)}else{if(null!=a){var x;do{x=a+k*b,e.setExtent(+a,x),e.setInterval(k),k=f(k)}while(x<j[1]&&isFinite(x)&&isFinite(j[1]))}else{if(null!=z){var p;do{p=z-k*b,e.setExtent(p,+z),e.setInterval(k),k=f(k)}while(p>j[0]&&isFinite(p)&&isFinite(j[0]))}else{var w=e.getTicks().length-1;w>b&&(k=f(k));var v=Math.round((j[0]+j[1])/2/k)*k,q=Math.round(b/2);e.setExtent(MJ(v-q*k),MJ(v+(b-q)*k)),e.setInterval(k)}}}})},z7.dimensions=[],z7.create=function(a,b){var c=[];return a.eachComponent("radar",function(e){var d=new z7(e,a,b);c.push(d),e.coordinateSystem=d}),a.eachSeriesByType("radar",function(d){"radar"===d.get("coordinateSystem")&&(d.coordinateSystem=c[d.get("radarIndex")||0])}),c},VX.register("radar",z7);var aeY=nQ.valueAxis,kt=(YH({type:"radar",optionUpdated:function(){var x=this.get("boundaryGap"),r=this.get("splitNumber"),b=this.get("scale"),a=this.get("axisLine"),j=this.get("axisTick"),w=this.get("axisLabel"),k=this.get("name"),v=this.get("name.show"),s=this.get("name.formatter"),q=this.get("nameGap"),p=this.get("triggerEvent"),i=aiu(this.get("indicator")||[],function(e){null!=e.max&&e.max>0&&!e.min?e.min=0:null!=e.min&&e.min<0&&!e.max&&(e.max=0);var c=k;if(null!=e.color&&(c=ain({color:e.color},k)),e=ai5(aiO(e),{boundaryGap:x,splitNumber:r,scale:b,axisLine:a,axisTick:j,axisLabel:w,name:e.text,nameLocation:"end",nameGap:q,nameTextStyle:c,triggerEvent:p},!1),v||(e.name=""),"string"==typeof s){var d=e.name;e.name=s.replace("{value}",null!=d?d:"")}else{"function"==typeof s&&(e.name=s(e.name,e))}var f=aip(new f0(e,null,this.ecModel),ah6);return f.mainType="radar",f.componentIndex=this.componentIndex,f},this);this.getIndicatorModels=function(){return i}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:ai5({lineStyle:{color:"#bbb"}},aeY.axisLine),axisLabel:kU(aeY.axisLabel,!1),axisTick:kU(aeY.axisTick,!1),splitLine:kU(aeY.splitLine,!0),splitArea:kU(aeY.splitArea,!0),indicator:[]}}),["axisLine","axisTickLabel","axisName"]);W6({type:"radar",render:function(a){var b=this.group;b.removeAll(),this._buildAxes(a),this._buildSplitLineAndArea(a)},_buildAxes:function(b){var c=b.coordinateSystem,d=c.getIndicatorAxes(),a=aiu(d,function(e){var f=new LH(e.model,{position:[c.cx,c.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return f});aiT(a,function(e){aiT(kt,e.add,e),this.group.add(e.getGroup())},this)},_buildSplitLineAndArea:function(G){function X(b,c,d){var a=d%c.length;return b[a]=b[a]||[],a}var P=G.coordinateSystem,U=P.getIndicatorAxes();if(U.length){var ab=G.get("shape"),O=G.getModel("splitLine"),K=G.getModel("splitArea"),R=O.getModel("lineStyle"),F=K.getModel("areaStyle"),V=O.get("show"),Z=K.get("show"),Y=R.get("color"),W=F.get("color");Y=ai9(Y)?Y:[Y],W=ai9(W)?W:[W];var Q=[],E=[];if("circle"===ab){for(var q=U[0].getTicksCoords(),z=P.cx,B=P.cy,aa=0;aa<q.length;aa++){if(V){var j=X(Q,Y,aa);Q[j].push(new aah({shape:{cx:z,cy:B,r:q[aa].coord}}))}if(Z&&aa<q.length-1){var j=X(E,W,aa);E[j].push(new agb({shape:{cx:z,cy:B,r0:q[aa].coord,r:q[aa+1].coord}}))}}}else{for(var k,s=aiu(U,function(b,c){var a=b.getTicksCoords();return k=null==k?a.length-1:Math.min(a.length-1,k),aiu(a,function(d){return P.coordToPoint(d.coord,c)})}),f=[],aa=0;k>=aa;aa++){for(var N=[],H=0;H<U.length;H++){N.push(s[H][aa])}if(N[0]&&N.push(N[0].slice()),V){var j=X(Q,Y,aa);Q[j].push(new abs({shape:{points:N}}))}if(Z&&f){var j=X(E,W,aa-1);E[j].push(new ahn({shape:{points:N.concat(f)}}))}f=N.slice().reverse()}}var J=R.getLineStyle(),p=F.getAreaStyle();aiT(E,function(a,b){this.group.add(JX(a,{style:ain({stroke:"none",fill:W[b%W.length]},p),silent:!0}))},this),aiT(Q,function(a,b){this.group.add(JX(a,{style:ain({fill:"none",stroke:Y[b%Y.length]},J),silent:!0}))},this)}}});var aaP=fQ.extend({type:"series.radar",dependencies:["radar"],init:function(){aaP.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(){return add(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(d){var f=this.getData(),g=this.coordinateSystem,c=g.getIndicatorAxes(),b=this.getData().getName(d);return aaE(""===b?this.name:b)+"<br/>"+aiu(c,function(e){var a=f.get(f.mapDimension(e.dim),d);return aaE(e.name+" : "+a)}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}});Uq({type:"radar",render:function(f){function h(m,p){var r=m.getItemVisual(p,"symbol")||"circle",l=m.getItemVisual(p,"color");if("none"!==r){var k=LB(m.getItemVisual(p,"symbolSize")),q=TQ(r,-1,-1,2,2,l);return q.attr({style:{strokeNoScale:!0},z2:100,scale:[k[0]/2,k[1]/2]}),q}}function j(w,p,k,v,t,q){k.removeAll();for(var e=0;e<p.length-1;e++){var m=h(v,t);m&&(m.__dimIdx=e,w[e]?(m.attr("position",w[e]),rG[q?"initProps":"updateProps"](m,{position:p[e]},f,t)):m.attr("position",p[e]),k.add(m))}}function c(a){return aiu(a,function(){return[i.cx,i.cy]})}var i=f.coordinateSystem,g=this.group,b=f.getData(),d=this._data;b.diff(d).add(function(p){var k=b.getItemLayout(p);if(k){var q=new ahn,n=new abs,m={shape:{points:k}};q.shape.points=c(k),n.shape.points=c(k),m0(q,m,f,p),m0(n,m,f,p);var a=new jG,l=new jG;a.add(n),a.add(q),a.add(l),j(n.shape.points,k,l,b,p,!0),b.setItemGraphicEl(p,a)}}).update(function(q,l){var k=d.getItemGraphicEl(l),t=k.childAt(0),p=k.childAt(1),n=k.childAt(2),m={shape:{points:b.getItemLayout(q)}};m.shape.points&&(j(t.shape.points,m.shape.points,n,b,q,!1),q5(t,m,f),q5(p,m,f),b.setItemGraphicEl(q,k))}).remove(function(a){g.remove(d.getItemGraphicEl(a))}).execute(),b.eachItemGraphicEl(function(J,A){function q(){s.attr("ignore",r)}function F(){s.attr("ignore",w)}var l=b.getItemModel(A),I=J.childAt(0),s=J.childAt(1),C=J.childAt(2),B=b.getItemVisual(A,"color");g.add(J),I.useStyle(ain(l.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:B})),I.hoverStyle=l.getModel("emphasis.lineStyle").getLineStyle();var z=l.getModel("areaStyle"),k=l.getModel("emphasis.areaStyle"),w=z.isEmpty()&&z.parentModel.isEmpty(),r=k.isEmpty()&&k.parentModel.isEmpty();r=r&&w,s.ignore=w,s.useStyle(ain(z.getAreaStyle(),{fill:B,opacity:0.7})),s.hoverStyle=k.getAreaStyle();var H=l.getModel("itemStyle").getItemStyle(["color"]),D=l.getModel("emphasis.itemStyle").getItemStyle(),E=l.getModel("label"),G=l.getModel("emphasis.label");C.eachChild(function(a){a.setStyle(H),a.hoverStyle=aiO(D),ajD(a.style,a.hoverStyle,E,G,{labelFetcher:b.hostModel,labelDataIndex:A,labelDimIndex:a.__dimIdx,defaultText:b.get(b.dimensions[a.__dimIdx],A),autoColor:B,isRectText:!0})}),J.off("mouseover").off("mouseout").off("normal").off("emphasis"),J.on("emphasis",q).on("mouseover",q).on("normal",F).on("mouseout",F),aQ(J)}),this._data=b},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});var yG=function(a){a.eachSeriesByType("radar",function(d){function g(i,k){c[k]=c[k]||[],c[k][f]=b.dataToPoint(i,f)}var j=d.getData(),c=[],b=d.coordinateSystem;if(b){for(var h=b.getIndicatorAxes(),f=0;f<h.length;f++){j.each(j.mapDimension(h[f].dim),g)}j.each(function(e){c[e][0]&&c[e].push(c[e][0].slice()),j.setItemLayout(e,c[e])})}})},Nt=function(a){var b=a.polar;if(b){ai9(b)||(b=[b]);var c=[];aiT(b,function(d){d.indicator?(d.type&&!d.shape&&(d.shape=d.type),a.radar=a.radar||[],ai9(a.radar)||(a.radar=[a.radar]),a.radar.push(d)):c.push(d)}),a.polar=c}aiT(a.series,function(d){d&&"radar"===d.type&&d.polarIndex&&(d.radarIndex=d.polarIndex)})};aeK(TH("radar")),aeK(ajO("radar","circle")),abL(yG),MU(lX("radar")),w3(Nt),fQ.extend({type:"series.heatmap",getInitialData:function(){return r8(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var a=VX.get(this.get("coordinateSystem"));return a&&a.dimensions?"lng"===a.dimensions[0]&&"lat"===a.dimensions[1]:void 0},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});var zZ=256;G9.prototype={update:function(G,X,O,R,ab,N){var J=this._getBrush(),H=this._getGradient(G,ab,"inRange"),Q=this._getGradient(G,ab,"outOfRange"),F=this.pointSize+this.blurSize,U=this.canvas,Z=U.getContext("2d"),Y=G.length;U.width=X,U.height=O;for(var W=0;Y>W;++W){var L=G[W],V=L[0],P=L[1],E=L[2],z=R(E);Z.globalAlpha=z,Z.drawImage(J,V-F,P-F)}if(!U.width||!U.height){return U}for(var C=Z.getImageData(0,0,U.width,U.height),ac=C.data,D=0,aa=ac.length,k=this.minOpacity,q=this.maxOpacity,B=q-k;aa>D;){var z=ac[D+3]/256,j=4*Math.floor(z*(zZ-1));if(z>0){var K=N(z)?H:Q;z>0&&(z=z*B+k),ac[D++]=K[j],ac[D++]=K[j+1],ac[D++]=K[j+2],ac[D++]=K[j+3]*z*256}else{D+=4}}return Z.putImageData(C,0,0),U},_getBrush:function(){var b=this._brushCanvas||(this._brushCanvas=Mq()),c=this.pointSize+this.blurSize,d=2*c;b.width=d,b.height=d;var a=b.getContext("2d");return a.clearRect(0,0,d,d),a.shadowOffsetX=d,a.shadowBlur=this.blurSize,a.shadowColor="#000",a.beginPath(),a.arc(-c,c,this.pointSize,0,2*Math.PI,!0),a.closePath(),a.fill(),b},_getGradient:function(d,h,k){for(var c=this._gradientPixels,b=c[k]||(c[k]=new Uint8ClampedArray(1024)),j=[0,0,0,0],g=0,f=0;256>f;f++){h[k](f/255,!0,j),b[g++]=j[0],b[g++]=j[1],b[g++]=j[2],b[g++]=j[3]}return b}},Uq({type:"heatmap",render:function(d,f,g){var c;f.eachComponent("visualMap",function(a){a.eachTargetSeries(function(e){e===d&&(c=a)})}),this.group.removeAll(),this._incrementalDisplayable=null;var b=d.coordinateSystem;"cartesian2d"===b.type||"calendar"===b.type?this._renderOnCartesianAndCalendar(d,g,0,d.getData().count()):adW(b)&&this._renderOnGeo(b,d,c,g)},incrementalPrepareRender:function(){this.group.removeAll()},incrementalRender:function(d,f,g,c){var b=f.coordinateSystem;b&&this._renderOnCartesianAndCalendar(f,c,d.start,d.end,!0)},_renderOnCartesianAndCalendar:function(G,X,O,R,ab){var N,J,Q=G.coordinateSystem;if("cartesian2d"===Q.type){var F=Q.getAxis("x"),U=Q.getAxis("y");N=F.getBandWidth(),J=U.getBandWidth()}for(var Z=this.group,Y=G.getData(),W="itemStyle",L="emphasis.itemStyle",V="label",P="emphasis.label",E=G.getModel(W).getItemStyle(["color"]),r=G.getModel(L).getItemStyle(),B=G.getModel(V),ac=G.getModel(P),C=Q.type,aa="cartesian2d"===C?[Y.mapDimension("x"),Y.mapDimension("y"),Y.mapDimension("value")]:[Y.mapDimension("time"),Y.mapDimension("value")],k=O;R>k;k++){var q;if("cartesian2d"===C){if(isNaN(Y.get(aa[2],k))){continue}var z=Q.dataToPoint([Y.get(aa[0],k),Y.get(aa[1],k)]);q=new agM({shape:{x:z[0]-N/2,y:z[1]-J/2,width:N,height:J},style:{fill:Y.getItemVisual(k,"color"),opacity:Y.getItemVisual(k,"opacity")}})}else{if(isNaN(Y.get(aa[1],k))){continue}q=new agM({z2:1,shape:Q.dataToRect([Y.get(aa[0],k)]).contentShape,style:{fill:Y.getItemVisual(k,"color"),opacity:Y.getItemVisual(k,"opacity")}})}var j=Y.getItemModel(k);Y.hasItemOption&&(E=j.getModel(W).getItemStyle(["color"]),r=j.getModel(L).getItemStyle(),B=j.getModel(V),ac=j.getModel(P));var K=G.getRawValue(k),H="-";K&&null!=K[2]&&(H=K[2]),ajD(E,r,B,ac,{labelFetcher:G,labelDataIndex:k,defaultText:H,isRectText:!0}),q.setStyle(E),aQ(q,Y.hasItemOption?r:aip({},r)),q.incremental=ab,ab&&(q.useHoverLayer=!0),Z.add(q),Y.setItemGraphicEl(k,q)}},_renderOnGeo:function(w,K,D,G){var N=D.targetVisuals.inRange,C=D.targetVisuals.outOfRange,A=K.getData(),z=this._hmLayer||this._hmLayer||new G9;z.blurSize=K.get("blurSize"),z.pointSize=K.get("pointSize"),z.minOpacity=K.get("minOpacity"),z.maxOpacity=K.get("maxOpacity");var F=w.getViewRect().clone(),q=w.getRoamTransform();F.applyTransform(q);var H=Math.max(F.x,0),M=Math.max(F.y,0),L=Math.min(F.width+F.x,G.getWidth()),J=Math.min(F.height+F.y,G.getHeight()),B=L-H,I=J-M,E=[A.mapDimension("lng"),A.mapDimension("lat"),A.mapDimension("value")],k=A.mapArray(E,function(f,g,d){var c=w.dataToPoint([f,g]);return c[0]-=H,c[1]-=M,c.push(d),c}),b=D.getExtent(),j="visualMap.continuous"===D.type?v2(b,D.option.range):IQ(b,D.getPieceList(),D.option.selected);z.update(k,B,I,N.color.getNormalizer(),{inRange:N.color.getColorMapper(),outOfRange:C.color.getColorMapper()},j);var O=new TJ({style:{width:B,height:I,x:H,y:M,image:z.canvas},silent:!0});this.group.add(O)},dispose:function(){}});var p3=aiT,Wj="\x00__link_datas",ahk="\x00__link_mainData",ab0=function(a,b){this.name=a||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=b};ab0.prototype={constructor:ab0,isRemoved:function(){return this.dataIndex<0},eachNode:function(d,g,j){"function"==typeof d&&(j=g,g=d,d=null),d=d||{},ai2(d)&&(d={order:d});var c,b=d.order||"preorder",h=this[d.attr||"children"];"preorder"===b&&(c=g.call(j,this));for(var f=0;!c&&f<h.length;f++){h[f].eachNode(d,g,j)}"postorder"===b&&g.call(j,this)},updateDepthAndHeight:function(b){var c=0;this.depth=b;for(var d=0;d<this.children.length;d++){var a=this.children[d];a.updateDepthAndHeight(b+1),a.height>c&&(c=a.height)}this.height=c+1},getNodeById:function(d){if(this.getId()===d){return this}for(var f=0,g=this.children,c=g.length;c>f;f++){var b=g[f].getNodeById(d);if(b){return b}}},contains:function(d){if(d===this){return !0}for(var f=0,g=this.children,c=g.length;c>f;f++){var b=g[f].contains(d);if(b){return b}}},getAncestors:function(a){for(var b=[],c=a?this:this.parentNode;c;){b.push(c),c=c.parentNode}return b.reverse(),b},getValue:function(a){var b=this.hostTree.data;return b.get(b.getDimension(a||"value"),this.dataIndex)},setLayout:function(a,b){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,a,b)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(d){if(!(this.dataIndex<0)){var f,g=this.hostTree,c=g.data.getItemModel(this.dataIndex),b=this.getLevelModel();return b||0!==this.children.length&&(0===this.children.length||this.isExpand!==!1)||(f=this.getLeavesModel()),c.getModel(d,(b||f||g.hostModel).getModel(d))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(a,b){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,a,b)},getVisual:function(a,b){return this.hostTree.data.getItemVisual(this.dataIndex,a,b)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(a){for(var b=a.parentNode;b;){if(b===this){return !0}b=b.parentNode}return !1},isDescendantOf:function(a){return a!==this&&a.isAncestorOf(this)}},C2.prototype={constructor:C2,type:"tree",eachNode:function(a,b,c){this.root.eachNode(a,b,c)},getNodeByDataIndex:function(a){var b=this.data.getRawIndex(a);return this._nodes[b]},getNodeByName:function(a){return this.root.getNodeByName(a)},update:function(){for(var b=this.data,c=this._nodes,d=0,a=c.length;a>d;d++){c[d].dataIndex=-1}for(var d=0,a=b.count();a>d;d++){c[b.getRawIndex(d)].dataIndex=d}},clearLayouts:function(){this.data.clearItemLayouts()}},C2.createTree=function(k,h,d){function g(o,q){var r=o.value;b=Math.max(b,ai9(r)?r.length:1),c.push(o);var p=new ab0(o.name,j);q?EB(p,q):j.root=p,j._nodes.push(p);var a=o.children;if(a){for(var i=0;i<a.length;i++){g(a[i],p)}}}var j=new C2(h,d.levels,d.leaves),c=[],b=1;g(k),j.root.updateDepthAndHeight(0);var m=BQ(c,{coordDimensions:["value"],dimensionsCount:b}),f=new akJ(m,h);return f.initData(c),qq({mainData:f,struct:j,structAttr:"tree"}),j.update(),j},fQ.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(d){var h={name:d.name,children:d.data},k=d.leaves||{},c={};c.leaves=k;var b=C2.createTree(h,this,c),j=0;b.eachNode("preorder",function(a){a.depth>j&&(j=a.depth)});var g=d.expandAndCollapse,f=g&&d.initialTreeDepth>=0?d.initialTreeDepth:j;return b.root.eachNode("preorder",function(a){var i=a.hostTree.data.getRawDataItem(a.dataIndex);a.isExpand=i&&null!=i.collapsed?!i.collapsed:a.depth<=f}),b.data},getOrient:function(){var a=this.get("orient");return"horizontal"===a?a="LR":"vertical"===a&&(a="TB"),a},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},formatTooltip:function(d){for(var f=this.getData().tree,h=f.root.children[0],c=f.getNodeByDataIndex(d),b=c.getValue(),g=c.name;c&&c!==h;){g=c.parentNode.name+"."+g,c=c.parentNode}return aaE(g+(isNaN(b)||null==b?"":" : "+b))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",roam:!1,nodeScaleRatio:0.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:0.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1000}});var aeX=abw;aiZ(ahq,Q7),ab6.prototype={constructor:ab6,type:"view",dimensions:["x","y"],setBoundingRect:function(b,c,d,a){return this._rect=new acw(b,c,d,a),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(b,c,d,a){this.transformTo(b,c,d,a),this._viewRect=new acw(b,c,d,a)},transformTo:function(d,f,h,c){var b=this.getBoundingRect(),g=this._rawTransformable;g.transform=b.calculateTransform(new acw(d,f,h,c)),g.decomposeTransform(),this._updateTransform()},setCenter:function(a){a&&(this._center=a,this._updateCenterAndZoom())},setZoom:function(a){a=a||1;var b=this.zoomLimit;b&&(null!=b.max&&(a=Math.min(b.max,a)),null!=b.min&&(a=Math.max(b.min,a))),this._zoom=a,this._updateCenterAndZoom()},getDefaultCenter:function(){var a=this.getBoundingRect(),b=a.x+a.width/2,c=a.y+a.height/2;return[b,c]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var d=this._rawTransformable.getLocalTransform(),f=this._roamTransformable,g=this.getDefaultCenter(),c=this.getCenter(),b=this.getZoom();c=abw([],c,d),g=abw([],g,d),f.origin=c,f.position=[g[0]-c[0],g[1]-c[1]],f.scale=[b,b],this._updateTransform()},_updateTransform:function(){var a=this._roamTransformable,b=this._rawTransformable;b.parent=a,a.updateTransform(),b.updateTransform(),uG(this.transform||(this.transform=[]),b.transform||aj1()),this._rawTransform=b.getLocalTransform(),this.invTransform=this.invTransform||[],IJ(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var a=this.getBoundingRect().clone();return a.applyTransform(this.transform),a},dataToPoint:function(b,c,d){var a=c?this._rawTransform:this.transform;return d=d||[],a?aeX(d,b,a):aji(d,b)},pointToData:function(a){var b=this.invTransform;return b?aeX([],a,b):[a[0],a[1]]},convertToPixel:aie(akE,"dataToPoint"),convertFromPixel:aie(akE,"pointToData"),containPoint:function(a){return this.getViewRectAfterRoam().contain(a[0],a[1])}},aiZ(ab6,Q7);var aky="\x00_ec_interaction_mutex";oJ({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),aiZ(aiY,adp);var abp={axisPointer:1,tooltip:1,brush:1};Uq({type:"tree",init:function(a,b){this._oldTree,this._mainGroup=new jG,this._controller=new aiY(b.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(k,h,d){var g=k.getData(),j=k.layoutInfo,c=this._mainGroup,b=k.get("layout");"radial"===b?c.attr("position",[j.x+j.width/2,j.y+j.height/2]):c.attr("position",[j.x,j.y]),this._updateViewCoordSys(k),this._updateController(k,h,d);var m=this._data,f={expandAndCollapse:k.get("expandAndCollapse"),layout:b,orient:k.getOrient(),curvature:k.get("lineStyle.curveness"),symbolRotate:k.get("symbolRotate"),symbolOffset:k.get("symbolOffset"),hoverAnimation:k.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};g.diff(m).add(function(a){Sj(g,a)&&l2(g,a,null,c,k,f)}).update(function(l,o){var i=m.getItemGraphicEl(o);return Sj(g,l)?void l2(g,l,i,c,k,f):void (i&&uF(m,o,i,c,k,f))}).remove(function(a){var i=m.getItemGraphicEl(a);i&&uF(m,a,i,c,k,f)}).execute(),this._nodeScaleRatio=k.get("nodeScaleRatio"),this._updateNodeAndLinkScale(k),f.expandAndCollapse===!0&&g.eachItemGraphicEl(function(l,a){l.off("click").on("click",function(){d.dispatchAction({type:"treeExpandAndCollapse",seriesId:k.id,dataIndex:a})})}),this._data=g},_updateViewCoordSys:function(d){var f=d.getData(),h=[];f.each(function(e){var a=f.getItemLayout(e);!a||isNaN(a.x)||isNaN(a.y)||h.push([+a.x,+a.y])});var c=[],b=[];a6(h,c,b),b[0]-c[0]===0&&(b[0]+=1,c[0]-=1),b[1]-c[1]===0&&(b[1]+=1,c[1]-=1);var g=d.coordinateSystem=new ab6;g.zoomLimit=d.get("scaleLimit"),g.setBoundingRect(c[0],c[1],b[0]-c[0],b[1]-c[1]),g.setCenter(d.get("center")),g.setZoom(d.get("zoom")),this.group.attr({position:g.position,scale:g.scale}),this._viewCoordSys=g},_updateController:function(d,f,h){var c=this._controller,b=this._controllerHost,g=this.group;c.setPointerChecker(function(m,k,j){var l=g.getBoundingRect();return l.applyTransform(g.transform),l.contain(k,j)&&!a1(m,h,d)}),c.enable(d.get("roam")),b.zoomLimit=d.get("scaleLimit"),b.zoom=d.coordinateSystem.getZoom(),c.off("pan").off("zoom").on("pan",function(a){abv(b,a.dx,a.dy),h.dispatchAction({seriesId:d.id,type:"treeRoam",dx:a.dx,dy:a.dy})},this).on("zoom",function(a){Zj(b,a.scale,a.originX,a.originY),h.dispatchAction({seriesId:d.id,type:"treeRoam",zoom:a.scale,originX:a.originX,originY:a.originY}),this._updateNodeAndLinkScale(d)},this)},_updateNodeAndLinkScale:function(b){var c=b.getData(),d=this._getNodeGlobalScale(b),a=[d,d];c.eachItemGraphicEl(function(e){e.attr("scale",a)})},_getNodeGlobalScale:function(d){var g=d.coordinateSystem;if("view"!==g.type){return 1}var j=this._nodeScaleRatio,c=g.scale,b=c&&c[0]||1,h=g.getZoom(),f=(h-1)*j+1;return f/b},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}}),oJ({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(a,b){b.eachComponent({mainType:"series",subType:"tree",query:a},function(f){var g=a.dataIndex,d=f.getData().tree,c=d.getNodeByDataIndex(g);c.isExpand=!c.isExpand})}),oJ({type:"treeRoam",event:"treeRoam",update:"none"},function(a,b){b.eachComponent({mainType:"series",subType:"tree",query:a},function(d){var f=d.coordinateSystem,c=kJ(f,a);d.setCenter&&d.setCenter(c.center),d.setZoom&&d.setZoom(c.zoom)})});var Y4=function(a,b){a.eachSeriesByType("tree",function(c){IH(c,b)})};aeK(ajO("tree","circle")),abL(Y4),fQ.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:0.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:0.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(d,f){var g={name:d.name,children:d.data};nB(g);var c=d.levels||[];c=d.levels=N9(c,f);var b={};return b.levels=c,C2.createTree(g,this,b).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(d){var f=this.getData(),g=this.getRawValue(d),c=ahK(ai9(g)?g[0]:g),b=f.getName(d);return aaE(b+": "+c)},getDataParams:function(a){var b=fQ.prototype.getDataParams.apply(this,arguments),c=this.getData().tree.getNodeByDataIndex(a);return b.treePathInfo=rK(c,this),b},setLayoutInfo:function(a){this.layoutInfo=this.layoutInfo||{},aip(this.layoutInfo,a)},mapIdToIndex:function(a){var b=this._idIndexMap;b||(b=this._idIndexMap=aj6(),this._idIndexMapCount=0);var c=b.get(a);return null==c&&b.set(a,c=this._idIndexMapCount++),c},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(a){a?this._viewRoot=a:a=this._viewRoot;var b=this.getRawData().tree.root;(!a||a!==b&&!b.contains(a))&&(this._viewRoot=b)}});var XU=8,adc=8,UZ=5;FV.prototype={constructor:FV,render:function(k,h,d,g){var j=k.getModel("breadcrumb"),c=this.group;if(c.removeAll(),j.get("show")&&d){var b=j.getModel("itemStyle"),m=b.getModel("textStyle"),f={pos:{left:j.get("left"),right:j.get("right"),top:j.get("top"),bottom:j.get("bottom")},box:{width:h.getWidth(),height:h.getHeight()},emptyItemWidth:j.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(d,f,m),this._renderContent(k,f,b,m,g),tX(c,f.pos,f.box)}},_prepare:function(d,g,j){for(var c=d;c;c=c.parentNode){var b=c.getModel().get("name"),h=j.getTextRect(b),f=Math.max(h.width+2*XU,g.emptyItemWidth);g.totalWidth+=f+adc,g.renderList.push({node:c,text:b,width:f})}},_renderContent:function(H,B,q,x,E){for(var k=0,b=B.emptyItemWidth,w=H.get("breadcrumb.height"),G=ajw(B.pos,B.box),y=B.totalWidth,D=B.renderList,C=D.length-1;C>=0;C--){var A=D[C],j=A.node,z=A.width,s=A.text;y>G.width&&(y-=z-b,z=b,s=null);var F=new ahn({shape:{points:s3(k,0,z,w,C===D.length-1,0===C)},style:ain(q.getItemStyle(),{lineJoin:"bevel",text:s,textFill:x.getTextColor(),textFont:x.getFont()}),z:10,onclick:aie(E,j)});this.group.add(F),J0(F,H,j),k+=z+adc}},remove:function(){this.group.removeAll()}};var afx=aic,aiM=jG,ahU=agM,agJ=aiT,aaO=3,af8=["label"],acB=["emphasis","label"],TG=["upperLabel"],Pj=["emphasis","upperLabel"],QU=10,aX=1,R4=2,ajN=zB([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),lW=function(a){var b=ajN(a);return b.stroke=b.fill=b.lineWidth=null,b};Uq({type:"treemap",init:function(){this._containerGroup,this._storage=CZ(),this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(A,w,k,q){var z=w.findComponents({mainType:"series",subType:"treemap",query:q});if(!(aij(z,A)<0)){this.seriesModel=A,this.api=k,this.ecModel=w;var j=["treemapZoomToNode","treemapRootToNode"],b=vZ(q,j,A),B=q&&q.type,m=A.layoutInfo,u=!this._oldTree,y=this._storage,x="treemapRootToNode"===B&&b&&y?{rootNodeGroup:y.nodeGroup[b.node.getRawIndex()],direction:q.direction}:null,v=this._giveContainerGroup(m),g=this._doRender(v,A,x);u||B&&"treemapZoomToNode"!==B&&"treemapRootToNode"!==B?g.renderFinally():this._doAnimation(v,g,A,x),this._resetController(k),this._renderBreadcrumb(A,k,b)}},_giveContainerGroup:function(a){var b=this._containerGroup;return b||(b=this._containerGroup=new aiM,this._initEvents(b),this.group.add(b)),b.attr("position",[a.x,a.y]),b},_doRender:function(A,v,j){function m(d,i,u,c,l){function h(a){return a.getId()}function f(t,o){var a=null!=t?d[t]:null,e=null!=o?i[o]:null,n=w(a,e,u,l);n&&m(a&&a.viewChildren||[],e&&e.viewChildren||[],n,c,l+1)}c?(i=d,agJ(d,function(a,n){!a.isRemoved()&&f(n,n)})):new aaA(i,d,h,h).add(f).update(f).remove(aie(f,null)).execute()}function y(a){var c=CZ();return a&&agJ(a,function(e,f){var d=c[f];agJ(e,function(h){h&&(d.push(h),h.__tmWillDelete=1)})}),c}function g(){agJ(q,function(a){agJ(a,function(c){c.parent&&c.parent.remove(c)})}),agJ(x,function(a){a.invisible=!0,a.dirty()})}var b=v.getData().tree,B=this._oldTree,k=CZ(),z=CZ(),p=this._storage,x=[],w=aie(Ej,v,z,p,j,k,x);m(b.root?[b.root]:[],B&&B.root?[B.root]:[],A,b===B||!B,0);var q=y(p);return this._oldTree=b,this._storage=z,{lastsForAnimation:k,willDeleteEls:q,renderFinally:g}},_doAnimation:function(d,g,j,c){if(j.get("animation")){var b=j.get("animationDurationUpdate"),h=j.get("animationEasing"),f=hX();agJ(g.willDeleteEls,function(a,i){agJ(a,function(m){if(!m.invisible){var p,o=m.parent;if(c&&"drillDown"===c.direction){p=o===c.rootNodeGroup?{shape:{x:0,y:0,width:o.__tmNodeWidth,height:o.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}}}else{var e=0,k=0;o.__tmWillDelete||(e=o.__tmNodeWidth/2,k=o.__tmNodeHeight/2),p="nodeGroup"===i?{position:[e,k],style:{opacity:0}}:{shape:{x:e,y:k,width:0,height:0},style:{opacity:0}}}p&&f.add(m,p,b,h)}})}),agJ(this._storage,function(a,e){agJ(a,function(o,n){var k=g.lastsForAnimation[e][n],m={};k&&("nodeGroup"===e?k.old&&(m.position=o.position.slice(),o.attr("position",k.old)):(k.old&&(m.shape=aip({},o.shape),o.setShape(k.old)),k.fadein?(o.setStyle("opacity",0),m.style={opacity:1}):1!==o.style.opacity&&(m.style={opacity:1})),f.add(o,m,b,h))})},this),this._state="animating",f.done(afx(function(){this._state="ready",g.renderFinally()},this)).start()}},_resetController:function(a){var b=this._controller;b||(b=this._controller=new aiY(a.getZr()),b.enable(this.seriesModel.get("roam")),b.on("pan",afx(this._onPan,this)),b.on("zoom",afx(this._onZoom,this)));var c=new acw(0,0,a.getWidth(),a.getHeight());b.setPointerChecker(function(f,g,d){return c.contain(g,d)})},_clearController:function(){var a=this._controller;a&&(a.dispose(),a=null)},_onPan:function(a){if("animating"!==this._state&&(Math.abs(a.dx)>aaO||Math.abs(a.dy)>aaO)){var b=this.seriesModel.getData().tree.root;if(!b){return}var c=b.getLayout();if(!c){return}this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:c.x+a.dx,y:c.y+a.dy,width:c.width,height:c.height}})}},_onZoom:function(d){var h=d.originX,k=d.originY;if("animating"!==this._state){var c=this.seriesModel.getData().tree.root;if(!c){return}var b=c.getLayout();if(!b){return}var j=new acw(b.x,b.y,b.width,b.height),g=this.seriesModel.layoutInfo;h-=g.x,k-=g.y;var f=aj1();kK(f,f,[-h,-k]),G7(f,f,[d.scale,d.scale]),kK(f,f,[h,k]),j.applyTransform(f),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:j.x,y:j.y,width:j.width,height:j.height}})}},_initEvents:function(a){a.on("click",function(d){if("ready"===this._state){var g=this.seriesModel.get("nodeClick",!0);if(g){var j=this.findTarget(d.offsetX,d.offsetY);if(j){var c=j.node;if(c.getLayout().isLeafRoot){this._rootToNode(j)}else{if("zoomToNode"===g){this._zoomToNode(j)}else{if("link"===g){var b=c.hostTree.data.getItemModel(c.dataIndex),h=b.get("link",!0),f=b.get("target",!0)||"blank";h&&window.open(h,f)}}}}}}},this)},_renderBreadcrumb:function(b,c,d){function a(f){"animating"!==this._state&&(p8(b.getViewRoot(),f)?this._rootToNode({node:f}):this._zoomToNode({node:f}))}d||(d=null!=b.get("leafDepth",!0)?{node:b.getViewRoot()}:this.findTarget(c.getWidth()/2,c.getHeight()/2),d||(d={node:b.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new FV(this.group))).render(b,c,d.node,afx(a,this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=CZ(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(a){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},_rootToNode:function(a){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},findTarget:function(b,c){var d,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(f){var e=this._storage.background[f.getRawIndex()];if(e){var h=e.transformCoordToLocal(b,c),g=e.shape;if(!(g.x<=h[0]&&h[0]<=g.x+g.width&&g.y<=h[1]&&h[1]<=g.y+g.height)){return !1}d={node:f,offsetX:h[0],offsetY:h[1]}}},this),d}});for(var t8=function(){},zY=["treemapZoomToNode","treemapRender","treemapMove"],kq=0;kq<zY.length;kq++){oJ({type:zY[kq],update:"updateView"},t8)}oJ({type:"treemapRootToNode",update:"updateView"},function(a,b){function c(g){var h=["treemapZoomToNode","treemapRootToNode"],f=vZ(a,h,g);if(f){var d=g.getViewRoot();d&&(a.direction=p8(d,f.node)?"rollUp":"drillDown"),g.resetViewRoot(f.node)}}b.eachComponent({mainType:"series",subType:"treemap",query:a},c)});var K4=aiT,G0=ajq,Ij=-1,vQ=function(c){var d=c.mappingMethod,g=c.type,b=this.option=aiO(c);this.type=g,this.mappingMethod=d,this._normalizeData=p2[d];var f=adN[g];this.applyVisual=f.applyVisual,this.getColorMapper=f.getColorMapper,this._doMap=f._doMap[d],"piecewise"===d?(e2(b),BG(b)):"category"===d?b.categories?ct(b):e2(b,!0):(ajz("linear"!==d||b.dataExtent),e2(b))};vQ.prototype={constructor:vQ,mapValueToVisual:function(a){var b=this._normalizeData(a);return this._doMap(b,a)},getNormalizer:function(){return aic(this._normalizeData,this)}};var adN=vQ.visualHandlers={color:{applyVisual:i8("color"),getColorMapper:function(){var a=this.option;return aic("category"===a.mappingMethod?function(b,c){return !c&&(b=this._normalizeData(b)),aak.call(this,b)}:function(d,f,c){var b=!!c;return !f&&(d=this._normalizeData(d)),c=i9(d,a.parsedVisual,c),b?c:yV(c,"rgba")},this)},_doMap:{linear:function(a){return yV(i9(a,this.option.parsedVisual),"rgba")},category:aak,piecewise:function(a,b){var c=yU.call(this,b);return null==c&&(c=yV(i9(a,this.option.parsedVisual),"rgba")),c},fixed:xj}},colorHue:dK(function(a,b){return xq(a,b)}),colorSaturation:dK(function(a,b){return xq(a,null,b)}),colorLightness:dK(function(a,b){return xq(a,null,null,b)}),colorAlpha:dK(function(a,b){return M0(a,b)}),opacity:{applyVisual:i8("opacity"),_doMap:MZ([0,1])},liftZ:{applyVisual:i8("liftZ"),_doMap:{linear:xj,category:xj,piecewise:xj,fixed:xj}},symbol:{applyVisual:function(d,f,g){var c=this.mapValueToVisual(d);if(ai2(c)){g("symbol",c)}else{if(G0(c)){for(var b in c){c.hasOwnProperty(b)&&g(b,c[b])}}}},_doMap:{linear:aeu,category:aak,piecewise:function(a,b){var c=yU.call(this,b);return null==c&&(c=aeu.call(this,a)),c},fixed:xj}},symbolSize:{applyVisual:i8("symbolSize"),_doMap:MZ([0,1])}},p2={linear:function(a){return Z7(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var b=this.option.pieceList,c=vQ.findPieceIndex(a,b,!0);return null!=c?Z7(c,[0,b.length-1],[0,1],!0):void 0},category:function(a){var b=this.option.categories?this.option.categoryMap[a]:a;return null==b?Ij:b},fixed:ajU};vQ.listVisualTypes=function(){var a=[];return aiT(adN,function(b,c){a.push(c)}),a},vQ.addVisualHandler=function(a,b){adN[a]=b},vQ.isValidType=function(a){return adN.hasOwnProperty(a)},vQ.eachVisual=function(a,b,c){ajq(a)?aiT(a,b,c):b.call(c,a)},vQ.mapVisual=function(d,f,g){var c,b=ai9(d)?[]:ajq(d)?{}:(c=!0,null);return vQ.eachVisual(d,function(a,h){var e=f.call(g,a,h);c?b=e:b[h]=e}),b},vQ.retrieveVisuals=function(a){var b,c={};return a&&K4(adN,function(e,d){a.hasOwnProperty(d)&&(c[d]=a[d],b=!0)}),b?c:null},vQ.prepareVisualTypes=function(a){if(G0(a)){var b=[];K4(a,function(c,d){b.push(d)}),a=b}else{if(!ai9(a)){return[]}a=a.slice()}return a.sort(function(c,d){return"color"===d&&"color"!==c&&0===c.indexOf("color")?1:-1}),a},vQ.dependsOn=function(a,b){return"color"===b?!(!a||0!==a.indexOf(b)):a===b},vQ.findPieceIndex=function(w,m,f){function j(c,h){var a=Math.abs(c-w);d>a&&(d=a,q=h)}for(var q,d=1/0,b=0,x=m.length;x>b;b++){var g=m[b].value;if(null!=g){if(g===w||"string"==typeof g&&g===w+""){return b}f&&j(g,b)}}for(var b=0,x=m.length;x>b;b++){var v=m[b],k=v.interval,p=v.close;if(k){if(k[0]===-1/0){if(V1(p[1],w,k[1])){return b}}else{if(1/0===k[1]){if(V1(p[0],k[0],w)){return b}}else{if(V1(p[0],k[0],w)&&V1(p[1],w,k[1])){return b}}}f&&j(k[0],b),f&&j(k[1],b)}}return f?1/0===w?m.length-1:w===-1/0?0:q:void 0};var rt=ai9,m7="itemStyle",N5={seriesType:"treemap",reset:function(d){var f=d.getData().tree,g=f.root,c=d.getModel(m7);if(!g.isRemoved()){var b=aiu(f.levelModels,function(a){return a?a.get(m7):null});ahb(g,{},b,c,d.getViewRoot().getAncestors(),d)}}},FG=Math.max,sX=Math.min,JU=aj0,hJ=aiT,CQ=["itemStyle","borderWidth"],D4=["itemStyle","gapWidth"],f6=["upperLabel","show"],A9=["upperLabel","height"],b8={seriesType:"treemap",reset:function(A,L,E,H){var P=E.getWidth(),D=E.getHeight(),B=A.option,G=lq(A.getBoxLayoutParams(),{width:E.getWidth(),height:E.getHeight()}),z=B.size||[],I=wX(JU(G.width,z[0]),P),N=wX(JU(G.height,z[1]),D),M=H&&H.type,K=["treemapZoomToNode","treemapRootToNode"],C=vZ(H,K,A),J="treemapRender"===M||"treemapMove"===M?H.rootRect:null,F=A.getViewRoot(),r=adT(F);if("treemapMove"!==M){var j="treemapZoomToNode"===M?acs(A,C,F,I,N):J?[J.width,J.height]:[I,N],k=B.sort;k&&"asc"!==k&&"desc"!==k&&(k="desc");var Q={squareRatio:B.squareRatio,sort:k,leafDepth:B.leafDepth};F.hostTree.clearLayouts();var q={x:0,y:0,width:j[0],height:j[1],area:j[0]*j[1]};F.setLayout(q),UJ(F,Q,!1,0);var q=F.getLayout();hJ(r,function(a,b){var c=(r[b+1]||F).getValue();a.setLayout(aip({dataExtent:[c,c],borderWidth:0,upperHeight:0},q))})}var O=A.getData().tree.root;O.setLayout(S6(G,J,C),!0),A.setLayoutInfo(G),O1(O,new acw(-G.x,-G.y,P,D),r,F,0)}};aeK(N5),abL(b8),fQ.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(b){var c={name:b.name,children:b.data};aK(c);var d=b.levels||[],a={};return a.levels=d,C2.createTree(c,this,a).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(a){var b=fQ.prototype.getDataParams.apply(this,arguments),c=this.getData().tree.getNodeByDataIndex(a);return b.treePathInfo=rK(c,this),b},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:0.9}},animationType:"expansion",animationDuration:1000,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(a){a?this._viewRoot=a:a=this._viewRoot;var b=this.getRawData().tree.root;(!a||a!==b&&!b.contains(a))&&(this._viewRoot=b)}});var eW={NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"},dt=2,aeo=4,i2=RV.prototype;i2.updateData=function(D,y,j,r,b){this.node=y,y.piece=this,r=r||this._seriesModel,b=b||this._ecModel;var q=this.childAt(0);q.dataIndex=y.dataIndex;var C=y.getModel(),s=y.getLayout();s||console.log(y.getLayout());var A=aip({},s);A.label=null;var z,x=ajA(y,r,b),a=C.getModel("itemStyle").getItemStyle();if("normal"===j){z=a}else{var w=C.getModel(j+".itemStyle").getItemStyle();z=ai5(w,a)}z=ain({lineJoin:"bevel",fill:z.fill||x},z),D?(q.setShape(A),q.shape.r=s.r0,q5(q,{shape:{r:s.r}},r,y.dataIndex),q.useStyle(z)):"object"==typeof z.fill&&z.fill.type||"object"==typeof q.style.fill&&q.style.fill.type?(q5(q,{shape:A},r),q.useStyle(z)):q5(q,{shape:A,style:z},r),this._updateLabel(r,x,j);var k=C.getShallow("cursor");if(k&&q.attr("cursor",k),D){var B=r.getShallow("highlightPolicy");this._initEvents(q,y,r,B)}this._seriesModel=r||this._seriesModel,this._ecModel=b||this._ecModel},i2.onEmphasis=function(a){var b=this;this.node.hostTree.root.eachNode(function(c){c.piece&&(b.node===c?c.piece.updateData(!1,c,"emphasis"):tZ(c,b.node,a)?c.piece.childAt(0).trigger("highlight"):a!==eW.NONE&&c.piece.childAt(0).trigger("downplay"))})},i2.onNormal=function(){this.node.hostTree.root.eachNode(function(a){a.piece&&a.piece.updateData(!1,a,"normal")})},i2.onHighlight=function(){this.updateData(!1,this.node,"highlight")},i2.onDownplay=function(){this.updateData(!1,this.node,"downplay")},i2._updateLabel=function(C,O,H){function K(a){var b=E.get(a);return null==b?G.get(a):b}var T=this.node.getModel(),G=T.getModel("label"),E="normal"===H||"emphasis"===H?G:T.getModel(H+".label"),D=T.getModel("emphasis.label"),J=aj0(C.getFormattedLabel(this.node.dataIndex,"normal",null,null,"label"),this.node.name);K("show")===!1&&(J="");var B=this.node.getLayout(),L=E.get("minAngle");null==L&&(L=G.get("minAngle")),L=L/180*Math.PI;var Q=B.endAngle-B.startAngle;null!=L&&Math.abs(Q)<L&&(J="");var P=this.childAt(1);ajD(P.style,P.hoverStyle||{},G,D,{defaultText:E.getShallow("show")?J:null,autoColor:O,useInsideStyle:!0});var N,F=(B.startAngle+B.endAngle)/2,M=Math.cos(F),I=Math.sin(F),A=K("position"),k=K("distance")||0,q=K("align");"outside"===A?(N=B.r+k,q=F>Math.PI/2?"right":"left"):q&&"center"!==q?"left"===q?(N=B.r0+k,F>Math.PI/2&&(q="right")):"right"===q&&(N=B.r-k,F>Math.PI/2&&(q="left")):(N=(B.r+B.r0)/2,q="center"),P.attr("style",{text:J,textAlign:q,textVerticalAlign:K("verticalAlign")||"middle",opacity:K("opacity")});var U=N*M+B.cx,z=N*I+B.cy;P.attr("position",[U,z]);var R=K("rotate"),j=0;"radial"===R?(j=-F,j<-Math.PI/2&&(j+=Math.PI)):"tangential"===R?(j=Math.PI/2-F,j>Math.PI/2?j-=Math.PI:j<-Math.PI/2&&(j+=Math.PI)):"number"==typeof R&&(j=R*Math.PI/180),P.attr("rotation",j)},i2._initEvents=function(k,h,d,g){k.off("mouseover").off("mouseout").off("emphasis").off("normal");var j=this,c=function(){j.onEmphasis(g)},b=function(){j.onNormal()},m=function(){j.onDownplay()},f=function(){j.onHighlight()};d.isAnimationEnabled()&&k.on("mouseover",c).on("mouseout",b).on("emphasis",c).on("normal",b).on("downplay",m).on("highlight",f)},aiP(RV,jG);var aae="sunburstRootToNode",w4=(B7.extend({type:"sunburst",init:function(){},render:function(k,G,z,C){function J(c,d){function f(e){return e.getId()}function a(l,g){var e=null==l?null:c[l],h=null==g?null:d[g];y(e,h)}(0!==c.length||0!==d.length)&&new aaA(d,c,f,f).add(a).update(a).remove(aie(a,null)).execute()}function y(e,d){if(F||!e||e.getValue()||(e=null),e!==D&&d!==D){if(d&&d.piece){e?(d.piece.updateData(!1,e,"normal",k,G),j.setItemGraphicEl(e.dataIndex,d.piece)):w(d)}else{if(e){var c=new RV(e,k,G);H.add(c),j.setItemGraphicEl(e.dataIndex,c)}}}}function w(a){a&&a.piece&&(H.remove(a.piece),a.piece=null)}function q(e,d){if(d.depth>0){B.virtualPiece?B.virtualPiece.updateData(!1,e,"normal",k,G):(B.virtualPiece=new RV(e,k,G),H.add(B.virtualPiece)),d.piece._onclickEvent&&d.piece.off("click",d.piece._onclickEvent);var c=function(){B._rootToNode(d.parentNode)};d.piece._onclickEvent=c,B.virtualPiece.on("click",c)}else{B.virtualPiece&&(H.remove(B.virtualPiece),B.virtualPiece=null)}}var B=this;this.seriesModel=k,this.api=z,this.ecModel=G;var j=k.getData(),D=j.tree.root,I=k.getViewRoot(),H=this.group,F=k.get("renderLabelForZeroData"),x=[];I.eachNode(function(a){x.push(a)});var E=this._oldChildren||[];if(J(x,E),q(D,I),C&&C.highlight&&C.highlight.piece){var A=k.getShallow("highlightPolicy");C.highlight.piece.onEmphasis(A)}else{if(C&&C.unhighlight){var b=this.virtualPiece;!b&&D.children.length&&(b=D.children[0].piece),b&&b.onNormal()}}this._initEvents(),this._oldChildren=x},dispose:function(){},_initEvents:function(){var a=this,b=function(d){var f=!1,c=a.seriesModel.getViewRoot();c.eachNode(function(g){if(!f&&g.piece&&g.piece.childAt(0)===d.target){var e=g.getModel().get("nodeClick");if("rootToNode"===e){a._rootToNode(g)}else{if("link"===e){var k=g.getModel(),j=k.get("link");if(j){var h=k.get("target",!0)||"_blank";window.open(j,h)}}}f=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",b),this.group._onclickEvent=b},_rootToNode:function(a){a!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:aae,from:this.uid,seriesId:this.seriesModel.id,targetNode:a})},containPoint:function(d,g){var j=g.getData(),c=j.getItemLayout(0);if(c){var b=d[0]-c.cx,h=d[1]-c.cy,f=Math.sqrt(b*b+h*h);return f<=c.r&&f>=c.r0}}}),"sunburstRootToNode");oJ({type:w4,update:"updateView"},function(a,b){function c(f){var g=vZ(a,[w4],f);if(g){var d=f.getViewRoot();d&&(a.direction=p8(d,g.node)?"rollUp":"drillDown"),f.resetViewRoot(g.node)}}b.eachComponent({mainType:"series",subType:"sunburst",query:a},c)});var MV="sunburstHighlight";oJ({type:MV,update:"updateView"},function(a,b){function c(d){var f=vZ(a,[MV],d);f&&(a.highlight=f.node)}b.eachComponent({mainType:"series",subType:"sunburst",query:a},c)});var yF="sunburstUnhighlight";oJ({type:yF,update:"updateView"},function(a,b){function c(){a.unhighlight=!0}b.eachComponent({mainType:"series",subType:"sunburst",query:a},c)});var oK=Math.PI/180,XB=function(a,b,c){b.eachSeriesByType(a,function(J){var ab=J.get("center"),Y=J.get("radius");ai9(Y)||(Y=[0,Y]),ai9(ab)||(ab=[ab,ab]);var af=c.getWidth(),U=c.getHeight(),P=Math.min(af,U),N=wX(ab[0],af),W=wX(ab[1],U),H=wX(Y[0],P/2),Z=wX(Y[1],P/2),ad=-J.get("startAngle")*oK,ac=J.get("minAngle")*oK,R=J.getData().tree.root,aa=J.getViewRoot(),V=aa.depth,G=J.get("sort");null!=G&&zH(aa,G);var z=0;aiT(aa.children,function(d){!isNaN(d.getValue())&&z++});var E=aa.getValue(),F=Math.PI/(E||z)*2,ae=aa.depth>0,j=aa.height-(ae?-1:1),n=(Z-H)/(j||1),B=J.get("clockwise"),f=J.get("stillShowZeroSum"),Q=B?1:-1,K=function(x,r){if(x){var k=r;if(x!==R){var l=x.getValue(),u=0===E&&f?F:l*F;ac>u&&(u=ac),k=r+Q*u;var d=x.depth-V-(ae?-1:1),m=H+n*d,s=H+n*(d+1),p=x.getModel();null!=p.get("r0")&&(m=wX(p.get("r0"),P/2)),null!=p.get("r")&&(s=wX(p.get("r"),P/2)),x.setLayout({angle:u,startAngle:r,endAngle:k,clockwise:B,cx:N,cy:W,r0:m,r:s})}if(x.children&&x.children.length){var w=0;aiT(x.children,function(e){w+=K(e,r+w)})}return k-r}};if(ae){var O=H,q=H+n,X=2*Math.PI;R.setLayout({angle:X,startAngle:ad,endAngle:ad+X,clockwise:B,cx:N,cy:W,r0:O,r:q})}K(aa,ad)})};aeK(aie(TH,"sunburst")),abL(aie(XB,"sunburst")),MU(aie(lX,"sunburst"));for(var ahN=[126,25],act=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,0.7],[52,0.7],[56,7.7],[59,0.7],[64,0.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],afp=0;afp<act.length;afp++){for(var akT=0;akT<act[afp].length;akT++){act[afp][akT][0]/=10.5,act[afp][akT][1]/=-14,act[afp][akT][0]+=ahN[0],act[afp][akT][1]+=ahN[1]}}var abS=function(a,b){"china"===a&&b.push(new l0("南海诸岛",aiu(act,function(c){return{type:"polygon",exterior:c}}),ahN))},Z6={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]},YW=function(b,c){if("china"===b){var d=Z6[c.name];if(d){var a=c.center;a[0]+=d[0]/10.5,a[1]+=-d[1]/14}}},adF={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},V2=function(b,c){if("world"===b){var d=adF[c.name];if(d){var a=c.center;a[0]=d[0],a[1]=d[1]}}},af0=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],ajB=function(a,b){"china"===a&&"台湾"===b.name&&b.geometries.push({type:"polygon",exterior:af0[0]})},aiA=aeq(),ahc={load:function(d,g){var j=aiA(g).parsed;if(j){return j}var c,b=g.specialAreas||{},h=g.geoJSON;try{c=h?ahw(h):[]}catch(f){throw new Error("Invalid geoJson format\n"+f.message)}return aiT(c,function(k){var l=k.name;YW(d,k),V2(d,k),ajB(d,k);var a=b[l];a&&k.transformTo(a.left,a.top,a.width,a.height)}),abS(d,c),aiA(g).parsed={regions:c,boundingRect:KV(c)}}},abh=aeq(),agB={load:function(b,c){var d=abh(c).originRoot;if(d){return{root:d,boundingRect:abh(c).boundingRect}}var a=GJ(c);return abh(c).originRoot=a.root,abh(c).boundingRect=a.boundingRect,a},makeGraphic:function(d,h,k){var c=abh(h),b=c.rootMap||(c.rootMap=aj6()),j=b.get(k);if(j){return j}var g=c.originRoot,f=c.boundingRect;return c.originRootHostKey?j=GJ(h,f).root:(c.originRootHostKey=k,j=g),b.set(k,j)},removeGraphic:function(d,f,g){var c=abh(f),b=c.rootMap;b&&b.removeKey(g),g===c.originRootHostKey&&(c.originRootHostKey=null)}},ac4={geoJSON:ahc,svg:agB},UK={load:function(d,g){var j,c=[],b=aj6(),h=aj6(),f=vj(d);return aiT(f,function(i){var e=ac4[i.type].load(d,i);aiT(e.regions,function(k){var l=k.name;g&&g.hasOwnProperty(l)&&(k=k.cloneShallow(l=g[l])),c.push(k),b.set(l,k),h.set(l,k.center)});var a=e.boundingRect;a&&(j?j.union(a):j=a.clone())}),{regions:c,regionsMap:b,nameCoordMap:h,boundingRect:j||new acw(0,0,0,0)}},makeGraphic:H1("makeGraphic"),removeGraphic:H1("removeGraphic")};adE.prototype={constructor:adE,type:"geo",dimensions:["lng","lat"],containCoord:function(a){for(var b=this.regions,c=0;c<b.length;c++){if(b[c].contain(a)){return !0}}return !1},transformTo:function(d,h,k,c){var b=this.getBoundingRect(),j=this._invertLongitute;b=b.clone(),j&&(b.y=-b.y-b.height);var g=this._rawTransformable;if(g.transform=b.calculateTransform(new acw(d,h,k,c)),g.decomposeTransform(),j){var f=g.scale;f[1]=-f[1]}g.updateTransform(),this._updateTransform()},getRegion:function(a){return this._regionsMap.get(a)},getRegionByCoord:function(a){for(var b=this.regions,c=0;c<b.length;c++){if(b[c].contain(a)){return b[c]}}},addGeoCoord:function(a,b){this._nameCoordMap.set(a,b)},getGeoCoord:function(a){return this._nameCoordMap.get(a)},getBoundingRect:function(){return this._rect},dataToPoint:function(a,b,c){return"string"==typeof a&&(a=this.getGeoCoord(a)),a?ab6.prototype.dataToPoint.call(this,a,b,c):void 0},convertToPixel:aie(pU,"dataToPoint"),convertFromPixel:aie(pU,"pointToData")},aiZ(adE,ab6);var QB={dimensions:adE.prototype.dimensions,create:function(b,c){var d=[];b.eachComponent("geo",function(h,g){var f=h.get("map"),m=h.get("aspectScale"),k=!0,j=IZ.retrieveMap(f);j&&j[0]&&"svg"===j[0].type?(null==m&&(m=1),k=!1):null==m&&(m=0.75);var e=new adE(f+g,f,h.get("nameMap"),k);e.aspectScale=m,e.zoomLimit=h.get("scaleLimit"),d.push(e),mY(e,h),h.coordinateSystem=e,e.model=h,e.resize=q3,e.resize(h,c)}),b.eachSeries(function(g){var h=g.get("coordinateSystem");if("geo"===h){var f=g.get("geoIndex")||0;g.coordinateSystem=d[f]}});var a={};return b.eachSeriesByType("map",function(f){if(!f.getHostGeoModel()){var g=f.getMapType();a[g]=a[g]||[],a[g].push(f)}}),aiT(a,function(g,f){var e=aiu(g,function(i){return i.get("nameMap")}),h=new adE(f,f,aix(e));h.zoomLimit=aj0.apply(null,aiu(g,function(i){return i.get("scaleLimit")})),d.push(h),h.resize=q3,h.aspectScale=g[0].get("aspectScale"),h.resize(g[0],c),aiT(g,function(i){i.coordinateSystem=h,mY(h,i)})}),d},getFilledRegions:function(d,g,j){for(var c=(d||[]).slice(),b=aj6(),h=0;h<c.length;h++){b.set(c[h].name,c[h])}var f=UK.load(g,j);return aiT(f.regions,function(a){var i=a.name;!b.get(i)&&c.push({name:i})}),c}};VV("geo",QB);var RW=fQ.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(){RW.superApply(this,"init",arguments),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(){return add(this,["value"])},mergeOption:function(){RW.superApply(this,"mergeOption",arguments),this.updateSelectedMap(this._createSelectableList())},_createSelectableList:function(){for(var d=this.getRawData(),f=d.mapDimension("value"),g=[],c=0,b=d.count();b>c;c++){g.push({name:d.getName(c),value:d.get(f,c),selected:KK(d,c,"selected")})}return g=QB.getFilledRegions(g,this.getMapType(),this.option.nameMap)},getHostGeoModel:function(){var a=this.option.geoIndex;return null!=a?this.dependentModels.geo[a]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(){},getRawValue:function(a){var b=this.getData();return b.get(b.mapDimension("value"),a)},getRegionModel:function(a){var b=this.getData();return b.getItemModel(b.indexOfName(a))},formatTooltip:function(k){for(var h=this.getData(),d=ahK(this.getRawValue(k)),g=h.getName(k),j=this.seriesGroup,c=[],b=0;b<j.length;b++){var m=j[b].originalData.indexOfName(g),f=h.mapDimension("value");isNaN(j[b].originalData.get(f,m))||c.push(aaE(j[b].name))}return c.join(", ")+"<br />"+aaE(g+" : "+d)},getTooltipPosition:function(b){if(null!=b){var c=this.getData().getName(b),d=this.coordinateSystem,a=d.getRegion(c);return a&&d.dataToPoint(a.center)}},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:0.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:0.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}});aiZ(RW,U0),Jt.prototype={constructor:Jt,draw:function(G,A,k,x,D){var j="geo"===G.mainType,b=G.getData&&G.getData();j&&A.eachComponent({mainType:"series",subType:"map"},function(a){b||a.getHostGeoModel()!==G||(b=a.getData())});var H=G.coordinateSystem;this._updateBackground(H);var w=this._regionsGroup,F=this.group,y=H.scale,C={position:H.position,scale:y};!w.childAt(0)||D?F.attr(C):q5(F,C,G),w.removeAll();var B=["itemStyle"],f=["emphasis","itemStyle"],z=["label"],q=["emphasis","label"],E=aj6();aiT(H.regions,function(Q){var O=E.get(Q.name)||E.set(Q.name,new jG),P=new bH({shape:{paths:[]}});O.add(P);var V,J=G.getRegionModel(Q.name)||G,t=J.getModel(B),R=J.getModel(f),m=N0(t,y),p=N0(R,y),W=J.getModel(z),r=J.getModel(q);if(b){V=b.indexOfName(Q.name);var U=b.getItemVisual(V,"color",!0);U&&(m.fill=U)}aiT(Q.geometries,function(a){if("polygon"===a.type){P.shape.paths.push(new ahn({shape:{points:a.exterior}}));for(var c=0;c<(a.interiors?a.interiors.length:0);c++){P.shape.paths.push(new ahn({shape:{points:a.interiors[c]}}))}}}),P.setStyle(m),P.style.strokeNoScale=!0,P.culling=!0;var g=W.get("show"),h=r.get("show"),o=b&&isNaN(b.get(b.mapDimension("value"),V)),d=b&&b.getItemLayout(V);if(j||o&&(g||h)||d&&d.showLabel){var N,v=j?Q.name:V;(!b||V>=0)&&(N=G);var K=new ab3({position:Q.center.slice(),scale:[1/y[0],1/y[1]],z2:10,silent:!0});ajD(K.style,K.hoverStyle={},W,r,{labelFetcher:N,labelDataIndex:v,defaultText:Q.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),O.add(K)}if(b){b.setItemGraphicEl(V,O)}else{var J=G.getRegionModel(Q.name);P.eventData={componentType:"geo",componentIndex:G.componentIndex,geoIndex:G.componentIndex,name:Q.name,region:J&&J.option||{}}}var l=O.__regions||(O.__regions=[]);l.push(Q),aQ(O,p,{hoverSilentOnTouch:!!G.get("selectedMode")}),w.add(O)}),this._updateController(G,A,k),E6(this,G,w,k,x),sF(G,w)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&UK.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(a){var b=a.map;this._mapName!==b&&aiT(UK.makeGraphic(b,this.uid),function(c){this._backgroundGroup.add(c)},this),this._mapName=b},_updateController:function(f,h,k){function d(){var a={type:"geoRoam",componentType:b};return a[b+"Id"]=f.id,a}var c=f.coordinateSystem,j=this._controller,g=this._controllerHost;g.zoomLimit=f.get("scaleLimit"),g.zoom=c.getZoom(),j.enable(f.get("roam")||!1);var b=f.mainType;j.off("pan").on("pan",function(a){this._mouseDownFlag=!1,abv(g,a.dx,a.dy),k.dispatchAction(aip(d(),{dx:a.dx,dy:a.dy}))},this),j.off("zoom").on("zoom",function(a){if(this._mouseDownFlag=!1,Zj(g,a.scale,a.originX,a.originY),k.dispatchAction(aip(d(),{zoom:a.scale,originX:a.originX,originY:a.originY})),this._updateGroup){var i=this.group.scale;this._regionsGroup.traverse(function(e){"text"===e.type&&e.attr("scale",[1/i[0],1/i[1]])})}},this),j.setPointerChecker(function(l,a,m){return c.getViewRectAfterRoam().contain(a,m)&&!a1(l,k,f)})}},Uq({type:"map",render:function(d,f,h,c){if(!c||"mapToggleSelect"!==c.type||c.from!==this.uid){var b=this.group;if(b.removeAll(),!d.getHostGeoModel()){if(c&&"geoRoam"===c.type&&"series"===c.componentType&&c.seriesId===d.id){var g=this._mapDraw;g&&b.add(g.group)}else{if(d.needsDrawMap){var g=this._mapDraw||new Jt(h,!0);b.add(g.group),g.draw(d,f,h,this,c),this._mapDraw=g}else{this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null}}d.get("showLegendSymbol")&&f.getComponent("legend")&&this._renderSymbols(d,f,h)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(a){var b=a.originalData,c=this.group;b.each(b.mapDimension("value"),function(t,F){if(!isNaN(t)){var k=b.getItemLayout(F);if(k&&k.point){var e=k.point,I=k.offset,q=new aah({style:{fill:a.getData().getVisual("color")},shape:{cx:e[0]+9*I,cy:e[1],r:3},silent:!0,z2:I?8:10});if(!I){var H=a.mainSeries.getData(),w=b.getName(F),C=H.indexOfName(w),B=b.getItemModel(F),A=B.getModel("label"),j=B.getModel("emphasis.label"),z=H.getItemGraphicEl(C),n=aj3(a.getFormattedLabel(F,"normal"),w),G=aj3(a.getFormattedLabel(F,"emphasis"),n),D=function(){var d=lG({},j,{text:j.get("show")?G:null},{isRectText:!0,useInsideStyle:!1},!0);q.style.extendFrom(d),q.__mapOriginalZ2=q.z2,q.z2+=1},E=function(){lG(q.style,A,{text:A.get("show")?n:null,textPosition:A.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),null!=q.__mapOriginalZ2&&(q.z2=q.__mapOriginalZ2,q.__mapOriginalZ2=null)};z.on("mouseover",D).on("mouseout",E).on("emphasis",D).on("normal",E),E()}c.add(q)}}})}}),oJ({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(a,b){var c=a.componentType||"series";b.eachComponent({mainType:c,query:a},function(g){var f=g.coordinateSystem;if("geo"===f.type){var d=kJ(f,a,g.get("scaleLimit"));g.setCenter&&g.setCenter(d.center),g.setZoom&&g.setZoom(d.zoom),"series"===c&&aiT(g.seriesGroup,function(e){e.setCenter(d.center),e.setZoom(d.zoom)})}})});var bq=function(a){var b={};a.eachSeriesByType("map",function(f){var d=f.getMapType();if(!f.getHostGeoModel()&&!b[d]){var c={};aiT(f.seriesGroup,function(h){var j=h.coordinateSystem,g=h.originalData;h.get("showLegendSymbol")&&a.getComponent("legend")&&g.each(g.mapDimension("value"),function(k,p){var q=g.getName(p),n=j.getRegion(q);if(n&&!isNaN(k)){var m=c[q]||0,i=j.dataToPoint(n.center);c[q]=m+1,g.setItemLayout(p,{point:i,offset:m})}})});var e=f.getData();e.each(function(g){var h=e.getName(g),i=e.getItemLayout(g)||{};i.showLabel=!c[h],e.setItemLayout(g,i)}),b[d]=!0}})},S7=function(a){a.eachSeriesByType("map",function(d){var f=d.get("color"),g=d.getModel("itemStyle"),c=g.get("areaColor"),b=g.get("color")||f[d.seriesIndex%f.length];d.getData().setVisual({areaColor:c,color:b})})},akq=function(a){var b={};a.eachSeriesByType("map",function(d){var e=d.getHostGeoModel(),c=e?"o"+e.id:"i"+d.getMapType();(b[c]=b[c]||[]).push(d)}),aiT(b,function(c){for(var d=g8(aiu(c,function(e){return e.getData()}),c[0].get("mapValueCalculation")),f=0;f<c.length;f++){c[f].originalData=c[f].getData()}for(var f=0;f<c.length;f++){c[f].seriesGroup=c,c[f].needsDrawMap=0===f&&!c[f].getHostGeoModel(),c[f].setData(d.cloneShallow()),c[f].mainSeries=c[0]}})},mZ=function(a){var b=[];aiT(a.series,function(c){c&&"map"===c.type&&(b.push(c),c.map=c.map||c.mapType,ain(c,c.mapLocation))})};abL(bq),aeK(S7),MU(gV.PROCESSOR.STATISTIC,akq),w3(mZ),bG("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var vq="undefined"==typeof Uint32Array?Array:Uint32Array,A1="undefined"==typeof Float64Array?Array:Float64Array,lF=fQ.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(a){a.data=a.data||[],Cq(a);var b=this._processFlatCoordsArray(a.data);this._flatCoords=b.flatCoords,this._flatCoordsOffset=b.flatCoordsOffset,b.flatCoords&&(a.data=new Float32Array(b.count)),lF.superApply(this,"init",arguments)},mergeOption:function(a){if(a.data=a.data||[],Cq(a),a.data){var b=this._processFlatCoordsArray(a.data);this._flatCoords=b.flatCoords,this._flatCoordsOffset=b.flatCoordsOffset,b.flatCoords&&(a.data=new Float32Array(b.count))}lF.superApply(this,"mergeOption",arguments)},appendData:function(a){var b=this._processFlatCoordsArray(a.data);b.flatCoords&&(this._flatCoords?(this._flatCoords=ajl(this._flatCoords,b.flatCoords),this._flatCoordsOffset=ajl(this._flatCoordsOffset,b.flatCoordsOffset)):(this._flatCoords=b.flatCoords,this._flatCoordsOffset=b.flatCoordsOffset),a.data=new Float32Array(b.count)),this.getRawData().appendData(a.data)},_getCoordsFromItemModel:function(a){var b=this.getData().getItemModel(a),c=b.option instanceof Array?b.option:b.getShallow("coords");return c},getLineCoordsCount:function(a){return this._flatCoordsOffset?this._flatCoordsOffset[2*a+1]:this._getCoordsFromItemModel(a).length},getLineCoords:function(d,f){if(this._flatCoordsOffset){for(var h=this._flatCoordsOffset[2*d],c=this._flatCoordsOffset[2*d+1],b=0;c>b;b++){f[b]=f[b]||[],f[b][0]=this._flatCoords[h+2*b],f[b][1]=this._flatCoords[h+2*b+1]}return c}for(var g=this._getCoordsFromItemModel(d),b=0;b<g.length;b++){f[b]=f[b]||[],f[b][0]=g[b][0],f[b][1]=g[b][1]}return g.length},_processFlatCoordsArray:function(y){var p=0;if(this._flatCoords&&(p=this._flatCoords.length),"number"==typeof y[0]){for(var g=y.length,k=new vq(g),w=new A1(g),f=0,b=0,z=0,j=0;g>j;){z++;var x=y[j++];k[b++]=f+p,k[b++]=x;for(var m=0;x>m;m++){var v=y[j++],q=y[j++];w[f++]=v,w[f++]=q}}return{flatCoordsOffset:new Uint32Array(k.buffer,0,b),flatCoords:w,count:z}}return{flatCoordsOffset:null,flatCoords:null,count:y.length}},getInitialData:function(a){var b=new akJ(["value"],this);return b.hasItemOption=!1,b.initData(a.data,[],function(e,g,d,c){if(e instanceof Array){return 0/0}b.hasItemOption=!0;var f=e.value;return null!=f?f instanceof Array?f[c]:f:void 0}),b},formatTooltip:function(d){var g=this.getData(),j=g.getItemModel(d),c=j.get("name");if(c){return c}var b=j.get("fromName"),h=j.get("toName"),f=[];return null!=b&&f.push(b),null!=h&&f.push(h),aaE(f.join(" > "))},preventIncremental:function(){return !!this.get("effect.show")},getProgressive:function(){var a=this.option.progressive;return null==a?this.option.large?10000:this.get("progressive"):a},getProgressiveThreshold:function(){var a=this.option.progressiveThreshold;return null==a?this.option.large?20000:this.get("progressiveThreshold"):a},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:0.2},large:!1,largeThreshold:2000,polyline:!1,label:{show:!1,position:"end"},lineStyle:{opacity:0.5}}}),LY=adf.prototype,H2=QX.prototype,JB=xK({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(a,b){(DV(b)?LY:H2).buildPath(a,b)},pointAt:function(a){return DV(this.shape)?LY.pointAt.call(this,a):H2.pointAt.call(this,a)},tangentAt:function(a){var b=this.shape,c=DV(b)?[b.x2-b.x1,b.y2-b.y1]:H2.tangentAt.call(this,a);return WJ(c,c)}}),wW=["fromSymbol","toSymbol"],aeg=aef.prototype;aeg.beforeUpdate=c4,aeg._createLine=function(d,g,j){var c=d.hostModel,b=d.getItemLayout(g),h=b3(b);h.shape.percent=0,m0(h,{shape:{percent:1}},c,g),this.add(h);var f=new ab3({name:"label"});this.add(f),aiT(wW,function(e){var a=A0(e,d,g);this.add(a),this[fY(e)]=d.getItemVisual(g,e)},this),this._updateCommonStl(d,g,j)},aeg.updateData=function(d,g,j){var c=d.hostModel,b=this.childOfName("line"),h=d.getItemLayout(g),f={shape:{}};eF(f.shape,h),q5(b,f,c,g),aiT(wW,function(m){var k=d.getItemVisual(g,m),e=fY(m);if(this[e]!==k){this.remove(this.childOfName(m));var l=A0(m,d,g);this.add(l)}this[e]=k},this),this._updateCommonStl(d,g,j)},aeg._updateCommonStl=function(z,J,D){var G=z.hostModel,N=this.childOfName("line"),C=D&&D.lineStyle,A=D&&D.hoverLineStyle,F=D&&D.labelModel,s=D&&D.hoverLabelModel;if(!D||z.hasItemOption){var H=z.getItemModel(J);C=H.getModel("lineStyle").getLineStyle(),A=H.getModel("emphasis.lineStyle").getLineStyle(),F=H.getModel("label"),s=H.getModel("emphasis.label")}var L=z.getItemVisual(J,"color"),K=ajI(z.getItemVisual(J,"opacity"),C.opacity,1);N.useStyle(ain({strokeNoScale:!0,fill:"none",stroke:L,opacity:K},C)),N.hoverStyle=A,aiT(wW,function(a){var b=this.childOfName(a);b&&(b.setColor(L),b.setStyle({opacity:K}))},this);var B,I,E=F.getShallow("show"),q=s.getShallow("show"),f=this.childOfName("label");if((E||q)&&(B=L||"#000",I=G.getFormattedLabel(J,"normal",z.dataType),null==I)){var j=G.getRawValue(J);I=null==j?z.getName(J):isFinite(j)?MJ(j):j}var O=E?I:null,k=q?aj3(G.getFormattedLabel(J,"emphasis",z.dataType),I):null,M=f.style;(null!=O||null!=k)&&(lG(f.style,F,{text:O},{autoColor:B}),f.__textAlign=M.textAlign,f.__verticalAlign=M.textVerticalAlign,f.__position=F.get("position")||"middle"),f.hoverStyle=null!=k?{text:k,textFill:s.getTextColor(!0),fontStyle:s.getShallow("fontStyle"),fontWeight:s.getShallow("fontWeight"),fontSize:s.getShallow("fontSize"),fontFamily:s.getShallow("fontFamily")}:{text:null},f.ignore=!E&&!q,aQ(this)},aeg.highlight=function(){this.trigger("emphasis")},aeg.downplay=function(){this.trigger("normal")},aeg.updateLayout=function(a,b){this.setLinePoints(a.getItemLayout(b))},aeg.setLinePoints=function(a){var b=this.childOfName("line");eF(b.shape,a),b.dirty()},aiP(aef,jG);var q4=iQ.prototype;q4.isPersistent=function(){return !0},q4.updateData=function(d){var f=this,g=f.group,c=f._lineData;f._lineData=d,c||g.removeAll();var b=MH(d);d.diff(c).add(function(a){Z5(f,d,a,b)}).update(function(e,a){wV(f,c,d,a,e,b)}).remove(function(a){g.remove(c.getItemGraphicEl(a))}).execute()},q4.updateLayout=function(){var a=this._lineData;a&&a.eachItemGraphicEl(function(b,c){b.updateLayout(a,c)},this)},q4.incrementalPrepareUpdate=function(a){this._seriesScope=MH(a),this._lineData=null,this.group.removeAll()},q4.incrementalUpdate=function(d,f){function h(a){a.isGroup||(a.incremental=a.useHoverLayer=!0)}for(var c=d.start;c<d.end;c++){var b=f.getItemLayout(c);if(n9(b)){var g=new this._ctor(f,c,this._seriesScope);g.traverse(h),this.group.add(g),f.setItemGraphicEl(c,g)}}},q4.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},q4._clearIncremental=function(){var a=this._incremental;a&&a.clearDisplaybles()};var sG=WG.prototype;sG.createLine=function(a,b,c){return new aef(a,b,c)},sG._updateEffectSymbol=function(d,h){var k=d.getItemModel(h),c=k.getModel("effect"),b=c.get("symbolSize"),j=c.get("symbol");ai9(b)||(b=[b,b]);var g=c.get("color")||d.getItemVisual(h,"color"),f=this.childAt(1);this._symbolType!==j&&(this.remove(f),f=TQ(j,-0.5,-0.5,1,1,g),f.z2=100,f.culling=!0,this.add(f)),f&&(f.setStyle("shadowColor",g),f.setStyle(c.getItemStyle(["color"])),f.attr("scale",b),f.setColor(g),f.attr("scale",b),this._symbolType=j,this._updateEffectAnimation(d,c,h))},sG._updateEffectAnimation=function(y,p,g){var k=this.childAt(1);if(k){var w=this,f=y.getItemLayout(g),b=1000*p.get("period"),z=p.get("loop"),j=p.get("constantSpeed"),x=aj0(p.get("delay"),function(a){return a/y.count()*b/3}),m="function"==typeof x;if(k.ignore=!0,this.updateAnimationPoints(k,f),j>0&&(b=this.getLineLength(k)/j*1000),b!==this._period||z!==this._loop){k.stopAnimation();var v=x;m&&(v=x(g)),k.__t>0&&(v=-b*k.__t),k.__t=0;var q=k.animate("",z).when(b,{__t:1}).delay(v).during(function(){w.updateSymbolPosition(k)});z||q.done(function(){w.remove(k)}),q.start()}this._period=b,this._loop=z}},sG.getLineLength=function(a){return akM(a.__p1,a.__cp1)+akM(a.__cp1,a.__p2)},sG.updateAnimationPoints=function(a,b){a.__p1=b[0],a.__p2=b[1],a.__cp1=b[2]||[(b[0][0]+b[1][0])/2,(b[0][1]+b[1][1])/2]},sG.updateData=function(a,b,c){this.childAt(0).updateData(a,b,c),this._updateEffectSymbol(a,b)},sG.updateSymbolPosition=function(m){var h=m.__p1,d=m.__p2,g=m.__cp1,j=m.__t,c=m.position,b=aa2,p=agm;c[0]=b(h[0],g[0],d[0],j),c[1]=b(h[1],g[1],d[1],j);var f=p(h[0],g[0],d[0],j),k=p(h[1],g[1],d[1],j);m.rotation=-Math.atan2(k,f)-Math.PI/2,m.ignore=!1},sG.updateLayout=function(a,b){this.childAt(0).updateLayout(a,b);var c=a.getItemModel(b).getModel("effect");this._updateEffectAnimation(a,c,b)},aiP(WG,jG);var oj=ahp.prototype;oj._createPolyline=function(d,f,g){var c=d.getItemLayout(f),b=new abs({shape:{points:c}});this.add(b),this._updateCommonStl(d,f,g)},oj.updateData=function(d,f,h){var c=d.hostModel,b=this.childAt(0),g={shape:{points:d.getItemLayout(f)}};q5(b,g,c,f),this._updateCommonStl(d,f,h)},oj._updateCommonStl=function(f,h,k){var d=this.childAt(0),c=f.getItemModel(h),j=f.getItemVisual(h,"color"),g=k&&k.lineStyle,b=k&&k.hoverLineStyle;(!k||f.hasItemOption)&&(g=c.getModel("lineStyle").getLineStyle(),b=c.getModel("emphasis.lineStyle").getLineStyle()),d.useStyle(ain({strokeNoScale:!0,fill:"none",stroke:j},g)),d.hoverStyle=b,aQ(this)},oj.updateLayout=function(a,b){var c=this.childAt(0);c.setShape("points",a.getItemLayout(b))},aiP(ahp,jG);var O2=ab5.prototype;O2.createLine=function(a,b,c){return new ahp(a,b,c)},O2.updateAnimationPoints=function(d,g){this._points=g;for(var j=[0],c=0,b=1;b<g.length;b++){var h=g[b-1],f=g[b];c+=akM(h,f),j.push(c)}if(0!==c){for(var b=0;b<j.length;b++){j[b]/=c}this._offsets=j,this._length=c}},O2.getLineLength=function(){return this._length},O2.updateSymbolPosition=function(m){var h=m.__t,d=this._points,g=this._offsets,j=d.length;if(g){var c,b=this._lastFrame;if(h<this._lastFramePercent){var p=Math.min(b+1,j-1);for(c=p;c>=0&&!(g[c]<=h);c--){}c=Math.min(c,j-2)}else{for(var c=b;j>c&&!(g[c]>h);c++){}c=Math.min(c-1,j-2)}akF(m.position,d[c],d[c+1],(h-g[c])/(g[c+1]-g[c]));var f=d[c+1][0]-d[c][0],k=d[c+1][1]-d[c][1];m.rotation=-Math.atan2(k,f)-Math.PI/2,this._lastFrame=c,this._lastFramePercent=h,m.ignore=!1}},aiP(ab5,WG);var GK=xK({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(y,p){var g=p.segs,k=p.curveness;if(p.polyline){for(var w=0;w<g.length;){var f=g[w++];if(f>0){y.moveTo(g[w++],g[w++]);for(var b=1;f>b;b++){y.lineTo(g[w++],g[w++])}}}}else{for(var w=0;w<g.length;){var z=g[w++],j=g[w++],x=g[w++],m=g[w++];if(y.moveTo(z,j),k>0){var v=(z+x)/2-(j-m)*k,q=(j+m)/2-(x-z)*k;y.quadraticCurveTo(v,q,x,m)}else{y.lineTo(x,m)}}}},findDataIndex:function(){var y=this.shape,p=y.segs,g=y.curveness;if(y.polyline){for(var k=0,w=0;w<p.length;){var f=p[w++];if(f>0){for(var b=p[w++],z=p[w++],j=1;f>j;j++){var x=p[w++],m=p[w++];if(At(b,z,x,m)){return k}}}k++}}else{for(var k=0,w=0;w<p.length;){var b=p[w++],z=p[w++],x=p[w++],m=p[w++];if(g>0){var v=(b+x)/2-(z-m)*g,q=(z+m)/2-(x-b)*g;if(LK(b,z,v,q,x,m)){return k}}else{if(At(b,z,x,m)){return k}}k++}}return -1}}),t0=ae2.prototype;t0.isPersistent=function(){return !this._incremental},t0.updateData=function(a){this.group.removeAll();var b=new GK({rectHover:!0,cursor:"default"});b.setShape({segs:a.getLayout("linesPoints")}),this._setCommon(b,a),this.group.add(b),this._incremental=null},t0.incrementalPrepareUpdate=function(a){this.group.removeAll(),this._clearIncremental(),a.count()>500000?(this._incremental||(this._incremental=new aas({silent:!0})),this.group.add(this._incremental)):this._incremental=null},t0.incrementalUpdate=function(a,b){var c=new GK;c.setShape({segs:b.getLayout("linesPoints")}),this._setCommon(c,b,!!this._incremental),this._incremental?this._incremental.addDisplayable(c,!0):(c.rectHover=!0,c.cursor="default",c.__startIndex=a.start,this.group.add(c))},t0.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},t0._setCommon=function(d,f,g){var c=f.hostModel;d.setShape({polyline:c.get("polyline"),curveness:c.get("lineStyle.curveness")}),d.useStyle(c.getModel("lineStyle").getLineStyle()),d.style.strokeNoScale=!0;var b=f.getVisual("color");b&&d.setStyle("stroke",b),d.setStyle("fill"),g||(d.seriesIndex=c.seriesIndex,d.on("mousemove",function(a){d.dataIndex=null;var h=d.findDataIndex(a.offsetX,a.offsetY);h>0&&(d.dataIndex=h+d.__startIndex)}))},t0._clearIncremental=function(){var a=this._incremental;a&&a.clearDisplaybles()};var KW={seriesType:"lines",plan:jY(),reset:function(d){function f(x,j){var a=[];if(b){var E,n=x.end-x.start;if(c){for(var D=0,q=x.start;q<x.end;q++){D+=d.getLineCoordsCount(q)}E=new Float32Array(n+2*D)}else{E=new Float32Array(4*n)}for(var A=0,z=[],q=x.start;q<x.end;q++){var w=d.getLineCoords(q,a);c&&(E[A++]=w);for(var i=0;w>i;i++){z=g.dataToPoint(a[i],!1,z),E[A++]=z[0],E[A++]=z[1]}}j.setLayout("linesPoints",E)}else{for(var q=x.start;q<x.end;q++){var t=j.getItemModel(q),w=d.getLineCoords(q,a),k=[];if(c){for(var C=0;w>C;C++){k.push(g.dataToPoint(a[C]))}}else{k[0]=g.dataToPoint(a[0]),k[1]=g.dataToPoint(a[1]);var B=t.get("lineStyle.curveness");+B&&(k[2]=[(k[0][0]+k[1][0])/2-(k[0][1]-k[1][1])*B,(k[0][1]+k[1][1])/2-(k[1][0]-k[0][0])*B])}j.setItemLayout(q,k)}}}var g=d.coordinateSystem,c=d.get("polyline"),b=d.pipelineContext.large;return{progress:f}}};Uq({type:"lines",init:function(){},render:function(k,h,d){var g=k.getData(),j=this._updateLineDraw(g,k),c=k.get("zlevel"),b=k.get("effect.trailLength"),m=d.getZr(),f="svg"===m.painter.getType();f||m.painter.getLayer(c).clear(!0),null==this._lastZlevel||f||m.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(k)&&b&&(f||m.configLayer(c,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(b/10+0.9,1),0)})),j.updateData(g),this._lastZlevel=c,this._finished=!0},incrementalPrepareRender:function(d,f,g){var c=d.getData(),b=this._updateLineDraw(c,d);b.incrementalPrepareUpdate(c),this._clearLayer(g),this._finished=!1},incrementalRender:function(a,b){this._lineDraw.incrementalUpdate(a,b.getData()),this._finished=a.end===b.getData().count()},updateTransform:function(d,f,h){var c=d.getData(),b=d.pipelineContext;if(!this._finished||b.large||b.progressiveRender){return{update:!0}}var g=KW.reset(d);g.progress&&g.progress({start:0,end:c.count()},c),this._lineDraw.updateLayout(),this._clearLayer(h)},_updateLineDraw:function(d,g){var j=this._lineDraw,c=this._showEffect(g),b=!!g.get("polyline"),h=g.pipelineContext,f=h.large;return j&&c===this._hasEffet&&b===this._isPolyline&&f===this._isLargeDraw||(j&&j.remove(),j=this._lineDraw=f?new ae2:new iQ(b?c?ab5:ahp:c?WG:aef),this._hasEffet=c,this._isPolyline=b,this._isLargeDraw=f,this.group.removeAll()),this.group.add(j.group),j},_showEffect:function(a){return !!a.get("effect.show")},_clearLayer:function(a){var b=a.getZr(),c="svg"===b.painter.getType();c||null==this._lastZlevel||b.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(a,b){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(b)},dispose:function(){}});var iU="lineStyle.opacity".split("."),DW={seriesType:"lines",reset:function(d){function f(k,l){var p=k.getItemModel(l),j=akD(p.getShallow("symbol",!0)),h=akD(p.getShallow("symbolSize",!0)),m=p.get(iU);j[0]&&k.setItemVisual(l,"fromSymbol",j[0]),j[1]&&k.setItemVisual(l,"toSymbol",j[1]),h[0]&&k.setItemVisual(l,"fromSymbolSize",h[0]),h[1]&&k.setItemVisual(l,"toSymbolSize",h[1]),k.setItemVisual(l,"opacity",m)}var g=akD(d.get("symbol")),c=akD(d.get("symbolSize")),b=d.getData();return b.setVisual("fromSymbol",g&&g[0]),b.setVisual("toSymbol",g&&g[1]),b.setVisual("fromSymbolSize",c&&c[0]),b.setVisual("toSymbolSize",c&&c[1]),b.setVisual("opacity",d.get(iU)),{dataEach:b.hasItemOption?f:null}}};abL(KW),aeK(DW);var E7=function(a){this._directed=a||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},g9=E7.prototype;g9.type="graph",g9.isDirected=function(){return this._directed},g9.addNode=function(b,c){b=b||""+c;var d=this._nodesMap;if(!d[abu(b)]){var a=new Y9(b,c);return a.hostGraph=this,this.nodes.push(a),d[abu(b)]=a,a}},g9.getNodeByIndex=function(a){var b=this.data.getRawIndex(a);return this.nodes[b]},g9.getNodeById=function(a){return this._nodesMap[abu(a)]},g9.addEdge=function(d,g,j){var c=this._nodesMap,b=this._edgesMap;if("number"==typeof d&&(d=this.nodes[d]),"number"==typeof g&&(g=this.nodes[g]),Y9.isInstance(d)||(d=c[abu(d)]),Y9.isInstance(g)||(g=c[abu(g)]),d&&g){var h=d.id+"-"+g.id;if(!b[h]){var f=new XZ(d,g,j);return f.hostGraph=this,this._directed&&(d.outEdges.push(f),g.inEdges.push(f)),d.edges.push(f),d!==g&&g.edges.push(f),this.edges.push(f),b[h]=f,f}}},g9.getEdgeByIndex=function(a){var b=this.edgeData.getRawIndex(a);return this.edges[b]},g9.getEdge=function(a,b){Y9.isInstance(a)&&(a=a.id),Y9.isInstance(b)&&(b=b.id);var c=this._edgesMap;return this._directed?c[a+"-"+b]:c[a+"-"+b]||c[b+"-"+a]},g9.eachNode=function(d,f){for(var g=this.nodes,c=g.length,b=0;c>b;b++){g[b].dataIndex>=0&&d.call(f,g[b],b)}},g9.eachEdge=function(d,f){for(var g=this.edges,c=g.length,b=0;c>b;b++){g[b].dataIndex>=0&&g[b].node1.dataIndex>=0&&g[b].node2.dataIndex>=0&&d.call(f,g[b],b)}},g9.breadthFirstTraverse=function(q,k,d,g){if(Y9.isInstance(k)||(k=this._nodesMap[abu(k)]),k){for(var m="out"===d?"outEdges":"in"===d?"inEdges":"edges",c=0;c<this.nodes.length;c++){this.nodes[c].__visited=!1}if(!q.call(g,k,null)){for(var b=[k];b.length;){for(var v=b.shift(),f=v[m],c=0;c<f.length;c++){var p=f[c],j=p.node1===v?p.node2:p.node1;if(!j.__visited){if(q.call(g,j,v)){return}b.push(j),j.__visited=!0}}}}}},g9.update=function(){for(var d=this.data,f=this.edgeData,h=this.nodes,c=this.edges,b=0,g=h.length;g>b;b++){h[b].dataIndex=-1}for(var b=0,g=d.count();g>b;b++){h[d.getRawIndex(b)].dataIndex=b}f.filterSelf(function(a){var e=c[f.getRawIndex(a)];return e.node1.dataIndex>=0&&e.node2.dataIndex>=0});for(var b=0,g=c.length;g>b;b++){c[b].dataIndex=-1}for(var b=0,g=f.count();g>b;b++){c[f.getRawIndex(b)].dataIndex=b}},g9.clone=function(){for(var d=new E7(this._directed),f=this.nodes,g=this.edges,c=0;c<f.length;c++){d.addNode(f[c].id,f[c].dataIndex)}for(var c=0;c<g.length;c++){var b=g[c];d.addEdge(b.node1.id,b.node2.id,b.dataIndex)}return d},Y9.prototype={constructor:Y9,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(a){if(!(this.dataIndex<0)){var b=this.hostGraph,c=b.data.getItemModel(this.dataIndex);return c.getModel(a)}}},XZ.prototype.getModel=function(a){if(!(this.dataIndex<0)){var b=this.hostGraph,c=b.edgeData.getItemModel(this.dataIndex);return c.getModel(a)}};var Ct=function(a,b){return{getValue:function(d){var c=this[a][b];return c.get(c.getDimension(d||"value"),this.dataIndex)},setVisual:function(d,c){this.dataIndex>=0&&this[a][b].setItemVisual(this.dataIndex,d,c)},getVisual:function(d,c){return this[a][b].getItemVisual(this.dataIndex,d,c)},setLayout:function(d,c){this.dataIndex>=0&&this[a][b].setItemLayout(this.dataIndex,d,c)},getLayout:function(){return this[a][b].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][b].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][b].getRawIndex(this.dataIndex)}}};aiZ(Y9,Ct("hostGraph","data")),aiZ(XZ,Ct("hostGraph","edgeData")),E7.Node=Y9,E7.Edge=XZ,ace(Y9),ace(XZ);var c5=function(q,I,B,E,L){for(var A=new E7(E),w=0;w<q.length;w++){A.addNode(aj0(q[w].id,q[w].name,w),w)}for(var u=[],D=[],F=0,w=0;w<I.length;w++){var K=I[w],J=K.source,H=K.target;A.addEdge(J,H,F)&&(D.push(K),u.push(aj0(K.id,J+" > "+H)),F++)}var z,G=B.get("coordinateSystem");if("cartesian2d"===G||"polar"===G){z=r8(q,B)}else{var C=VX.get(G),k=C&&"view"!==C.type?C.dimensions||[]:[];aij(k,"value")<0&&k.concat(["value"]);var b=BQ(q,{coordDimensions:k});z=new akJ(b,B),z.initData(q)}var j=new akJ(["value"],B);return j.initData(D,u),L&&L(z,j),qq({mainData:z,struct:A,structAttr:"graph",datas:{node:z,edge:j},datasAttr:{node:"data",edge:"edgeData"}}),A.update(),A},fZ=acX({type:"series.graph",init:function(a){fZ.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},mergeOption:function(a){fZ.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(a){fZ.superApply(this,"mergeDefaultAndTheme",arguments),JW(a,["edgeLabel"],["show"])},getInitialData:function(d,f){function h(m,q){function k(a){return a=this.parsePath(a),a&&"label"===a[0]?p:a&&"emphasis"===a[0]&&"label"===a[1]?e:this.parentModel}m.wrapMethod("getItemModel",function(l){var r=g._categoriesModels,s=l.getShallow("category"),a=r[s];return a&&(a.parentModel=l.parentModel,l.parentModel=a),l});var j=g.getModel("edgeLabel"),p=new f0({label:j.option},j.parentModel,f),o=g.getModel("emphasis.edgeLabel"),e=new f0({emphasis:{label:o.option}},o.parentModel,f);q.wrapMethod("getItemModel",function(a){return a.customizeGetParent(k),a})}var c=d.edges||d.links||[],b=d.data||d.nodes||[],g=this;return b&&c?c5(b,c,this,!0,h).data:void 0},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(k,h,d){if("edge"===d){var g=this.getData(),j=this.getDataParams(k,d),c=g.graph.getEdgeByIndex(k),b=g.getName(c.node1.dataIndex),m=g.getName(c.node2.dataIndex),f=[];return null!=b&&f.push(b),null!=m&&f.push(m),f=aaE(f.join(" > ")),j.value&&(f+=" : "+aaE(j.value)),f}return fZ.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var a=aiu(this.option.categories||[],function(c){return null!=c.value?c:aip({value:0},c)}),b=new akJ(["value"],this);b.initData(a),this._categoriesData=b,this._categoriesModels=b.mapArray(function(c){return b.getItemModel(c,!0)})},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},isAnimationEnabled:function(){return fZ.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:0.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle"},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:0.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:0.5},emphasis:{label:{show:!0}}}}),eG=[],aeR=[],j4=[],aaH=aa2,x7=abC,M9=Math.abs,zJ=function(d,h){function k(a){var i=a.getVisual("symbolSize");return i instanceof Array&&(i=(i[0]+i[1])/2),i}var c=[],b=PY,j=[[],[],[]],g=[[],[]],f=[];h/=2,d.eachEdge(function(i){var a=i.getLayout(),e=i.getVisual("fromSymbol"),m=i.getVisual("toSymbol");a.__original||(a.__original=[ajR(a[0]),ajR(a[1])],a[2]&&a.__original.push(ajR(a[2])));var p=a.__original;if(null!=a[2]){if(aji(j[0],p[0]),aji(j[1],p[2]),aji(j[2],p[1]),e&&"none"!==e){var o=k(i.node1),n=adh(j,p[0],o*h);b(j[0][0],j[1][0],j[2][0],n,c),j[0][0]=c[3],j[1][0]=c[4],b(j[0][1],j[1][1],j[2][1],n,c),j[0][1]=c[3],j[1][1]=c[4]}if(m&&"none"!==m){var o=k(i.node2),n=adh(j,p[1],o*h);b(j[0][0],j[1][0],j[2][0],n,c),j[1][0]=c[1],j[2][0]=c[2],b(j[0][1],j[1][1],j[2][1],n,c),j[1][1]=c[1],j[2][1]=c[2]}aji(a[0],j[0]),aji(a[1],j[2]),aji(a[2],j[1])}else{if(aji(g[0],p[0]),aji(g[1],p[1]),aiK(f,g[1],g[0]),WJ(f,f),e&&"none"!==e){var o=k(i.node1);ajf(g[0],g[0],f,o*h)}if(m&&"none"!==m){var o=k(i.node2);ajf(g[1],g[1],f,-o*h)}aji(a[0],g[0]),aji(a[1],g[1])}})},pV=["itemStyle","opacity"],XG=["lineStyle","opacity"];Uq({type:"graph",init:function(d,f){var g=new J5,c=new iQ,b=this.group;this._controller=new aiY(f.getZr()),this._controllerHost={target:b},b.add(g.group),b.add(c.group),this._symbolDraw=g,this._lineDraw=c,this._firstRender=!0},render:function(C,x,k){var q=C.coordinateSystem;this._model=C,this._nodeScaleRatio=C.get("nodeScaleRatio");var A=this._symbolDraw,j=this._lineDraw,b=this.group;if("view"===q.type){var D={position:q.position,scale:q.scale};this._firstRender?b.attr(D):q5(b,D,C)}zJ(C.getGraph(),this._getNodeGlobalScale(C));var m=C.getData();A.updateData(m);var B=C.getEdgeData();j.updateData(B),this._updateNodeAndLinkScale(),this._updateController(C,x,k),clearTimeout(this._layoutTimeout);var v=C.forceLayout,z=C.get("force.layoutAnimation");v&&this._startForceLayoutIteration(v,z),m.eachItemGraphicEl(function(f,d){var c=m.getItemModel(d);f.off("drag").off("dragend");var h=c.get("draggable");h&&f.on("drag",function(){v&&(v.warmUp(),!this._layouting&&this._startForceLayoutIteration(v,z),v.setFixed(d),m.setItemLayout(d,f.position))},this).on("dragend",function(){v&&v.setUnfixed(d)},this),f.setDraggable(h&&v),f.off("mouseover",f.__focusNodeAdjacency),f.off("mouseout",f.__unfocusNodeAdjacency),c.get("focusNodeAdjacency")&&(f.on("mouseover",f.__focusNodeAdjacency=function(){k.dispatchAction({type:"focusNodeAdjacency",seriesId:C.id,dataIndex:f.dataIndex})}),f.on("mouseout",f.__unfocusNodeAdjacency=function(){k.dispatchAction({type:"unfocusNodeAdjacency",seriesId:C.id})}))},this),m.graph.eachEdge(function(c){var a=c.getGraphicEl();a.off("mouseover",a.__focusNodeAdjacency),a.off("mouseout",a.__unfocusNodeAdjacency),c.getModel().get("focusNodeAdjacency")&&(a.on("mouseover",a.__focusNodeAdjacency=function(){k.dispatchAction({type:"focusNodeAdjacency",seriesId:C.id,edgeDataIndex:c.dataIndex})}),a.on("mouseout",a.__unfocusNodeAdjacency=function(){k.dispatchAction({type:"unfocusNodeAdjacency",seriesId:C.id})}))});var y="circular"===C.get("layout")&&C.get("circular.rotateLabel"),w=m.getLayout("cx"),g=m.getLayout("cy");m.eachItemGraphicEl(function(f,l){var s=f.getSymbolPath();if(y){var d=m.getItemLayout(l),c=Math.atan2(d[1]-g,d[0]-w);0>c&&(c=2*Math.PI+c);var p=d[0]<w;p&&(c-=Math.PI);var h=p?"left":"right";s.setStyle({textRotation:-c,textPosition:h,textOrigin:"center"}),s.hoverStyle&&(s.hoverStyle.textPosition=h)}else{s.setStyle({textRotation:0})}}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(m,h,d,g){var j=this._model.getData(),c=j.graph,b=g.dataIndex,p=g.edgeDataIndex,f=c.getNodeByIndex(b),k=c.getEdgeByIndex(p);(f||k)&&(c.eachNode(function(a){afC(a,pV,0.1)}),c.eachEdge(function(a){afC(a,XG,0.1)}),f&&(aiW(f,pV),aiT(f.edges,function(a){a.dataIndex<0||(aiW(a,XG),aiW(a.node1,pV),aiW(a.node2,pV))})),k&&(aiW(k,XG),aiW(k.node1,pV),aiW(k.node2,pV)))},unfocusNodeAdjacency:function(){var a=this._model.getData().graph;a.eachNode(function(b){afC(b,pV)}),a.eachEdge(function(b){afC(b,XG)})},_startForceLayoutIteration:function(b,c){var d=this;!function a(){b.step(function(e){d.updateLayout(d._model),(d._layouting=!e)&&(c?d._layoutTimeout=setTimeout(a,16):a())})}()},_updateController:function(d,f,h){var c=this._controller,b=this._controllerHost,g=this.group;return c.setPointerChecker(function(m,k,j){var l=g.getBoundingRect();return l.applyTransform(g.transform),l.contain(k,j)&&!a1(m,h,d)}),"view"!==d.coordinateSystem.type?void c.disable():(c.enable(d.get("roam")),b.zoomLimit=d.get("scaleLimit"),b.zoom=d.coordinateSystem.getZoom(),void c.off("pan").off("zoom").on("pan",function(a){abv(b,a.dx,a.dy),h.dispatchAction({seriesId:d.id,type:"graphRoam",dx:a.dx,dy:a.dy})}).on("zoom",function(a){Zj(b,a.scale,a.originX,a.originY),h.dispatchAction({seriesId:d.id,type:"graphRoam",zoom:a.scale,originX:a.originX,originY:a.originY}),this._updateNodeAndLinkScale(),zJ(d.getGraph(),this._getNodeGlobalScale(d)),this._lineDraw.updateLayout()},this))},_updateNodeAndLinkScale:function(){var b=this._model,c=b.getData(),d=this._getNodeGlobalScale(b),a=[d,d];c.eachItemGraphicEl(function(e){e.attr("scale",a)})},_getNodeGlobalScale:function(d){var g=d.coordinateSystem;if("view"!==g.type){return 1}var j=this._nodeScaleRatio,c=g.scale,b=c&&c[0]||1,h=g.getZoom(),f=(h-1)*j+1;return f/b},updateLayout:function(a){zJ(a.getGraph(),this._getNodeGlobalScale(a)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}}),oJ({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),oJ({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){});var ahO={type:"graphRoam",event:"graphRoam",update:"none"};oJ(ahO,function(a,b){b.eachComponent({mainType:"series",query:a},function(d){var f=d.coordinateSystem,c=kJ(f,a);d.setCenter&&d.setCenter(c.center),d.setZoom&&d.setZoom(c.zoom)})});var acv=function(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.eachSeriesByType("graph",function(e){var g=e.getCategoriesData(),d=e.getGraph(),c=d.data,f=g.mapArray(g.getName);c.filterSelf(function(j){var l=c.getItemModel(j),h=l.getShallow("category");if(null!=h){"number"==typeof h&&(h=f[h]);for(var k=0;k<b.length;k++){if(!b[k].isSelected(h)){return !1}}}return !0})},this)},afr=function(a){var b={};a.eachSeriesByType("graph",function(e){var f=e.getCategoriesData(),d=e.getData(),c={};f.each(function(g){var k=f.getName(g);c["ec-"+k]=g;var j=f.getItemModel(g),h=j.get("itemStyle.color")||e.getColorFromPalette(k,b);f.setItemVisual(g,"color",h)}),f.count()&&d.each(function(g){var h=d.getItemModel(g),i=h.getShallow("category");null!=i&&("string"==typeof i&&(i=c["ec-"+i]),d.getItemVisual(g,"color",!0)||d.setItemVisual(g,"color",f.getItemVisual(i,"color")))})})},akU=function(a){a.eachSeriesByType("graph",function(d){var g=d.getGraph(),j=d.getEdgeData(),c=ahZ(d.get("edgeSymbol")),b=ahZ(d.get("edgeSymbolSize")),h="lineStyle.color".split("."),f="lineStyle.opacity".split(".");j.setVisual("fromSymbol",c&&c[0]),j.setVisual("toSymbol",c&&c[1]),j.setVisual("fromSymbolSize",b&&b[0]),j.setVisual("toSymbolSize",b&&b[1]),j.setVisual("color",d.get(h)),j.setVisual("opacity",d.get(f)),j.each(function(o){var n=j.getItemModel(o),k=g.getEdgeByIndex(o),q=ahZ(n.getShallow("symbol",!0)),e=ahZ(n.getShallow("symbolSize",!0)),m=n.get(h),p=n.get(f);switch(m){case"source":m=k.node1.getVisual("color");break;case"target":m=k.node2.getVisual("color")}q[0]&&k.setVisual("fromSymbol",q[0]),q[1]&&k.setVisual("toSymbol",q[1]),e[0]&&k.setVisual("fromSymbolSize",e[0]),e[1]&&k.setVisual("toSymbolSize",e[1]),k.setVisual("color",m),k.setVisual("opacity",p)})})},abU=function(a){a.eachSeriesByType("graph",function(m){var h=m.get("layout"),d=m.coordinateSystem;if(d&&"view"!==d.type){var g=m.getData(),j=[];aiT(d.dimensions,function(e){j=j.concat(g.mapDimension(e,!0))});for(var c=0;c<g.count();c++){for(var b=[],p=!1,f=0;f<j.length;f++){var k=g.get(j[f],c);isNaN(k)||(p=!0),b.push(k)}p?g.setItemLayout(c,d.dataToPoint(b)):g.setItemLayout(c,[0/0,0/0])}aaT(g.graph)}else{h&&"none"!==h||agO(m)}})},Z8=function(a){a.eachSeriesByType("graph",function(b){"circular"===b.get("layout")&&agd(b)})},YY=ajf,adH=function(a){a.eachSeriesByType("graph",function(G){var B=G.coordinateSystem;if(!B||"view"===B.type){if("force"===G.get("layout")){var q=G.preservedPoints||{},x=G.getGraph(),E=x.data,k=x.edgeData,b=G.getModel("force"),H=b.get("initLayout");G.preservedPoints?E.each(function(c){var d=E.getId(c);E.setItemLayout(c,q[d]||[0/0,0/0])}):H&&"none"!==H?"circular"===H&&agd(G):agO(G);var w=E.getDataExtent("value"),F=k.getDataExtent("value"),y=b.get("repulsion"),D=b.get("edgeLength");ai9(y)||(y=[y,y]),ai9(D)||(D=[D,D]),D=[D[1],D[0]];var C=E.mapArray("value",function(d,f){var g=E.getItemLayout(f),c=Z7(d,w,y);return isNaN(c)&&(c=(y[0]+y[1])/2),{w:c,rep:c,fixed:E.getItemModel(f).get("fixed"),p:!g||isNaN(g[0])||isNaN(g[1])?null:g}}),A=k.mapArray("value",function(d,f){var g=x.getEdgeByIndex(f),c=Z7(d,F,D);return isNaN(c)&&(c=(D[0]+D[1])/2),{n1:C[g.node1.dataIndex],n2:C[g.node2.dataIndex],d:c,curveness:g.getModel().get("lineStyle.curveness")||0}}),B=G.coordinateSystem,j=B.getBoundingRect(),z=acG(C,A,{rect:j,gravity:b.get("gravity")}),v=z.step;z.step=function(c){for(var d=0,f=C.length;f>d;d++){C[d].fixed&&aji(C[d].p,x.getNodeByIndex(d).getLayout())}v(function(t,i,g){for(var L=0,m=t.length;m>L;L++){t[L].fixed||x.getNodeByIndex(L).setLayout(t[L].p),q[E.getId(L)]=t[L].p}for(var L=0,m=i.length;m>L;L++){var K=i[L],n=x.getEdgeByIndex(L),J=K.n1.p,I=K.n2.p,p=n.getLayout();p=p?p.slice():[],p[0]=p[0]||[],p[1]=p[1]||[],aji(p[0],J),aji(p[1],I),+K.curveness&&(p[2]=[(J[0]+I[0])/2-(J[1]-I[1])*K.curveness,(J[1]+I[1])/2-(I[0]-J[0])*K.curveness]),n.setLayout(p)}c&&c(g)})},G.forceLayout=z,G.preservedPoints=q,z.step()}else{G.forceLayout=null}}})},V4=function(a,b){var c=[];return a.eachSeriesByType("graph",function(z){var m=z.get("coordinateSystem");if(!m||"view"===m){var x=z.getData(),j=x.mapArray(function(d){var f=x.getItemModel(d);return[+f.get("x"),+f.get("y")]}),e=[],A=[];a6(j,e,A),A[0]-e[0]===0&&(A[0]+=1,e[0]-=1),A[1]-e[1]===0&&(A[1]+=1,e[1]-=1);var k=(A[0]-e[0])/(A[1]-e[1]),y=TU(z,b,k);isNaN(k)&&(e=[y.x,y.y],A=[y.x+y.width,y.y+y.height]);var n=A[0]-e[0],w=A[1]-e[1],v=y.width,q=y.height,g=z.coordinateSystem=new ab6;g.zoomLimit=z.get("scaleLimit"),g.setBoundingRect(e[0],e[1],n,w),g.setViewRect(y.x,y.y,v,q),g.setCenter(z.get("center")),g.setZoom(z.get("zoom")),c.push(g)}}),c};MU(acv),aeK(ajO("graph","circle",null)),aeK(afr),aeK(akU),abL(abU),abL(Z8),abL(adH),VV("graphView",{create:V4});var af2=fQ.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});aiZ(af2,rB,!0);var ajE=["itemStyle"],aiD=["emphasis","itemStyle"],ahe=(B7.extend({type:"boxplot",render:function(d){var f=d.getData(),g=this.group,c=this._data;this._data||g.removeAll();var b="horizontal"===d.get("layout")?1:0;f.diff(c).add(function(e){if(f.hasValue(e)){var a=f.getItemLayout(e),h=PG(a,f,e,b,!0);f.setItemGraphicEl(e,h),g.add(h)}}).update(function(a,i){var h=c.getItemGraphicEl(i);if(!f.hasValue(a)){return void g.remove(h)}var e=f.getItemLayout(a);h?QZ(e,h,f,a):h=PG(e,f,a,b),g.add(h),f.setItemGraphicEl(a,h)}).remove(function(a){var h=c.getItemGraphicEl(a);h&&g.remove(h)}).execute(),this._data=f},remove:function(){var a=this.group,b=this._data;this._data=null,b&&b.eachItemGraphicEl(function(c){c&&a.remove(c)})},dispose:ajU}),h5.extend({type:"boxplotBoxPath",shape:{},buildPath:function(b,c){var d=c.points,a=0;for(b.moveTo(d[a][0],d[a][1]),a++;4>a;a++){b.lineTo(d[a][0],d[a][1])}for(b.closePath();a<d.length;a++){b.moveTo(d[a][0],d[a][1]),a++,b.lineTo(d[a][0],d[a][1])}}})),abj=["itemStyle","borderColor"],agD=function(a){var b=a.get("color");a.eachRawSeriesByType("boxplot",function(e){var d=b[e.seriesIndex%b.length],c=e.getData();c.setVisual({legendSymbol:"roundRect",color:e.get(abj)||d}),a.isSeriesFiltered(e)||c.each(function(f){var g=c.getItemModel(f);c.setItemVisual(f,{color:g.get(abj,!0)})})})},ac6=aiT,UQ=function(a){var b=R9(a);ac6(b,function(c){var d=c.seriesModels;d.length&&(ajX(c),ac6(d,function(f,g){l1(f,c.boxOffsetList[g],c.boxWidthList[g])}))})};aeK(agD),abL(UQ);var QG=function(a){uB(a),z3(a)},RY=function(d,f,g,c,b){ado.call(this,d,f,g),this.type=c||"value",this.axisIndex=b};RY.prototype={constructor:RY,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},aiP(RY,ado);var bt=function(q,k,d,g,m,c){k[0]=K9(k[0],d),k[1]=K9(k[1],d),q=q||0;var b=d[1]-d[0];null!=m&&(m=K9(m,[0,b])),null!=c&&(c=Math.max(c,null!=m?m:0)),"all"===g&&(m=c=Math.abs(k[1]-k[0]),g=0);var v=kH(k,g);k[g]+=q;var f=m||0,p=d.slice();v.sign<0?p[0]+=f:p[1]-=f,k[g]=K9(k[g],p);var j=kH(k,g);null!=m&&(j.sign!==v.sign||j.span<m)&&(k[1-g]=k[g]+v.sign*m);var j=kH(k,g);return null!=c&&j.span>c&&(k[1-g]=k[g]+j.sign*c),k},S9=aiT,aks=Math.min,m1=Math.max,vB=Math.floor,A3=Math.ceil,lH=MJ,LZ=Math.PI;G5.prototype={type:"parallel",constructor:G5,_init:function(b,c){var d=b.dimensions,a=b.parallelAxisIndex;S9(d,function(f,j){var e=a[j],i=c.getComponent("parallelAxis",e),h=this._axesMap.set(f,new RY(f,afB(i),[0,0],i.get("type"),e)),g="category"===h.type;h.onBand=g&&i.get("boundaryGap"),h.inverse=i.get("inverse"),i.axis=h,h.model=i,h.coordinateSystem=i.coordinateSystem=this},this)},update:function(a){this._updateAxesFromSeries(this._model,a)},containPoint:function(d){var g=this._makeLayoutInfo(),j=g.axisBase,c=g.layoutBase,b=g.pixelDimIndex,h=d[1-b],f=d[b];return h>=j&&h<=j+g.axisLength&&f>=c&&f<=c+g.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(a,b){b.eachSeries(function(d){if(a.contains(d,b)){var c=d.getData();S9(this.dimensions,function(f){var g=this._axesMap.get(f);g.scale.unionExtentFromData(c,c.mapDimension(f)),U3(g.scale,g.model)},this)}},this)},resize:function(a,b){this._rect=lq(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var k,G=this._model,z=this._rect,C=["x","y"],J=["width","height"],y=G.get("layout"),w="horizontal"===y?0:1,q=z[J[w]],B=[0,q],j=this.dimensions.length,D=IG(G.get("axisExpandWidth"),B),I=IG(G.get("axisExpandCount")||0,[0,j]),H=G.get("axisExpandable")&&j>3&&j>I&&I>1&&D>0&&q>0,F=G.get("axisExpandWindow");if(F){k=IG(F[1]-F[0],B),F[1]=F[0]+k}else{k=IG(D*(I-1),B);var x=G.get("axisExpandCenter")||vB(j/2);F=[D*x-k/2],F[1]=F[0]+k}var E=(q-k)/(j-I);3>E&&(E=0);var A=[vB(lH(F[0]/D,1))+1,A3(lH(F[1]/D,1))-1],b=E/D*F[0];return{layout:y,pixelDimIndex:w,layoutBase:z[C[w]],layoutLength:q,axisBase:z[C[1-w]],axisLength:z[J[1-w]],axisExpandable:H,axisExpandWidth:D,axisCollapseWidth:E,axisExpandWindow:F,axisCount:j,winInnerIndices:A,axisExpandWindow0Pos:b}},_layoutAxes:function(){var d=this._rect,f=this._axesMap,g=this.dimensions,c=this._makeLayoutInfo(),b=c.layout;f.each(function(a){var h=[0,c.axisLength],i=a.inverse?1:0;a.setExtent(h[i],h[1-i])}),S9(g,function(p,t){var q=(c.axisExpandable?adS:vY)(t,c),m={horizontal:{x:q.position,y:c.axisLength},vertical:{x:0,y:q.position}},k={horizontal:LZ/2,vertical:0},a=[m[b].x+d.x,m[b].y+d.y],i=k[b],j=aj1();Lq(j,j,i),kK(j,j,a),this._axesLayout[p]={position:a,rotation:i,transform:j,axisNameAvailableWidth:q.axisNameAvailableWidth,axisLabelShow:q.axisLabelShow,nameTruncateMaxWidth:q.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(a){return this._axesMap.get(a)},dataToPoint:function(a,b){return this.axisCoordToPoint(this._axesMap.get(b).dataToCoord(a),b)},eachActiveState:function(C,x,k,q){null==k&&(k=0),null==q&&(q=C.count());var A=this._axesMap,j=this.dimensions,b=[],D=[];aiT(j,function(a){b.push(C.mapDimension(a)),D.push(A.get(a).model)});for(var m=this.hasAxisBrushed(),B=k;q>B;B++){var v;if(m){v="active";for(var z=C.getValues(b,B),y=0,f=j.length;f>y;y++){var w=D[y].getActiveState(z[y]);if("inactive"===w){v="inactive";break}}}else{v="normal"}x(v,B)}},hasAxisBrushed:function(){for(var d=this.dimensions,f=this._axesMap,g=!1,c=0,b=d.length;b>c;c++){"normal"!==f.get(d[c]).model.getActiveState()&&(g=!0)}return g},axisCoordToPoint:function(a,b){var c=this._axesLayout[b];return E8([a,0],c.transform)},getAxisLayout:function(a){return aiO(this._axesLayout[a])},getSlidedAxisExpandWindow:function(y){var p=this._makeLayoutInfo(),g=p.pixelDimIndex,k=p.axisExpandWindow.slice(),w=k[1]-k[0],f=[0,p.axisExpandWidth*(p.axisCount-1)];if(!this.containPoint(y)){return{behavior:"none",axisExpandWindow:k}}var b,z=y[g]-p.layoutBase-p.axisExpandWindow0Pos,j="slide",x=p.axisCollapseWidth,m=this._model.get("axisExpandSlideTriggerArea"),v=null!=m[0];if(x){v&&x&&z<w*m[0]?(j="jump",b=z-w*m[2]):v&&x&&z>w*(1-m[0])?(j="jump",b=z-w*(1-m[2])):(b=z-w*m[1])>=0&&(b=z-w*(1-m[1]))<=0&&(b=0),b*=p.axisExpandWidth/x,b?bt(b,k,f,"all"):j="none"}else{var w=k[1]-k[0],q=f[1]*z/w;k=[m1(0,q-w/2)],k[1]=aks(f[1],k[0]+w),k[0]=k[1]-w}return{axisExpandWindow:k,behavior:j}}},VX.register("parallel",{create:p7});var H4=akQ.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return zB([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(a){var b=this.activeIntervals=aiO(a);if(b){for(var c=b.length-1;c>=0;c--){x8(b[c])}}},getActiveState:function(d){var f=this.activeIntervals;if(!f.length){return"normal"}if(null==d||isNaN(d)){return"inactive"}if(1===f.length){var g=f[0];if(g[0]<=d&&d<=g[1]){return"active"}}else{for(var c=0,b=f.length;b>c;c++){if(f[c][0]<=d&&d<=f[c][1]){return"active"}}}return"inactive"}}),JG={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:0.3},realtime:!0,z:10};ai5(H4.prototype,ah6),BV("parallel",H4,rJ,JG),akQ.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-0.15,0.05,0.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){akQ.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(a){var b=this.option;a&&ai5(b,a,!0),this._initDimensions()},contains:function(a,b){var c=a.get("parallelIndex");return null!=c&&b.getComponent("parallel",c)===this},setAxisExpand:function(a){aiT(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(b){a.hasOwnProperty(b)&&(this.option[b]=a[b])},this)},_initDimensions:function(){var a=this.dimensions=[],b=this.parallelAxisIndex=[],c=aiB(this.dependentModels.parallelAxis,function(d){return(d.get("parallelIndex")||0)===this.componentIndex},this);aiT(c,function(d){a.push("dim"+d.get("dim")),b.push(d.componentIndex)})}});var wY={type:"axisAreaSelect",event:"axisAreaSelected"};oJ(wY,function(a,b){b.eachComponent({mainType:"parallelAxis",query:a},function(c){c.axis.model.setActiveIntervals(a.intervals)})}),oJ("parallelAxisExpand",function(a,b){b.eachComponent({mainType:"parallel",query:a},function(c){c.setAxisExpand(a)})});var aei=aie,q6=aiT,sJ=aiu,ot=Math.min,O4=Math.max,GU=Math.pow,t2=10000,KY=6,iW=6,DY="globalPan",E9={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},hq={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},CF={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},c7=0;nt.prototype={constructor:nt,enableBrush:function(a){return this._brushType&&FU(this),a.brushType&&N8(this,a),this},setPanels:function(a){if(a&&a.length){var b=this._panels={};aiT(a,function(c){b[c.panelId]=aiO(c)})}else{this._panels=null}return this},mount:function(a){a=a||{},this._enableGlobalPan=a.enableGlobalPan;var b=this.group;return this._zr.add(b),b.attr({position:a.position||[0,0],rotation:a.rotation||0,scale:a.scale||[1,1]}),this._transform=b.getLocalTransform(),this},eachCover:function(a,b){q6(this._covers,a,b)},updateCovers:function(m){function i(c,h){return(null!=c.id?c.id:p+h)+"-"+c.brushType}function d(c,e){return i(c.__brushOption,e)}function b(l,o){var h=m[l];if(null!=o&&f[o]===j){k[l]=f[o]}else{var c=k[l]=null!=o?(f[o].__brushOption=h,f[o]):JZ(g,s2(g,h));D9(g,c)}}function a(c){f[c]!==j&&g.group.remove(f[c])}m=aiu(m,function(c){return ai5(aiO(CF),c,!0)});var p="\x00-brush-index-",f=this._covers,k=this._covers=[],g=this,j=this._creatingCover;return new aaA(f,m,d,i).add(b).update(b).remove(a).execute(),this},unmount:function(){return this.enableBrush(!1),e1(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},aiZ(nt,adp);var f1={mousedown:function(a){if(this._dragging){agG.call(this,a)}else{if(!a.target||!a.target.draggable){UW(a);var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null;var c=this._creatingPanel=BF(this,a,b);c&&(this._dragging=!0,this._track=[b.slice()])}}},mousemove:function(a){var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);if(ac9(this,a,b),this._dragging){UW(a);var c=aiI(this,a,b,!1);c&&dJ(this,c)}},mouseup:agG},eJ={lineX:aaL(0),lineY:aaL(1),rect:{createCover:function(a,b){return aaj(aei(aeU,function(c){return c},function(c){return c}),a,b,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(a){var b=i7(a);return V7(b[1][0],b[1][1],b[0][0],b[0][1])},updateCoverShape:function(b,c,d,a){w9(b,c,d,a)},updateCommon:MY,contain:afu},polygon:{createCover:function(a,b){var c=new jG;return c.add(new abs({name:"main",style:oX(b),silent:!0})),c},getCreatingRange:function(a){return a},endCreating:function(a,b){b.remove(b.childAt(0)),b.add(new ahn({name:"main",draggable:!0,drift:aei(akv,a,b),ondragend:aei(dJ,a,{isEnd:!0})}))},updateCoverShape:function(a,b,c){b.childAt(0).setShape({points:Y1(a,b,c)})},updateCommon:MY,contain:afu}},aeT=["axisLine","axisTickLabel","axisName"],j6=W6({type:"parallelAxis",init:function(a,b){j6.superApply(this,"init",arguments),(this._brushController=new nt(b.getZr())).on("brush",aic(this._onBrush,this))},render:function(A,v,j,m){if(!QK(A,v,m)){this.axisModel=A,this.api=j,this.group.removeAll();var y=this._axisGroup;if(this._axisGroup=new jG,this.group.add(this._axisGroup),A.get("show")){var f=R1(A,v),B=f.coordinateSystem,k=A.getAreaSelectStyle(),z=k.width,q=A.axis.dim,x=B.getAxisLayout(q),w=aip({strokeContainThreshold:z},x),b=new LH(A,w);aiT(aeT,b.add,b),this._axisGroup.add(b.getGroup()),this._refreshBrushController(w,k,A,f,z,j);var r=m&&m.animation===!1?null:A;JF(y,this._axisGroup,r)}}},_refreshBrushController:function(m,h,d,g,j,c){var b=d.axis.getExtent(),p=b[1]-b[0],f=Math.min(30,0.1*Math.abs(p)),k=acw.create({x:b[0],y:-j/2,width:p,height:j});k.x-=f,k.width+=2*f,this._brushController.mount({enableGlobalPan:!0,rotation:m.rotation,position:m.position}).setPanels([{panelId:"pl",clipPath:af5(k),isTargetByCursor:Tt(k,c,g),getLinearBrushOtherExtent:acy(k,0)}]).enableBrush({brushType:"lineX",brushStyle:h,removeOnClick:!0}).updateCovers(aV(d))},_onBrush:function(d,f){var g=this.axisModel,c=g.axis,b=aiu(d,function(a){return[c.coordToData(a.range[0],!0),c.coordToData(a.range[1],!0)]});(!g.option.realtime===f.isEnd||f.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:g.id,intervals:b})},dispose:function(){this._brushController.dispose()}}),aaJ=5;W6({type:"parallel",render:function(a,b,c){this._model=a,this._api=c,this._handlers||(this._handlers={},aiT(x9,function(d,f){c.getZr().on(f,this._handlers[f]=aic(d,this))},this)),c0(this,"_throttledDispatchExpand",a.get("axisExpandRate"),"fixRate")},dispose:function(a,b){aiT(this._handlers,function(c,d){b.getZr().off(d,c)}),this._handlers=null},_throttledDispatchExpand:function(a){this._dispatchExpand(a)},_dispatchExpand:function(a){a&&this._api.dispatchAction(aip({type:"parallelAxisExpand"},a))}});var x9={mousedown:function(a){ajJ(this,"click")&&(this._mouseDownPoint=[a.offsetX,a.offsetY])},mouseup:function(d){var f=this._mouseDownPoint;if(ajJ(this,"click")&&f){var g=[d.offsetX,d.offsetY],c=Math.pow(f[0]-g[0],2)+Math.pow(f[1]-g[1],2);if(c>aaJ){return}var b=this._model.coordinateSystem.getSlidedAxisExpandWindow([d.offsetX,d.offsetY]);"none"!==b.behavior&&this._dispatchExpand({axisExpandWindow:b.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(b){if(!this._mouseDownPoint&&ajJ(this,"mousemove")){var c=this._model,d=c.coordinateSystem.getSlidedAxisExpandWindow([b.offsetX,b.offsetY]),a=d.behavior;"jump"===a&&this._throttledDispatchExpand.debounceNextCall(c.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===a?null:{axisExpandWindow:d.axisExpandWindow,animation:"jump"===a?null:!1})}}};w3(QG),fQ.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(){var a=this.getSource();return lQ(a,this),r8(a,this)},getRawIndicesByActiveState:function(b){var c=this.coordinateSystem,d=this.getData(),a=[];return c.eachActiveState(d,function(g,f){b===g&&a.push(d.getRawIndex(f))}),a},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:0.05,activeOpacity:1,lineStyle:{width:1,opacity:0.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});var Nj=0.3,zQ=(B7.extend({type:"parallel",init:function(){this._dataGroup=new jG,this.group.add(this._dataGroup),this._data,this._initialized},render:function(A,v,j,m){function y(a){var c=K1(k,B,a,x,p);H7(c,k,a,w)}function g(f,i){var c=z.getItemGraphicEl(i),h=j8(k,f,x,p);k.setItemGraphicEl(f,c);var d=m&&m.animation===!1?null:A;q5(c,{shape:{points:h}},d,f),H7(c,k,f,w)}function b(a){var c=z.getItemGraphicEl(a);B.remove(c)}var B=this._dataGroup,k=A.getData(),z=this._data,p=A.coordinateSystem,x=p.dimensions,w=GX(A);if(k.diff(z).add(y).update(g).remove(b).execute(),!this._initialized){this._initialized=!0;var q=zV(p,A,function(){setTimeout(function(){B.removeClipPath()})});B.setClipPath(q)}this._data=k},incrementalPrepareRender:function(){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(d,h){for(var k=h.getData(),c=h.coordinateSystem,b=c.dimensions,j=GX(h),g=d.start;g<d.end;g++){var f=K1(k,this._dataGroup,g,b,c);f.incremental=!0,H7(f,k,g,j)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}}),["lineStyle","normal","opacity"]),pX={seriesType:"parallel",reset:function(y,p){function g(a,c){m.eachActiveState(c,function(h,l){var e=q[h];if("normal"===h&&c.hasItemOption){var d=c.getItemModel(l).get(zQ,!0);null!=d&&(e=d)}c.setItemVisual(l,"opacity",e)},a.start,a.end)}var k=y.getModel("itemStyle"),w=y.getModel("lineStyle"),f=p.get("color"),b=w.get("color")||k.get("color")||f[y.seriesIndex%f.length],z=y.get("inactiveOpacity"),j=y.get("activeOpacity"),x=y.getModel("lineStyle").getLineStyle(),m=y.coordinateSystem,v=y.getData(),q={normal:x.opacity,active:j,inactive:z};return v.setVisual("color",b),{progress:g}}};aeK(pX);var Xq=(fQ.extend({type:"series.gauge",getInitialData:function(a){var b=a.data||[];return ai9(b)||(b=[b]),a.data=b,add(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[0.2,"#91c7ae"],[0.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}}),h5.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(k,h){var d=Math.cos,g=Math.sin,j=h.r,c=h.width,b=h.angle,m=h.x-d(b)*c*(c>=j/3?1:2),f=h.y-g(b)*c*(c>=j/3?1:2);b=h.angle-Math.PI/2,k.moveTo(m,f),k.lineTo(h.x+d(b)*c,h.y+g(b)*c),k.lineTo(h.x+d(h.angle)*j,h.y+g(h.angle)*j),k.lineTo(h.x-d(b)*c,h.y-g(b)*c),k.lineTo(m,f)}})),ahL=2*Math.PI,acr=(B7.extend({type:"gauge",render:function(d,f,g){this.group.removeAll();var c=d.get("axisLine.lineStyle.color"),b=adK(d,g);this._renderMain(d,f,g,c,b)},dispose:function(){},_renderMain:function(q,I,B,E,L){for(var A=this.group,x=q.getModel("axisLine"),w=x.getModel("lineStyle"),D=q.get("clockwise"),k=-q.get("startAngle")/180*Math.PI,F=-q.get("endAngle")/180*Math.PI,K=(F-k)%ahL,J=k,H=w.get("width"),z=0;z<E.length;z++){var G=Math.min(Math.max(E[z][0],0),1),F=k+K*G,C=new WB({shape:{startAngle:J,endAngle:F,cx:L.cx,cy:L.cy,clockwise:D,r0:L.r-H,r:L.r},silent:!0});C.setStyle({fill:E[z][1]}),C.setStyle(w.getLineStyle(["color","borderWidth","borderColor"])),A.add(C),J=F}var j=function(a){if(0>=a){return E[0][1]}for(var c=0;c<E.length;c++){if(E[c][0]>=a&&(0===c?0:E[c-1][0])<a){return E[c][1]}}return E[c-1][1]};if(!D){var b=k;k=F,F=b}this._renderTicks(q,I,B,j,L,k,F,D),this._renderPointer(q,I,B,j,L,k,F,D),this._renderTitle(q,I,B,j,L),this._renderDetail(q,I,B,j,L)},_renderTicks:function(R,ak,ab,af,ao,aa,X){for(var V=this.group,ad=ao.cx,Q=ao.cy,ag=ao.r,am=+R.get("min"),al=+R.get("max"),ai=R.getModel("splitLine"),Z=R.getModel("axisTick"),ah=R.getModel("axisLabel"),ac=R.get("splitNumber"),N=Z.get("splitNumber"),G=wX(ai.get("length"),ag),J=wX(Z.get("length"),ag),ap=aa,K=(X-aa)/ac,an=K/N,q=ai.getModel("lineStyle").getLineStyle(),E=Z.getModel("lineStyle").getLineStyle(),H=0;ac>=H;H++){var j=Math.cos(ap),Y=Math.sin(ap);if(ai.get("show")){var U=new adf({shape:{x1:j*ag+ad,y1:Y*ag+Q,x2:j*(ag-G)+ad,y2:Y*(ag-G)+Q},style:q,silent:!0});"auto"===q.stroke&&U.setStyle({stroke:af(H/ac)}),V.add(U)}if(ah.get("show")){var W=pZ(MJ(H/ac*(al-am)+am),ah.get("formatter")),F=ah.get("distance"),ae=af(H/ac);V.add(new ab3({style:lG({},ah,{text:W,x:j*(ag-G-F)+ad,y:Y*(ag-G-F)+Q,textVerticalAlign:-0.4>Y?"top":Y>0.4?"bottom":"middle",textAlign:-0.4>j?"left":j>0.4?"right":"center"},{autoColor:ae}),silent:!0}))}if(Z.get("show")&&H!==ac){for(var z=0;N>=z;z++){var j=Math.cos(ap),Y=Math.sin(ap),B=new adf({shape:{x1:j*ag+ad,y1:Y*ag+Q,x2:j*(ag-J)+ad,y2:Y*(ag-J)+Q},silent:!0,style:E});"auto"===E.stroke&&B.setStyle({stroke:af((H+z/N)/ac)}),V.add(B),ap+=an}ap-=an}else{ap+=K}}},_renderPointer:function(y,p,g,k,w,f,b){var z=this.group,j=this._data;if(!y.get("pointer.show")){return void (j&&j.eachItemGraphicEl(function(a){z.remove(a)}))}var x=[+y.get("min"),+y.get("max")],m=[f,b],v=y.getData(),q=v.mapDimension("value");v.diff(j).add(function(a){var c=new Xq({shape:{angle:f}});m0(c,{shape:{angle:Z7(v.get(q,a),x,m,!0)}},y),z.add(c),v.setItemGraphicEl(a,c)}).update(function(c,d){var a=j.getItemGraphicEl(d);q5(a,{shape:{angle:Z7(v.get(q,c),x,m,!0)}},y),z.add(a),v.setItemGraphicEl(c,a)}).remove(function(a){var c=j.getItemGraphicEl(a);z.remove(c)}).execute(),v.eachItemGraphicEl(function(a,c){var h=v.getItemModel(c),d=h.getModel("pointer");a.setShape({x:w.cx,y:w.cy,width:wX(d.get("width"),w.r),r:wX(d.get("length"),w.r)}),a.useStyle(h.getModel("itemStyle").getItemStyle()),"auto"===a.style.fill&&a.setStyle("fill",k(Z7(v.get(q,c),x,[0,1],!0))),aQ(a,h.getModel("emphasis.itemStyle").getItemStyle())}),this._data=v},_renderTitle:function(C,x,k,q,A){var j=C.getData(),b=j.mapDimension("value"),D=C.getModel("title");if(D.get("show")){var m=D.get("offsetCenter"),B=A.cx+wX(m[0],A.r),v=A.cy+wX(m[1],A.r),z=+C.get("min"),y=+C.get("max"),w=C.getData().get(b,0),g=q(Z7(w,[z,y],[0,1],!0));this.group.add(new ab3({silent:!0,style:lG({},D,{x:B,y:v,text:j.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:g,forceRich:!0})}))}},_renderDetail:function(E,z,m,v,C){var k=E.getModel("detail"),b=+E.get("min"),F=+E.get("max");if(k.get("show")){var q=k.get("offsetCenter"),D=C.cx+wX(q[0],C.r),w=C.cy+wX(q[1],C.r),B=wX(k.get("width"),C.r),A=wX(k.get("height"),C.r),y=E.getData(),j=y.get(y.mapDimension("value"),0),x=v(Z7(j,[b,F],[0,1],!0));this.group.add(new ab3({silent:!0,style:lG({},k,{x:D,y:w,text:pZ(j,k.get("formatter")),textWidth:isNaN(B)?null:B,textHeight:isNaN(A)?null:A,textAlign:"center",textVerticalAlign:"middle"},{autoColor:x,forceRich:!0})}))}}}),acX({type:"series.funnel",init:function(a){acr.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(a)},getInitialData:function(){return add(this,["value"])},_defaultLabelLine:function(a){JW(a,"labelLine",["show"]);var b=a.labelLine,c=a.emphasis.labelLine;b.show=b.show&&a.label.show,c.show=c.show&&a.emphasis.label.show},getDataParams:function(d){var f=this.getData(),g=acr.superCall(this,"getDataParams",d),c=f.mapDimension("value"),b=f.getSum(c);return g.percent=b?+(f.get(c,d)/b*100).toFixed(2):0,g.$vars.push("percent"),g},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}})),afn=q9.prototype,akS=["itemStyle","opacity"];afn.updateData=function(q,k,d){var g=this.childAt(0),m=q.hostModel,c=q.getItemModel(k),b=q.getItemLayout(k),f=q.getItemModel(k).get(akS);f=null==f?1:f,g.useStyle({}),d?(g.setShape({points:b.points}),g.setStyle({opacity:0}),m0(g,{style:{opacity:f}},m,k)):q5(g,{style:{opacity:f},shape:{points:b.points}},m,k);var p=c.getModel("itemStyle"),j=q.getItemVisual(k,"color");g.setStyle(ain({lineJoin:"round",fill:j},p.getItemStyle(["opacity"]))),g.hoverStyle=p.getModel("emphasis").getItemStyle(),this._updateLabel(q,k),aQ(this)},afn._updateLabel=function(y,p){var g=this.childAt(1),k=this.childAt(2),w=y.hostModel,f=y.getItemModel(p),b=y.getItemLayout(p),z=b.label,j=y.getItemVisual(p,"color");q5(g,{shape:{points:z.linePoints||z.linePoints}},w,p),q5(k,{style:{x:z.x,y:z.y}},w,p),k.attr({rotation:z.rotation,origin:[z.x,z.y],z2:10});var x=f.getModel("label"),m=f.getModel("emphasis.label"),v=f.getModel("labelLine"),q=f.getModel("emphasis.labelLine"),j=y.getItemVisual(p,"color");ajD(k.style,k.hoverStyle={},x,m,{labelFetcher:y.hostModel,labelDataIndex:p,defaultText:y.getName(p),autoColor:j,useInsideStyle:!!z.inside},{textAlign:z.textAlign,textVerticalAlign:z.verticalAlign}),k.ignore=k.normalIgnore=!x.get("show"),k.hoverIgnore=!m.get("show"),g.ignore=g.normalIgnore=!v.get("show"),g.hoverIgnore=!q.get("show"),g.setStyle({stroke:j}),g.setStyle(v.getModel("lineStyle").getLineStyle()),g.hoverStyle=q.getModel("lineStyle").getLineStyle()},aiP(q9,jG);var abQ=(B7.extend({type:"funnel",render:function(b){var c=b.getData(),d=this._data,a=this.group;c.diff(d).add(function(e){var f=new q9(c,e);c.setItemGraphicEl(e,f),a.add(f)}).update(function(f,e){var g=d.getItemGraphicEl(e);g.updateData(c,f),a.add(g),c.setItemGraphicEl(f,g)}).remove(function(f){var g=d.getItemGraphicEl(f);a.remove(g)}).execute(),this._data=c},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),function(a,b){a.eachSeriesByType("funnel",function(A){var F=A.getData(),I=F.mapDimension("value"),P=A.get("sort"),E=m4(A,b),C=N3(F,P),B=[wX(A.get("minSize"),E.width),wX(A.get("maxSize"),E.width)],H=F.getDataExtent(I),z=A.get("min"),J=A.get("max");null==z&&(z=Math.min(H[0],0)),null==J&&(J=H[1]);var N=A.get("funnelAlign"),M=A.get("gap"),L=(E.height-M*(F.count()-1))/F.count(),D=E.y,K=function(f,h){var d,g=F.get(I,f)||0,c=Z7(g,[z,J],B,!0);switch(N){case"left":d=E.x;break;case"center":d=E.x+(E.width-c)/2;break;case"right":d=E.x+E.width-c}return[[d,h],[d+c,h]]};"ascending"===P&&(L=-L,M=-M,D+=E.height,C=C.reverse());for(var G=0;G<C.length;G++){var q=C[G],e=C[G+1],j=F.getItemModel(q),Q=j.get("itemStyle.height");null==Q?Q=L:(Q=wX(Q,E.height),"ascending"===P&&(Q=-Q));var k=K(q,D),O=K(e,D+Q);D+=Q+M,F.setItemLayout(q,{points:k.concat(O.slice().reverse())})}Ft(F)})});aeK(TH("funnel")),abL(abQ),MU(lX("funnel"));var Z4=fQ.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(b){var c=b.edges||b.links,d=b.data||b.nodes;if(d&&c){var a=c5(d,c,this,!0);return a.data}},setNodePosition:function(a,b){var c=this.option.data[a];c.localX=b[0],c.localY=b[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(d,f,h){if("edge"===h){var c=this.getDataParams(d,h),b=c.data,g=b.source+" -- "+b.target;return c.value&&(g+=" : "+c.value),aaE(g)}return Z4.superCall(this,"formatTooltip",d,f)},optionUpdated:function(){var a=this.option;a.focusNodeAdjacency===!0&&(a.focusNodeAdjacency="allEdges")},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:0.2,curveness:0.5},emphasis:{label:{show:!0},lineStyle:{opacity:0.6}},animationEasing:"linear",animationDuration:1000}}),YU=["itemStyle","opacity"],adD=["lineStyle","opacity"],V0=xK({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(b,c){var d=c.extent,a=c.orient;"vertical"===a?(b.moveTo(c.x1,c.y1),b.bezierCurveTo(c.cpx1,c.cpy1,c.cpx2,c.cpy2,c.x2,c.y2),b.lineTo(c.x2+d,c.y2),b.bezierCurveTo(c.cpx2+d,c.cpy2,c.cpx1+d,c.cpy1,c.x1+d,c.y1)):(b.moveTo(c.x1,c.y1),b.bezierCurveTo(c.cpx1,c.cpy1,c.cpx2,c.cpy2,c.x2,c.y2),b.lineTo(c.x2,c.y2+d),b.bezierCurveTo(c.cpx2,c.cpy2+d,c.cpx1,c.cpy1+d,c.x1,c.y1+d)),b.closePath()}});Uq({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(w,m,f){var j=this,q=w.getGraph(),d=this.group,b=w.layoutInfo,x=b.width,g=b.height,v=w.getData(),k=w.getData("edge"),p=w.get("orient");this._model=w,d.removeAll(),d.attr("position",[b.x,b.y]),q.eachEdge(function(K){var E=new V0;E.dataIndex=K.dataIndex,E.seriesIndex=w.seriesIndex,E.dataType="edge";var G,O,C,B,L,J,D,H,F=K.getModel("lineStyle"),A=F.get("curveness"),o=K.node1.getLayout(),t=K.node1.getModel(),P=t.get("localX"),z=t.get("localY"),N=K.node2.getLayout(),h=K.node2.getModel(),l=h.get("localX"),s=h.get("localY"),c=K.getLayout();switch(E.shape.extent=Math.max(1,c.dy),E.shape.orient=p,"vertical"===p?(G=(null!=P?P*x:o.x)+c.sy,O=(null!=z?z*g:o.y)+o.dy,C=(null!=l?l*x:N.x)+c.ty,B=null!=s?s*g:N.y,L=G,J=O*(1-A)+B*A,D=C,H=O*A+B*(1-A)):(G=(null!=P?P*x:o.x)+o.dx,O=(null!=z?z*g:o.y)+c.sy,C=null!=l?l*x:N.x,B=(null!=s?s*g:N.y)+c.ty,L=G*(1-A)+C*A,J=O,D=G*A+C*(1-A),H=B),E.setShape({x1:G,y1:O,x2:C,y2:B,cpx1:L,cpy1:J,cpx2:D,cpy2:H}),E.setStyle(F.getItemStyle()),E.style.fill){case"source":E.style.fill=K.node1.getVisual("color");break;case"target":E.style.fill=K.node2.getVisual("color")}aQ(E,K.getModel("emphasis.lineStyle").getItemStyle()),d.add(E),k.setItemGraphicEl(K.dataIndex,E)}),q.eachNode(function(y){var o=y.getLayout(),s=y.getModel(),B=s.get("localX"),l=s.get("localY"),t=s.getModel("label"),A=s.getModel("emphasis.label"),z=new agM({shape:{x:null!=B?B*x:o.x,y:null!=l?l*g:o.y,width:o.dx,height:o.dy},style:s.getModel("itemStyle").getItemStyle()}),u=y.getModel("emphasis.itemStyle").getItemStyle();ajD(z.style,u,t,A,{labelFetcher:w,labelDataIndex:y.dataIndex,defaultText:y.id,isRectText:!0}),z.setStyle("fill",y.getVisual("color")),aQ(z,u),d.add(z),v.setItemGraphicEl(y.dataIndex,z),z.dataType="node"}),v.eachItemGraphicEl(function(h,c){var i=v.getItemModel(c);i.get("draggable")&&(h.drift=function(a,l){j._focusAdjacencyDisabled=!0,this.shape.x+=a,this.shape.y+=l,this.dirty(),f.dispatchAction({type:"dragNode",seriesId:w.id,dataIndex:v.getRawIndex(c),localX:this.shape.x/x,localY:this.shape.y/g})},h.ondragend=function(){j._focusAdjacencyDisabled=!1},h.draggable=!0,h.cursor="move"),i.get("focusNodeAdjacency")&&(h.off("mouseover").on("mouseover",function(){j._focusAdjacencyDisabled||f.dispatchAction({type:"focusNodeAdjacency",seriesId:w.id,dataIndex:h.dataIndex})}),h.off("mouseout").on("mouseout",function(){j._focusAdjacencyDisabled||f.dispatchAction({type:"unfocusNodeAdjacency",seriesId:w.id})}))}),k.eachItemGraphicEl(function(h,c){var i=k.getItemModel(c);i.get("focusNodeAdjacency")&&(h.off("mouseover").on("mouseover",function(){j._focusAdjacencyDisabled||f.dispatchAction({type:"focusNodeAdjacency",seriesId:w.id,edgeDataIndex:h.dataIndex})}),h.off("mouseout").on("mouseout",function(){j._focusAdjacencyDisabled||f.dispatchAction({type:"unfocusNodeAdjacency",seriesId:w.id})}))}),!this._data&&w.get("animation")&&d.setClipPath(CH(d.getBoundingRect(),w,function(){d.removeClipPath()})),this._data=w.getData()},dispose:function(){},focusNodeAdjacency:function(w,m,f,j){var q=this._model.getData(),d=q.graph,b=j.dataIndex,x=q.getItemModel(b),g=j.edgeDataIndex;if(null!=b||null!=g){var v=d.getNodeByIndex(b),k=d.getEdgeByIndex(g);if(d.eachNode(function(a){JK(a,YU,0.1)}),d.eachEdge(function(a){JK(a,adD,0.1)}),v){hF(v,YU);var p=x.get("focusNodeAdjacency");"outEdges"===p?aiT(v.outEdges,function(a){a.dataIndex<0||(hF(a,adD),hF(a.node2,YU))}):"inEdges"===p?aiT(v.inEdges,function(a){a.dataIndex<0||(hF(a,adD),hF(a.node1,YU))}):"allEdges"===p&&aiT(v.edges,function(a){a.dataIndex<0||(hF(a,adD),hF(a.node1,YU),hF(a.node2,YU))})}k&&(hF(k,adD),hF(k.node1,YU),hF(k.node2,YU))}},unfocusNodeAdjacency:function(){var a=this._model.getGraph();a.eachNode(function(b){JK(b,YU)}),a.eachEdge(function(b){JK(b,adD)})}}),oJ({type:"dragNode",event:"dragNode",update:"update"},function(a,b){b.eachComponent({mainType:"series",subType:"sankey",query:a},function(c){c.setNodePosition(a.dataIndex,[a.localX,a.localY])})});var afY=function(a,b){a.eachSeriesByType("sankey",function(x){var g=x.get("nodeWidth"),k=x.get("nodeGap"),v=f3(x,b);x.layoutInfo=v;var f=v.width,e=v.height,y=x.getGraph(),j=y.nodes,w=y.edges;b6(j);var m=aiB(j,function(c){return 0===c.getLayout().value}),q=0!==m.length?0:x.get("layoutIterations"),p=x.get("orient");A6(j,w,g,k,f,e,q,p)})},ajx=function(a){a.eachSeriesByType("sankey",function(d){var f=d.getGraph(),g=f.nodes;if(g.length){var c=1/0,b=-1/0;aiT(g,function(h){var i=h.getLayout().value;c>i&&(c=i),i>b&&(b=i)}),aiT(g,function(j){var l=new vQ({type:"color",mappingMethod:"linear",dataExtent:[c,b],visual:d.get("color")}),k=l.mapValueToVisual(j.getLayout().value);j.setVisual("color",k);var i=j.getModel(),h=i.get("itemStyle.color");null!=h&&j.setVisual("color",h)})}})};abL(afY),aeK(ajx);var aiw=function(d,f,g,c,b){ado.call(this,d,f,g),this.type=c||"value",this.position=b||"bottom",this.orient=null};aiw.prototype={constructor:aiw,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},pointToData:function(a,b){return this.coordinateSystem.pointToData(a,b)[0]},toGlobalCoord:null,toLocalCoord:null},aiP(aiw,ado),YG.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:YG,_init:function(b){var c=this.dimension,d=new aiw(c,afB(b),[0,0],b.get("type"),b.get("position")),a="category"===d.type;d.onBand=a&&b.get("boundaryGap"),d.inverse=b.get("inverse"),d.orient=b.get("orient"),b.axis=d,d.model=b,d.coordinateSystem=this,this._axis=d},update:function(a){a.eachSeries(function(b){if(b.coordinateSystem===this){var c=b.getData();aiT(c.mapDimension(this.dimension,!0),function(d){this._axis.scale.unionExtentFromData(c,d)},this),U3(this._axis.scale,this._axis.model)}},this)},resize:function(a,b){this._rect=lq({left:a.get("left"),top:a.get("top"),right:a.get("right"),bottom:a.get("bottom"),width:a.get("width"),height:a.get("height")},{width:b.getWidth(),height:b.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var d=this._rect,f=this._axis,g=f.isHorizontal(),c=g?[0,d.width]:[0,d.height],b=f.reverse?1:0;f.setExtent(c[b],c[1-b]),this._updateAxisTransform(f,g?d.x:d.y)},_updateAxisTransform:function(d,f){var g=d.getExtent(),c=g[0]+g[1],b=d.isHorizontal();d.toGlobalCoord=b?function(a){return a+f}:function(a){return c-a+f},d.toLocalCoord=b?function(a){return a-f}:function(a){return c-a+f}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(b){var c=this.getRect(),d=this.getAxis(),a=d.orient;return"horizontal"===a?d.contain(d.toLocalCoord(b[0]))&&b[1]>=c.y&&b[1]<=c.y+c.height:d.contain(d.toLocalCoord(b[1]))&&b[0]>=c.y&&b[0]<=c.y+c.height},pointToData:function(a){var b=this.getAxis();return[b.coordToData(b.toLocalCoord(a["horizontal"===b.orient?0:1]))]},dataToPoint:function(d){var f=this.getAxis(),g=this.getRect(),c=[],b="horizontal"===f.orient?0:1;return d instanceof Array&&(d=d[0]),c[b]=f.toGlobalCoord(f.dataToCoord(+d)),c[1-b]=0===b?g.y+g.height/2:g.x+g.width/2,c}},VX.register("single",{create:W5,dimensions:YG.prototype.dimensions});var aha=["axisLine","axisTickLabel","axisName"],abf="splitLine",agz=C5.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(d,g,j,c){var b=this.group;b.removeAll();var h=acW(d),f=new LH(d,h);aiT(aha,f.add,f),b.add(f.getGroup()),d.get(abf+".show")&&this["_"+abf](d),agz.superCall(this,"render",d,g,j,c)},_splitLine:function(E){var z=E.axis;if(!z.scale.isBlank()){var m=E.getModel("splitLine"),v=m.getModel("lineStyle"),C=v.get("width"),k=v.get("color");k=k instanceof Array?k:[k];for(var b=E.coordinateSystem.getRect(),F=z.isHorizontal(),q=[],D=0,w=z.getTicksCoords({tickModel:m}),B=[],A=[],y=0;y<w.length;++y){var j=z.toGlobalCoord(w[y].coord);F?(B[0]=j,B[1]=b.y,A[0]=j,A[1]=b.y+b.height):(B[0]=b.x,B[1]=j,A[0]=b.x+b.width,A[1]=j);var x=D++%k.length;q[x]=q[x]||[],q[x].push(new adf(abT({shape:{x1:B[0],y1:B[1],x2:A[0],y2:A[1]},style:{lineWidth:C},silent:!0})))}for(var y=0;y<q.length;++y){this.group.add(JX(q[y],{style:{stroke:k[y%k.length],lineDash:v.getLineDash(C),lineWidth:C},silent:!0}))}}}}),ac2=akQ.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),UH={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:0.2}}};ai5(ac2.prototype,ah6),BV("single",ac2,Uj,UH);var Qq=function(m,h){var d,g=[],j=m.seriesIndex;if(null==j||!(d=h.getSeriesByIndex(j))){return{point:[]}}var c=d.getData(),b=dF(c,m);if(null==b||0>b||ai9(b)){return{point:[]}}var p=c.getItemGraphicEl(b),f=d.coordinateSystem;if(d.getTooltipPosition){g=d.getTooltipPosition(b)||[]}else{if(f&&f.dataToPoint){g=f.dataToPoint(c.getValues(aiu(f.dimensions,function(a){return c.mapDimension(a)}),b,!0))||[]}else{if(p){var k=p.getBoundingRect().clone();k.applyTransform(p.transform),g=[k.x+k.width/2,k.y+k.height/2]}}}return{point:g,el:p}},RU=aiT,bj=aie,S5=aeq(),ako=function(G,B,q){var x=G.currTrigger,E=[G.x,G.y],k=G,b=G.dispatchAction||aic(q.dispatchAction,q),H=B.getComponent("axisPointer").coordSysAxesInfo;if(H){P5(E)&&(E=Qq({seriesIndex:k.seriesIndex,dataIndex:k.dataIndex},B).point);var w=P5(E),F=k.axesInfo,y=H.axesInfo,D="leave"===x||P5(E),C={},A={},j={list:[],map:{}},z={showPointer:bj(ahF,A),showTooltip:bj(agt,j)};RU(H.coordSysMap,function(a,c){var d=w||a.containPoint(E);RU(H.coordSysAxesInfo[c],function(g){var h=g.axis,f=SZ(F,g);if(!D&&d&&(!F||f)){var l=f&&f.value;null!=l||w||(l=h.pointToData(E)),null!=l&&afh(g,l,z,!1,C)}})});var v={};return RU(y,function(a,c){var d=a.linkGroup;d&&!A[c]&&RU(d.axesInfo,function(h,g){var f=A[g];if(h!==a&&f){var l=f.value;d.mapper&&(l=a.axis.scale.parse(d.mapper(l,OU(h),OU(a)))),v[a.key]=l}})}),RU(v,function(a,c){afh(y[c],a,z,!0,C)}),aaz(A,y,C),afS(j,E,G,b),acl(y,b,q),C}},mX=(YH({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),aeq()),u9=aiT,AZ=W6({type:"axisPointer",render:function(d,f,g){var c=f.getComponent("tooltip"),b=d.get("triggerOn")||c&&c.get("triggerOn")||"mousemove|click";aF("axisPointer",g,function(a,h,i){"none"!==b&&("leave"===a||b.indexOf(a)>=0)&&i({type:"updateAxisPointer",currTrigger:a,x:h&&h.offsetX,y:h&&h.offsetY})})},remove:function(a,b){jW(b.getZr(),"axisPointer"),AZ.superApply(this._model,"remove",arguments)},dispose:function(a,b){jW("axisPointer",b),AZ.superApply(this._model,"dispose",arguments)}}),lt=aeq(),LX=aiO,H0=aic;KG.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(w,m,f,j){var q=m.get("value"),d=m.get("status");if(this._axisModel=w,this._axisPointerModel=m,this._api=f,j||this._lastValue!==q||this._lastStatus!==d){this._lastValue=q,this._lastStatus=d;var b=this._group,x=this._handle;if(!d||"hide"===d){return b&&b.hide(),void (x&&x.hide())}b&&b.show(),x&&x.show();var g={};this.makeElOption(g,q,w,m,f);var v=g.graphicKey;v!==this._lastGraphicKey&&this.clear(f),this._lastGraphicKey=v;var k=this._moveAnimation=this.determineAnimation(w,m);if(b){var p=aie(Gj,m,k);this.updatePointerEl(b,g,p,m),this.updateLabelEl(b,g,p,m)}else{b=this._group=new jG,this.createPointerEl(b,g,w,m),this.createLabelEl(b,g,w,m),f.getZr().add(b)}pB(b,m,!0),this._renderHandle(q)}},remove:function(a){this.clear(a)},dispose:function(a){this.clear(a)},determineAnimation:function(k,h){var d=h.get("animation"),g=k.axis,j="category"===g.type,c=h.get("snap");if(!c&&!j){return !1}if("auto"===d||null==d){var b=this.animationThreshold;if(j&&g.getBandWidth()>b){return !0}if(c){var m=uQ(k).seriesDataCount,f=g.getExtent();return Math.abs(f[0]-f[1])/m>b}return !1}return d===!0},makeElOption:function(){},createPointerEl:function(b,c){var d=c.pointer;if(d){var a=lt(b).pointerEl=new rG[d.type](LX(c.pointer));b.add(a)}},createLabelEl:function(d,f,g,c){if(f.label){var b=lt(d).labelEl=new agM(LX(f.label));d.add(b),u3(b,c)}},updatePointerEl:function(b,c,d){var a=lt(b).pointerEl;a&&(a.setStyle(c.pointer.style),d(a,{shape:c.pointer.shape}))},updateLabelEl:function(d,f,g,c){var b=lt(d).labelEl;b&&(b.setStyle(f.label.style),g(b,{shape:f.label.shape,position:f.label.position}),u3(b,c))},_renderHandle:function(k){if(!this._dragging&&this.updateHandleTransform){var h=this._axisPointerModel,d=this._api.getZr(),g=this._handle,j=h.getModel("handle"),c=h.get("status");if(!j.get("show")||!c||"hide"===c){return g&&d.remove(g),void (this._handle=null)}var b;this._handle||(b=!0,g=this._handle=DX(j.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(a){ai8(a.event)},onmousedown:H0(this._onHandleDragMove,this,0,0),drift:H0(this._onHandleDragMove,this),ondragend:H0(this._onHandleDragEnd,this)}),d.add(g)),pB(g,h,!1);var m=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];g.setStyle(j.getItemStyle(null,m));var f=j.get("size");ai9(f)||(f=[f,f]),g.attr("scale",[f[0]/2,f[1]/2]),c0(this,"_doDispatchAxisPointer",j.get("throttle")||0,"fixRate"),this._moveHandleToValue(k,b)}},_moveHandleToValue:function(a,b){Gj(this._axisPointerModel,!b&&this._moveAnimation,this._handle,adx(this.getHandleTransform(a,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(b,c){var d=this._handle;if(d){this._dragging=!0;var a=this.updateHandleTransform(adx(d),[b,c],this._axisModel,this._axisPointerModel);this._payloadInfo=a,d.stopAnimation(),d.attr(adx(a)),lt(d).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){var a=this._handle;if(a){var b=this._payloadInfo,c=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:b.cursorPoint[0],y:b.cursorPoint[1],tooltipOption:b.tooltipOption,axesInfo:[{axisDim:c.axis.dim,axisIndex:c.componentIndex}]})}},_onHandleDragEnd:function(){this._dragging=!1;var a=this._handle;if(a){var b=this._axisPointerModel.get("value");this._moveHandleToValue(b),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(b){this._lastValue=null,this._lastStatus=null;var c=b.getZr(),d=this._group,a=this._handle;c&&d&&(this._lastGraphicKey=null,d&&c.remove(d),a&&c.remove(a),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(a,b,c){return c=c||0,{x:a[c],y:a[1-c],width:b[c],height:b[1-c]}}},KG.prototype.constructor=KG,ahy(KG);var Jq=KG.extend({makeElOption:function(y,p,g,k,w){var f=g.axis,b=f.grid,z=k.get("type"),j=fJ(b,f).getOtherAxis(f).getGlobalExtent(),x=f.toGlobalCoord(f.dataToCoord(p,!0));if(z&&"none"!==z){var m=qW(k),v=wU[z](f,x,j,m);v.style=m,y.graphicKey=v.type,y.pointer=v}var q=v4(b.model,g);I5(p,y,q,g,k,w)},getHandleTransform:function(b,c,d){var a=v4(c.axis.grid.model,c,{labelInside:!1});return a.labelMargin=d.get("handle.margin"),{position:r7(c.axis,b,a),rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(w,m,f){var j=f.axis,q=j.grid,d=j.getGlobalExtent(!0),b=fJ(q,j).getOtherAxis(j).getGlobalExtent(),x="x"===j.dim?0:1,g=w.position;g[x]+=m[x],g[x]=Math.min(d[1],g[x]),g[x]=Math.max(d[0],g[x]);var v=(b[1]+b[0])/2,k=[v,v];k[x]=g[x];var p=[{verticalAlign:"middle"},{align:"center"}];return{position:g,rotation:w.rotation,cursorPoint:k,tooltipOption:p[x]}}}),wU={line:function(d,f,g,c){var b=g1([f,g[0]],[f,g[1]],AQ(d));return abT({shape:b,style:c}),{type:"Line",shape:b}},shadow:function(d,f,g){var c=Math.max(1,d.getBandWidth()),b=g[1]-g[0];return{type:"Rect",shape:B4([f-c/2,g[0]],[c,b],AQ(d))}}};C5.registerAxisPointerClass("CartesianAxisPointer",Jq),w3(function(a){if(a){(!a.axisPointer||0===a.axisPointer.length)&&(a.axisPointer={});var b=a.axisPointer.link;b&&!ai9(b)&&(a.axisPointer.link=[b])}}),MU(gV.PROCESSOR.STATISTIC,function(a,b){a.getComponent("axisPointer").coordSysAxesInfo=T0(a,b)}),oJ({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},ako);var aee=["x","y"],q2=["width","height"],sB=KG.extend({makeElOption:function(y,p,g,k,w){var f=g.axis,b=f.coordinateSystem,z=d7(b,1-bZ(f)),j=b.dataToPoint(p)[0],x=k.get("type");if(x&&"none"!==x){var m=qW(k),v=n8[x](f,j,z,m);v.style=m,y.graphicKey=v.type,y.pointer=v}var q=acW(g);I5(p,y,q,g,k,w)},getHandleTransform:function(b,c,d){var a=acW(c,{labelInside:!1});return a.labelMargin=d.get("handle.margin"),{position:r7(c.axis,b,a),rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(q,k,d){var g=d.axis,m=g.coordinateSystem,c=bZ(g),b=d7(m,c),v=q.position;v[c]+=k[c],v[c]=Math.min(b[1],v[c]),v[c]=Math.max(b[0],v[c]);var f=d7(m,1-c),p=(f[1]+f[0])/2,j=[p,p];return j[c]=v[c],{position:v,rotation:q.rotation,cursorPoint:j,tooltipOption:{verticalAlign:"middle"}}}}),n8={line:function(d,f,g,c){var b=g1([f,g[0]],[f,g[1]],bZ(d));return abT({shape:b,style:c}),{type:"Line",shape:b}},shadow:function(d,f,g){var c=d.getBandWidth(),b=g[1]-g[0];return{type:"Rect",shape:B4([f-c/2,g[0]],[c,b],bZ(d))}}};C5.registerAxisPointerClass("SingleAxisPointer",sB),W6({type:"single"});var O0=2,GH=fQ.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(){GH.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(G){for(var A=G.length,k=D1().key(function(a){return a[2]}).entries(G),w=aiu(k,function(a){return{name:a.key,dataList:a.values}}),D=w.length,j=-1,b=-1,H=0;D>H;++H){var q=w[H].dataList.length;q>j&&(j=q,b=H)}for(var F=0;D>F;++F){if(F!==b){for(var x=w[F].name,C=0;j>C;++C){for(var B=w[b].dataList[C][0],z=w[F].dataList.length,y=-1,p=0;z>p;++p){var E=w[F].dataList[p][0];if(E===B){y=p;break}}-1===y&&(G[A]=[],G[A][0]=B,G[A][1]=0,G[A][2]=x,A++)}}}return G},getInitialData:function(w,m){for(var f=m.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0],j=f.get("type"),q=aiB(w.data,function(a){return void 0!==a[2]}),d=this.fixData(q||[]),b=[],x=this.nameMap=aj6(),g=0,v=0;v<d.length;++v){b.push(d[v][O0]),x.get(d[v][O0])||(x.set(d[v][O0],g),g++)}var k=BQ(d,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:S0(j)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),p=new akJ(k,this);return p.initData(d),p},getLayerSeries:function(){function k(a,e){return h.get(m,a)-h.get(m,e)}for(var h=this.getData(),d=h.count(),g=[],j=0;d>j;++j){g[j]=j}for(var c=D1().key(function(a){return h.get("name",a)}).entries(g),b=aiu(c,function(a){return{name:a.key,indices:a.values}}),m=h.mapDimension("single"),f=0;f<b.length;++f){b[f].indices.sort(k)}return b},getAxisTooltipData:function(A,v){ai9(A)||(A=A?[A]:[]);for(var j,m=this.getData(),y=this.getLayerSeries(),g=[],b=y.length,B=0;b>B;++B){for(var k=Number.MAX_VALUE,z=-1,p=y[B].indices.length,x=0;p>x;++x){var w=m.get(A[0],y[B].indices[x]),q=Math.abs(w-v);k>=q&&(j=w,k=q,z=y[B].indices[x])}g.push(z)}return{dataIndices:g,nestestValue:j}},formatTooltip:function(b){var c=this.getData(),d=c.getName(b),a=c.get(c.mapDimension("value"),b);return(isNaN(a)||null==a)&&(a="-"),aaE(d+" : "+a)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}});Uq({type:"themeRiver",init:function(){this._layers=[]},render:function(r){function k(a){return a.name}function d(P,H,E){var K=this._layers;if("remove"===P){return void p.remove(K[H])}for(var D,L=[],Q=[],O=b[H].indices,G=0;G<O.length;G++){var N=g.getItemLayout(O[G]),J=N.x,C=N.y0,o=N.y;L.push([J,C]),Q.push([J,C+o]),D=g.getItemVisual(O[G],"color")}var z,U,B=g.getItemLayout(O[0]),R=g.getItemModel(O[G-1]),c=R.getModel("label"),i=c.get("margin");if("add"===P){var t=m[H]=new jG;z=new af9({shape:{points:L,stackedOnPoints:Q,smooth:0.4,stackedOnSmooth:0.4,smoothConstraint:!1},z2:0}),U=new ab3({style:{x:B.x-i,y:B.y0+B.y/2}}),t.add(z),t.add(U),p.add(t),z.setClipPath(cX(z.getBoundingRect(),r,function(){z.removeClipPath()}))}else{var t=K[E];z=t.childAt(0),U=t.childAt(1),p.add(t),m[H]=t,q5(z,{shape:{points:L,stackedOnPoints:Q}},r),q5(U,{style:{x:B.x-i,y:B.y0+B.y/2}},r)}var a=R.getModel("emphasis.itemStyle"),F=R.getModel("itemStyle");lG(U.style,c,{text:c.get("show")?r.getFormattedLabel(O[G-1],"normal")||g.getName(O[G-1]):null,textVerticalAlign:"middle"}),z.setStyle(aip({fill:D},F.getItemStyle(["color"]))),aQ(z,a.getItemStyle())}var g=r.getData(),p=this.group,b=r.getLayerSeries(),v=g.getLayout("layoutInfo"),f=v.rect,q=v.boundaryGap;p.attr("position",[0,f.y+q[0]]);var j=new aaA(this._layersSeries||[],b,k,k),m={};j.add(aic(d,this,"add")).update(aic(d,this,"update")).remove(aic(d,this,"remove")).execute(),this._layersSeries=b,this._layers=m},dispose:function(){}});var tY=function(a){a.eachSeriesByType("themeRiver",function(k){var h=k.getData(),d=k.coordinateSystem,g={},j=d.getRect();g.rect=j;var c=k.get("boundaryGap"),b=d.getAxis();if(g.boundaryGap=c,"horizontal"===b.orient){c[0]=wX(c[0],j.height),c[1]=wX(c[1],j.height);var m=j.height-c[0]-c[1];ad8(h,k,m)}else{c[0]=wX(c[0],j.width),c[1]=wX(c[1],j.width);var f=j.width-c[0]-c[1];ad8(h,k,f)}h.setLayout("layoutInfo",g)})},KU=function(a){a.eachSeriesByType("themeRiver",function(d){var f=d.getData(),g=d.getRawData(),c=d.get("color"),b=aj6();f.each(function(e){b.set(f.getRawIndex(e),e)}),g.each(function(j){var i=g.getName(j),h=c[(d.nameMap.get(i)-1)%c.length];g.setItemVisual(j,"color",h);var e=b.get(j);null!=e&&f.setItemVisual(e,"color",h)})})};abL(tY),aeK(KU),MU(lX("themeRiver"));var iK=xH.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(a){return a.stack=null,iK.superApply(this,"getInitialData",arguments)}}),DU=["itemStyle","borderWidth"],E5=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],g7=new aah;Uq({type:"pictorialBar",render:function(q,k,d){var g=this.group,m=q.getData(),c=this._data,b=q.coordinateSystem,v=b.getBaseAxis(),f=!!v.isHorizontal(),p=b.grid.getRect(),j={ecSize:{width:d.getWidth(),height:d.getHeight()},seriesModel:q,coordSys:b,coordSysExtent:[[p.x,p.x+p.width],[p.y,p.y+p.height]],isHorizontal:f,valueDim:E5[+f],categoryDim:E5[1-f]};return m.diff(c).add(function(a){if(m.hasValue(a)){var h=Yt(m,a),l=ZY(m,a,h,j),i=afe(m,j,l);m.setItemGraphicEl(a,i),g.add(i),aci(i,j,l)}}).update(function(h,u){var w=c.getItemGraphicEl(u);if(!m.hasValue(h)){return void g.remove(w)}var o=Yt(m,h),i=ZY(m,h,o,j),a=agq(m,i);w&&a!==w.__pictorialShapeStr&&(g.remove(w),m.setItemGraphicEl(h,null),w=null),w?aig(w,j,i):w=afe(m,j,i,!0),m.setItemGraphicEl(h,w),w.__pictorialSymbolMeta=i,g.add(w),aci(w,j,i)}).remove(function(a){var h=c.getItemGraphicEl(a);h&&ahC(c,a,h.__pictorialSymbolMeta.animationModel,h)}).execute(),this._data=m,this.group},dispose:ajU,remove:function(a){var b=this.group,c=this._data;a.get("animation")?c&&c.eachItemGraphicEl(function(d){ahC(c,d.dataIndex,a,d)}):b.removeAll()}});abL(aie(ab4,"pictorialBar")),aeK(ajO("pictorialBar","roundRect"));var Cj=function(a){var b=a.grid.getRect();return{coordSys:{type:"cartesian2d",x:b.x,y:b.y,width:b.width,height:b.height},api:{coord:function(c){return a.dataToPoint(c)},size:aic(OJ,a)}}},c3=function(a){var b=a.getBoundingRect();return{coordSys:{type:"geo",x:b.x,y:b.y,width:b.width,height:b.height,zoom:a.getZoom()},api:{coord:function(c){return a.dataToPoint(c)},size:aic(P2,a)}}},fX=function(a){var b=a.getRect();return{coordSys:{type:"singleAxis",x:b.x,y:b.y,width:b.width,height:b.height},api:{coord:function(c){return a.dataToPoint(c)},size:aic(aq,a)}}},eB=function(b){var c=b.getRadiusAxis(),d=b.getAngleAxis(),a=c.getExtent();return a[0]>a[1]&&a.reverse(),{coordSys:{type:"polar",cx:b.cx,cy:b.cy,r:a[1],r0:a[0]},api:{coord:aic(function(f){var e=c.dataToRadius(f[0]),h=d.dataToAngle(f[1]),g=b.coordToPoint([e,h]);return g.push(e,h*Math.PI/180),g}),size:aic(Rt,b)}}},aeP=function(a){var b=a.getRect(),c=a.getRangeInfo();return{coordSys:{type:"calendar",x:b.x,y:b.y,width:b.width,height:b.height,cellWidth:a.getCellWidth(),cellHeight:a.getCellHeight(),rangeInfo:{start:c.start,end:c.end,weeks:c.weeks,dayCount:c.allDay}},api:{coord:function(d,f){return a.dataToPoint(d,f)}}}},j2=["itemStyle"],aaF=["emphasis","itemStyle"],x5=["label"],M8=["emphasis","label"],zG="e\x00\x00",pQ={cartesian2d:Cj,geo:c3,singleAxis:fX,polar:eB,calendar:aeP};fQ.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0},getInitialData:function(){return r8(this.getSource(),this)},getDataParams:function(b,c,d){var a=fQ.prototype.getDataParams.apply(this,arguments);return d&&(a.info=d.info),a}}),B7.extend({type:"custom",_data:null,render:function(d,h,k,c){var b=this._data,j=d.getData(),g=this.group,f=y6(d,j,h,k);j.diff(b).add(function(a){Kt(null,a,f(a,c),d,g,j)}).update(function(i,m){var a=b.getItemGraphicEl(m);Kt(a,i,f(i,c),d,g,j)}).remove(function(a){var i=b.getItemGraphicEl(a);i&&g.remove(i)}).execute(),this._data=j},incrementalPrepareRender:function(){this.group.removeAll(),this._data=null},incrementalRender:function(m,h,d,g,j){function c(a){a.isGroup||(a.incremental=!0,a.useHoverLayer=!0)}for(var b=h.getData(),p=y6(h,b,d,g),f=m.start;f<m.end;f++){var k=Kt(null,f,p(f,j),h,this.group,b);k.traverse(c)}},dispose:ajU,filterForExposedEvent:function(b,c,d){var a=c.element;if(null==a||d.name===a){return !0}for(;(d=d.parent)&&d!==this.group;){if(d.name===a){return !0}}return !1}}),Dq.prototype={constructor:Dq,pointToData:function(a,b){return this.polar.pointToData(a,b)["radius"===this.dim?0:1]},dataToRadius:ado.prototype.dataToCoord,radiusToData:ado.prototype.coordToData},aiP(Dq,ado);var VH=aeq();fF.prototype={constructor:fF,pointToData:function(a,b){return this.polar.pointToData(a,b)["radius"===this.dim?0:1]},dataToAngle:ado.prototype.dataToCoord,angleToData:ado.prototype.coordToData,calculateCategoryInterval:function(){var C=this,x=C.getLabelModel(),k=C.scale,q=k.getExtent(),A=k.count();if(q[1]-q[0]<1){return 0}var j=q[0],b=C.dataToCoord(j+1)-C.dataToCoord(j),D=Math.abs(b),m=N2(j,x.getFont(),"center","top"),B=Math.max(m.height,7),v=B/D;isNaN(v)&&(v=1/0);var z=Math.max(0,Math.floor(v)),y=VH(C.model),w=y.lastAutoInterval,g=y.lastTickCount;return null!=w&&null!=g&&Math.abs(w-z)<=1&&Math.abs(g-A)<=1&&w>z?z=w:(y.lastTickCount=A,y.lastAutoInterval=z),z}},aiP(fF,ado);var ag0=function(a){this.name=a||"",this.cx=0,this.cy=0,this._radiusAxis=new Dq,this._angleAxis=new fF,this._radiusAxis.polar=this._angleAxis.polar=this};ag0.prototype={type:"polar",axisPointerEnabled:!0,constructor:ag0,dimensions:["radius","angle"],model:null,containPoint:function(a){var b=this.pointToCoord(a);return this._radiusAxis.contain(b[0])&&this._angleAxis.contain(b[1])},containData:function(a){return this._radiusAxis.containData(a[0])&&this._angleAxis.containData(a[1])},getAxis:function(a){return this["_"+a+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(b){var c=[],d=this._angleAxis,a=this._radiusAxis;return d.scale.type===b&&c.push(d),a.scale.type===b&&c.push(a),c},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(a){var b=this._angleAxis;return a===b?this._radiusAxis:b},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(a){var b=null!=a&&"auto"!==a?this.getAxis(a):this.getBaseAxis();return{baseAxes:[b],otherAxes:[this.getOtherAxis(b)]}},dataToPoint:function(a,b){return this.coordToPoint([this._radiusAxis.dataToRadius(a[0],b),this._angleAxis.dataToAngle(a[1],b)])},pointToData:function(a,b){var c=this.pointToCoord(a);return[this._radiusAxis.radiusToData(c[0],b),this._angleAxis.angleToData(c[1],b)]},pointToCoord:function(m){var h=m[0]-this.cx,d=m[1]-this.cy,g=this.getAngleAxis(),j=g.getExtent(),c=Math.min(j[0],j[1]),b=Math.max(j[0],j[1]);g.inverse?c=b-360:b=c+360;var p=Math.sqrt(h*h+d*d);h/=p,d/=p;for(var f=Math.atan2(-d,h)/Math.PI*180,k=c>f?1:-1;c>f||f>b;){f+=360*k}return[p,f]},coordToPoint:function(d){var f=d[0],g=d[1]/180*Math.PI,c=Math.cos(g)*f+this.cx,b=-Math.sin(g)*f+this.cy;return[c,b]}};var abG=akQ.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});ai5(abG.prototype,ah6);var aeF={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};BV("angle",abG,AH,aeF.angle),BV("radius",abG,AH,aeF.radius),YH({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(a){var b,c=this.ecModel;return c.eachComponent(a,function(d){d.getCoordSysModel()===this&&(b=d)},this),b},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});var ake={dimensions:ag0.prototype.dimensions,create:function(a,b){var c=[];return a.eachComponent("polar",function(g,f){var e=new ag0(f);e.update=d4;var k=e.getRadiusAxis(),j=e.getAngleAxis(),h=g.findAxisModel("radiusAxis"),d=g.findAxisModel("angleAxis");cU(k,h),cU(j,d),bW(e,g,b),c.push(e),g.coordinateSystem=e,e.model=g}),a.eachSeries(function(d){if("polar"===d.get("coordinateSystem")){var f=a.queryComponents({mainType:"polar",index:d.get("polarIndex"),id:d.get("polarId")})[0];d.coordinateSystem=f.coordinateSystem}}),c}};VX.register("polar",ake);var aa5=["axisLine","axisLabel","axisTick","splitLine","splitArea"];C5.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(c){if(this.group.removeAll(),c.get("show")){var f=c.axis,h=f.polar,b=h.getRadiusAxis().getExtent(),g=f.getTicksCoords(),d=aiu(f.getViewLabels(),function(a){var a=aiO(a);return a.coord=f.dataToCoord(a.tickValue),a});ZV(d),ZV(g),aiT(aa5,function(a){!c.get(a+".show")||f.scale.isBlank()&&"axisLine"!==a||this["_"+a](c,h,g,b,d)},this)}},_axisLine:function(d,f,h,c){var b=d.getModel("axisLine.lineStyle"),g=new aah({shape:{cx:f.cx,cy:f.cy,r:c[h9(f)]},style:b.getLineStyle(),z2:1,silent:!0});g.style.fill=null,this.group.add(g)},_axisTick:function(f,h,k,d){var c=f.getModel("axisTick"),j=(c.get("inside")?-1:1)*c.get("length"),g=d[h9(h)],b=aiu(k,function(a){return new adf({shape:ad5(h,[g,g+j],a.coord)})});this.group.add(JX(b,{style:ain(c.getModel("lineStyle").getLineStyle(),{stroke:f.get("axisLine.lineStyle.color")})}))},_axisLabel:function(d,h,k,c,b){var j=d.getCategories(!0),g=d.getModel("axisLabel"),f=g.get("margin");aiT(b,function(i){var v=g,m=i.tickValue,w=c[h9(h)],o=h.coordToPoint([w+f,i.coord]),t=h.cx,s=h.cy,r=Math.abs(o[0]-t)/w<0.3?"center":o[0]>t?"left":"right",e=Math.abs(o[1]-s)/w<0.3?"middle":o[1]>s?"top":"bottom";j&&j[m]&&j[m].textStyle&&(v=new f0(j[m].textStyle,g,g.ecModel));var q=new ab3({silent:!0});this.group.add(q),lG(q.style,v,{x:o[0],y:o[1],textFill:v.getTextColor()||d.get("axisLine.lineStyle.color"),text:i.formattedLabel,textAlign:r,textVerticalAlign:e})},this)},_splitLine:function(v,m,f,j){var q=v.getModel("splitLine"),d=q.getModel("lineStyle"),b=d.get("color"),g=0;b=b instanceof Array?b:[b];for(var s=[],k=0;k<f.length;k++){var p=g++%b.length;s[p]=s[p]||[],s[p].push(new adf({shape:ad5(m,j,f[k].coord)}))}for(var k=0;k<s.length;k++){this.group.add(JX(s[k],{style:ain({stroke:b[k%b.length]},d.getLineStyle()),silent:!0,z:v.get("z")}))}},_splitArea:function(F,A,q,w){if(q.length){var D=F.getModel("splitArea"),k=D.getModel("areaStyle"),b=k.get("color"),v=0;b=b instanceof Array?b:[b];for(var E=[],x=Math.PI/180,C=-q[0].coord*x,B=Math.min(w[0],w[1]),z=Math.max(w[0],w[1]),j=F.get("clockwise"),y=1;y<q.length;y++){var s=v++%b.length;E[s]=E[s]||[],E[s].push(new WB({shape:{cx:A.cx,cy:A.cy,r0:B,r:z,startAngle:C,endAngle:-q[y].coord*x,clockwise:j},silent:!0})),C=-q[y].coord*x}for(var y=0;y<E.length;y++){this.group.add(JX(E[y],{style:ain({fill:b[y%b.length]},k.getAreaStyle()),silent:!0}))}}}});var Yq=["axisLine","axisTickLabel","axisName"],W1=["splitLine","splitArea"];C5.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(k){if(this.group.removeAll(),k.get("show")){var h=k.axis,d=h.polar,g=d.getAngleAxis(),j=h.getTicksCoords(),c=g.getExtent()[0],b=h.getExtent(),m=wq(d,k,c),f=new LH(k,m);aiT(Yq,f.add,f),this.group.add(f.getGroup()),aiT(W1,function(a){k.get(a+".show")&&!h.scale.isBlank()&&this["_"+a](k,d,c,b,j)},this)}},_splitLine:function(x,p,g,k,v){var f=x.getModel("splitLine"),b=f.getModel("lineStyle"),j=b.get("color"),w=0;j=j instanceof Array?j:[j];for(var m=[],s=0;s<v.length;s++){var q=w++%j.length;m[q]=m[q]||[],m[q].push(new aah({shape:{cx:p.cx,cy:p.cy,r:v[s].coord},silent:!0}))}for(var s=0;s<m.length;s++){this.group.add(JX(m[s],{style:ain({stroke:j[s%j.length],fill:null},b.getLineStyle()),silent:!0}))}},_splitArea:function(z,s,j,m,x){if(x.length){var g=z.getModel("splitArea"),b=g.getModel("areaStyle"),k=b.get("color"),y=0;k=k instanceof Array?k:[k];for(var p=[],w=x[0].coord,v=1;v<x.length;v++){var q=y++%k.length;p[q]=p[q]||[],p[q].push(new WB({shape:{cx:s.cx,cy:s.cy,r0:w,r:x[v].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),w=x[v].coord}for(var v=0;v<p.length;v++){this.group.add(JX(p[v],{style:ain({fill:k[v%k.length]},b.getAreaStyle()),silent:!0}))}}}});var acS=KG.extend({makeElOption:function(C,x,k,q,A){var j=k.axis;"angle"===j.dim&&(this.animationThreshold=Math.PI/18);var b,D=j.polar,m=D.getOtherAxis(j),B=m.getExtent();b=j["dataTo"+aJ(j.dim)](x);var v=q.get("type");if(v&&"none"!==v){var z=qW(q),y=T6[v](j,D,b,B,z);y.style=z,C.graphicKey=y.type,C.pointer=y}var w=q.get("label.margin"),g=L9(x,k,q,D,w);mJ(C,k,q,A,g)}}),T6={line:function(b,c,d,a){return"angle"===b.dim?{type:"Line",shape:g1(c.coordToPoint([a[0],d]),c.coordToPoint([a[1],d]))}:{type:"Circle",shape:{cx:c.cx,cy:c.cy,r:d}}},shadow:function(d,f,h,c){var b=Math.max(1,d.getBandWidth()),g=Math.PI/180;return"angle"===d.dim?{type:"Sector",shape:DF(f.cx,f.cy,c[0],c[1],(-h-b/2)*g,(-h+b/2)*g)}:{type:"Sector",shape:DF(f.cx,f.cy,h-b/2,h+b/2,0,2*Math.PI)}}};C5.registerAxisPointerClass("PolarAxisPointer",acS),abL(aie(gY,"bar")),W6({type:"polar"});var afd=akQ.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(a){akQ.prototype.init.apply(this,arguments),JW(a,"label",["show"])},optionUpdated:function(){var a=this.option,b=this;a.regions=QB.getFilledRegions(a.regions,a.map,a.nameMap),this._optionModelMap=aiQ(a.regions||[],function(c,d){return d.name&&c.set(d.name,new f0(d,b)),c},aj6()),this.updateSelectedMap(a.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:0.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(a){return this._optionModelMap.get(a)||new f0(null,this,this.ecModel)},getFormattedLabel:function(d,f){var g=this.getRegionModel(d),c=g.get("label."+f+".formatter"),b={name:d};return"function"==typeof c?(b.status=f,c(b)):"string"==typeof c?c.replace("{a}",null!=d?d:""):void 0},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a}});aiZ(afd,U0),W6({type:"geo",init:function(a,b){var c=new Jt(b,!0);this._mapDraw=c,this.group.add(c.group)},render:function(d,f,g,c){if(!c||"geoToggleSelect"!==c.type||c.from!==this.uid){var b=this._mapDraw;d.get("show")?b.draw(d,f,g,this,c):this._mapDraw.group.removeAll(),this.group.silent=d.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}}),xW("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),xW("select",{type:"geoSelect",event:"geoselected"}),xW("unSelect",{type:"geoUnSelect",event:"geounselected"});var aid=86400000;nZ.prototype={constructor:nZ,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(d){d=abe(d);var f=d.getFullYear(),g=d.getMonth()+1;g=10>g?"0"+g:g;var c=d.getDate();c=10>c?"0"+c:c;var b=d.getDay();return b=Math.abs((b+7-this.getFirstDayOfWeek())%7),{y:f,m:g,d:c,day:b,time:d.getTime(),formatedDate:f+"-"+g+"-"+c,date:d}},getNextNDay:function(a,b){return b=b||0,0===b?this.getDateInfo(a):(a=new Date(this.getDateInfo(a).time),a.setDate(a.getDate()+b),this.getDateInfo(a))},update:function(m,h){function d(a,i){return null!=a[i]&&"auto"!==a[i]}this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var g=this._rangeInfo.weeks||1,j=["width","height"],c=this._model.get("cellSize").slice(),b=this._model.getBoxLayoutParams(),p="horizontal"===this._orient?[g,7]:[7,g];aiT([0,1],function(a){d(c,a)&&(b[j[a]]=c[a]*p[a])});var f={width:h.getWidth(),height:h.getHeight()},k=this._rect=lq(b,f);aiT([0,1],function(a){d(c,a)||(c[a]=k[j[a]]/p[a])}),this._sw=c[0],this._sh=c[1]},dataToPoint:function(d,g){ai9(d)&&(d=d[0]),null==g&&(g=!0);var j=this.getDateInfo(d),c=this._rangeInfo,b=j.formatedDate;if(g&&!(j.time>=c.start.time&&j.time<c.end.time+aid)){return[0/0,0/0]}var h=j.day,f=this._getRangeInfo([c.start.time,b]).nthWeek;return"vertical"===this._orient?[this._rect.x+h*this._sw+this._sw/2,this._rect.y+f*this._sh+this._sh/2]:[this._rect.x+f*this._sw+this._sw/2,this._rect.y+h*this._sh+this._sh/2]},pointToData:function(a){var b=this.pointToDate(a);return b&&b.time},dataToRect:function(a,b){var c=this.dataToPoint(a,b);return{contentShape:{x:c[0]-(this._sw-this._lineWidth)/2,y:c[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:c,tl:[c[0]-this._sw/2,c[1]-this._sh/2],tr:[c[0]+this._sw/2,c[1]-this._sh/2],br:[c[0]+this._sw/2,c[1]+this._sh/2],bl:[c[0]-this._sw/2,c[1]+this._sh/2]}},pointToDate:function(b){var c=Math.floor((b[0]-this._rect.x)/this._sw)+1,d=Math.floor((b[1]-this._rect.y)/this._sh)+1,a=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(d,c-1,a):this._getDateByWeeksAndDay(c,d-1,a)},convertToPixel:aie(VK,"dataToPoint"),convertFromPixel:aie(VK,"pointToData"),_initRangeOption:function(){var d=this._model.get("range"),f=d;if(ai9(f)&&1===f.length&&(f=f[0]),/^\d{4}$/.test(f)&&(d=[f+"-01-01",f+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(f)){var h=this.getDateInfo(f),c=h.date;c.setMonth(c.getMonth()+1);var b=this.getNextNDay(c,-1);d=[h.formatedDate,b.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(f)&&(d=[f,f]);var g=this._getRangeInfo(d);return g.start.time>g.end.time&&d.reverse(),d},_getRangeInfo:function(k){k=[this.getDateInfo(k[0]),this.getDateInfo(k[1])];var h;k[0].time>k[1].time&&(h=!0,k.reverse());var d=Math.floor(k[1].time/aid)-Math.floor(k[0].time/aid)+1,g=new Date(k[0].time),j=g.getDate(),c=k[1].date.getDate();if(g.setDate(j+d-1),g.getDate()!==c){for(var b=g.getTime()-k[1].time>0?1:-1;g.getDate()!==c&&(g.getTime()-k[1].time)*b>0;){d-=b,g.setDate(j+d-1)}}var m=Math.floor((d+k[0].day+6)/7),f=h?-m+1:m-1;return h&&k.reverse(),{range:[k[0].formatedDate,k[1].formatedDate],start:k[0],end:k[1],allDay:d,weeks:m,nthWeek:f,fweek:k[0].day,lweek:k[1].day}},_getDateByWeeksAndDay:function(d,f,h){var c=this._getRangeInfo(h);if(d>c.weeks||0===d&&f<c.fweek||d===c.weeks&&f>c.lweek){return !1}var b=7*(d-1)-c.fweek+f,g=new Date(c.start.time);return g.setDate(c.start.d+b),this.getDateInfo(g)}},nZ.dimensions=nZ.prototype.dimensions,nZ.getDimensionsInfo=nZ.prototype.getDimensionsInfo,nZ.create=function(a,b){var c=[];return a.eachComponent("calendar",function(e){var d=new nZ(e,a,b);c.push(d),e.coordinateSystem=d}),a.eachSeries(function(d){"calendar"===d.get("coordinateSystem")&&(d.coordinateSystem=c[d.get("calendarIndex")||0])}),c},VX.register("calendar",nZ);var ahB=akQ.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(a){var b=KQ(a);ahB.superApply(this,"init",arguments),ag2(a,b)},mergeOption:function(a){ahB.superApply(this,"mergeOption",arguments),ag2(this.option,a)}}),agp={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},aav={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]};W6({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(d){var f=this.group;f.removeAll();var g=d.coordinateSystem,c=g.getRangeInfo(),b=g.getOrient();this._renderDayRect(d,c,f),this._renderLines(d,c,b,f),this._renderYearText(d,c,b,f),this._renderMonthText(d,b,f),this._renderWeekText(d,c,b,f)},_renderDayRect:function(m,h,d){for(var g=m.coordinateSystem,j=m.getModel("itemStyle").getItemStyle(),c=g.getCellWidth(),b=g.getCellHeight(),p=h.start.time;p<=h.end.time;p=g.getNextNDay(p,1).time){var f=g.dataToRect([p],!1).tl,k=new agM({shape:{x:f[0],y:f[1],width:c,height:b},cursor:"default",style:j});d.add(k)}},_renderLines:function(y,p,g,k){function w(d){f._firstDayOfMonth.push(b.getDateInfo(d)),f._firstDayPoints.push(b.dataToRect([d],!1).tl);var c=f._getLinePointsOfOneWeek(y,d,g);f._tlpoints.push(c[0]),f._blpoints.push(c[c.length-1]),j&&f._drawSplitline(c,z,k)}var f=this,b=y.coordinateSystem,z=y.getModel("splitLine.lineStyle").getLineStyle(),j=y.get("splitLine.show"),x=z.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var m=p.start,v=0;m.time<=p.end.time;v++){w(m.formatedDate),0===v&&(m=b.getDateInfo(p.start.y+"-"+p.start.m));var q=m.date;q.setMonth(q.getMonth()+1),m=b.getDateInfo(q)}w(b.getNextNDay(p.end.time,1).formatedDate),j&&this._drawSplitline(f._getEdgesPoints(f._tlpoints,x,g),z,k),j&&this._drawSplitline(f._getEdgesPoints(f._blpoints,x,g),z,k)},_getEdgesPoints:function(d,f,g){var c=[d[0].slice(),d[d.length-1].slice()],b="horizontal"===g?0:1;return c[0][b]=c[0][b]-f/2,c[1][b]=c[1][b]+f/2,c},_drawSplitline:function(b,c,d){var a=new abs({z2:20,shape:{points:b},style:c});d.add(a)},_getLinePointsOfOneWeek:function(d,h,k){var c=d.coordinateSystem;h=c.getDateInfo(h);for(var b=[],j=0;7>j;j++){var g=c.getNextNDay(h.time,j),f=c.dataToRect([g.time],!1);b[2*g.day]=f.tl,b[2*g.day+1]=f["horizontal"===k?"bl":"tr"]}return b},_formatterLabel:function(a,b){return"string"==typeof a&&a?acq(a,b):"function"==typeof a?a(b):b.nameMap},_yearTextPositionControl:function(d,g,j,c,b){g=g.slice();var h=["center","bottom"];"bottom"===c?(g[1]+=b,h=["center","top"]):"left"===c?g[0]-=b:"right"===c?(g[0]+=b,h=["center","top"]):g[1]-=b;var f=0;return("left"===c||"right"===c)&&(f=Math.PI/2),{rotation:f,position:g,style:{textAlign:h[0],textVerticalAlign:h[1]}}},_renderYearText:function(G,B,q,x){var E=G.getModel("yearLabel");if(E.get("show")){var k=E.get("margin"),b=E.get("position");b||(b="horizontal"!==q?"top":"left");var H=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],w=(H[0][0]+H[1][0])/2,F=(H[0][1]+H[1][1])/2,y="horizontal"===q?0:1,D={top:[w,H[y][1]],bottom:[w,H[1-y][1]],left:[H[1-y][0],F],right:[H[y][0],F]},C=B.start.y;+B.end.y>+B.start.y&&(C=C+"-"+B.end.y);var A=E.get("formatter"),j={start:B.start.y,end:B.end.y,nameMap:C},z=this._formatterLabel(A,j),v=new ab3({z2:30});lG(v.style,E,{text:z}),v.attr(this._yearTextPositionControl(v,D[b],q,b,k)),x.add(v)}},_monthTextPositionControl:function(k,h,d,g,j){var c="left",b="top",m=k[0],f=k[1];return"horizontal"===d?(f+=j,h&&(c="center"),"start"===g&&(b="bottom")):(m+=j,h&&(b="middle"),"start"===g&&(c="right")),{x:m,y:f,textAlign:c,textVerticalAlign:b}},_renderMonthText:function(z,K,D){var G=z.getModel("monthLabel");if(G.get("show")){var N=G.get("nameMap"),C=G.get("margin"),A=G.get("position"),F=G.get("align"),r=[this._tlpoints,this._blpoints];ai2(N)&&(N=agp[N.toUpperCase()]||[]);var H="start"===A?0:1,M="horizontal"===K?0:1;C="start"===A?-C:C;for(var L="center"===F,J=0;J<r[H].length-1;J++){var B=r[H][J].slice(),I=this._firstDayOfMonth[J];if(L){var E=this._firstDayPoints[J];B[M]=(E[M]+r[0][J+1][M])/2}var q=G.get("formatter"),b=N[+I.m-1],j={yyyy:I.y,yy:(I.y+"").slice(2),MM:I.m,M:+I.m,nameMap:b},O=this._formatterLabel(q,j),k=new ab3({z2:30});aip(lG(k.style,G,{text:O}),this._monthTextPositionControl(B,L,K,A,C)),D.add(k)}}},_weekTextPositionControl:function(m,h,d,g,j){var c="center",b="middle",p=m[0],f=m[1],k="start"===d;return"horizontal"===h?(p=p+g+(k?1:-1)*j[0]/2,c=k?"right":"left"):(f=f+g+(k?1:-1)*j[1]/2,b=k?"bottom":"top"),{x:p,y:f,textAlign:c,textVerticalAlign:b}},_renderWeekText:function(G,A,k,w){var D=G.getModel("dayLabel");if(D.get("show")){var j=G.coordinateSystem,H=D.get("position"),r=D.get("nameMap"),F=D.get("margin"),x=j.getFirstDayOfWeek();ai2(r)&&(r=aav[r.toUpperCase()]||[]);var C=j.getNextNDay(A.end.time,7-A.lweek).time,B=[j.getCellWidth(),j.getCellHeight()];F=wX(F,B["horizontal"===k?0:1]),"start"===H&&(C=j.getNextNDay(A.start.time,-(7+A.fweek)).time,F=-F);for(var z=0;7>z;z++){var b=j.getNextNDay(C,z),y=j.dataToRect([b.time],!1).center,q=z;q=Math.abs((z+x)%7);var E=new ab3({z2:30});aip(lG(E.style,D,{text:r[q]}),this._weekTextPositionControl(y,k,H,F,B)),w.add(E)}}}}),YH({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),W6({type:"title",render:function(A,M,F){if(this.group.removeAll(),A.get("show")){var I=this.group,P=A.getModel("textStyle"),E=A.getModel("subtextStyle"),C=A.get("textAlign"),B=A.get("textBaseline"),H=new ab3({style:lG({},P,{text:A.get("text"),textFill:P.getTextColor()},{disableBox:!0}),z2:10}),z=H.getBoundingRect(),J=A.get("subtext"),O=new ab3({style:lG({},E,{text:J,textFill:E.getTextColor(),y:z.height+A.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),N=A.get("link"),L=A.get("sublink"),D=A.get("triggerEvent",!0);H.silent=!N&&!D,O.silent=!L&&!D,N&&H.on("click",function(){window.open(N,"_"+A.get("target"))}),L&&O.on("click",function(){window.open(L,"_"+A.get("subtarget"))}),H.eventData=O.eventData=D?{componentType:"title",componentIndex:A.componentIndex}:null,I.add(H),J&&I.add(O);var K=I.getBoundingRect(),G=A.getBoxLayoutParams();G.width=K.width,G.height=K.height;var q=lq(G,{width:F.getWidth(),height:F.getHeight()},A.get("padding"));C||(C=A.get("left")||A.get("right"),"middle"===C&&(C="center"),"right"===C?q.x+=q.width:"center"===C&&(q.x+=q.width/2)),B||(B=A.get("top")||A.get("bottom"),"center"===B&&(B="middle"),"bottom"===B?q.y+=q.height:"middle"===B&&(q.y+=q.height/2),B=B||"top"),I.attr("position",[q.x,q.y]);var b={textAlign:C,textVerticalAlign:B};H.setStyle(b),O.setStyle(b),K=I.getBoundingRect();var j=q.margin,Q=A.getItemStyle(["color","opacity"]);Q.fill=A.get("backgroundColor");var k=new agM({shape:{x:K.x-j[3],y:K.y-j[0],width:K.width+j[1]+j[3],height:K.height+j[0]+j[2],r:A.get("borderRadius")},style:Q,silent:!0});aeS(k),I.add(k)}}});var afO=YH({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(a,b,c){this.mergeDefaultAndTheme(a,c),a.selected=a.selected||{}},mergeOption:function(a){afO.superCall(this,"mergeOption",a)},optionUpdated:function(){this._updateData(this.ecModel);var b=this._data;if(b[0]&&"single"===this.get("selectedMode")){for(var c=!1,d=0;d<b.length;d++){var a=b[d].get("name");if(this.isSelected(a)){this.select(a),c=!0;break}}!c&&this.select(b[0].get("name"))}},_updateData:function(d){var f=[],g=[];d.eachRawSeries(function(h){var e=h.name;g.push(e);var l;if(h.legendDataProvider){var k=h.legendDataProvider(),j=k.mapArray(k.getName);d.isSeriesFiltered(h)||(g=g.concat(j)),j.length?f=f.concat(j):l=!0}else{l=!0}l&&Bq(h)&&f.push(h.name)}),this._availableNames=g;var c=this.get("data")||f,b=aiu(c,function(a){return("string"==typeof a||"number"==typeof a)&&(a={name:a}),new f0(a,this,this.ecModel)},this);this._data=b},getData:function(){return this._data},select:function(b){var c=this.option.selected,d=this.get("selectedMode");if("single"===d){var a=this._data;aiT(a,function(e){c[e.get("name")]=!1})}c[b]=!0},unSelect:function(a){"single"!==this.get("selectedMode")&&(this.option.selected[a]=!1)},toggleSelected:function(a){var b=this.option.selected;b.hasOwnProperty(a)||(b[a]=!0),this[b[a]?"unSelect":"select"](a)},isSelected:function(a){var b=this.option.selected;return !(b.hasOwnProperty(a)&&!b[a])&&aij(this._availableNames,a)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});oJ("legendToggleSelect","legendselectchanged",aie(abI,"toggleSelected")),oJ("legendSelect","legendselected",aie(abI,"select")),oJ("legendUnSelect","legendunselected",aie(abI,"unSelect"));var ach=aie,SV=aiT,OH=jG,P1=W6({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new OH),this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(q,k,d){if(this.resetInner(),q.get("show",!0)){var g=q.get("align");g&&"auto"!==g||(g="right"===q.get("left")&&"vertical"===q.get("orient")?"right":"left"),this.renderInner(g,q,k,d);var m=q.getBoxLayoutParams(),c={width:d.getWidth(),height:d.getHeight()},b=q.get("padding"),f=lq(m,c,b),p=this.layoutInner(q,g,f),j=lq(ain({width:p.width,height:p.height},m),c,b);this.group.attr("position",[j.x-p.x,j.y-p.y]),this.group.add(this._backgroundEl=akg(p,q))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(d,h,k,c){var b=this.getContentGroup(),j=aj6(),g=h.get("selectedMode"),f=[];k.eachRawSeries(function(a){!a.get("legendHoverLink")&&f.push(a.id)}),SV(h.getData(),function(i,t){var n=i.get("name");if(!this.newlineDisabled&&(""===n||"\n"===n)){return void b.add(new OH({newline:!0}))}var s=k.getSeriesByName(n)[0];if(!j.get(n)){if(s){var r=s.getData(),q=r.getVisual("color");"function"==typeof q&&(q=q(s.getDataParams(0)));var a=r.getVisual("legendSymbol")||"roundRect",o=r.getVisual("symbol"),e=this._createItem(n,t,i,h,a,o,d,q,g);e.on("click",ach(aa7,n,c)).on("mouseover",ach(YB,s.name,null,c,f)).on("mouseout",ach(W3,s.name,null,c,f)),j.set(n,!0)}else{k.eachRawSeries(function(x){if(!j.get(n)&&x.legendDataProvider){var l=x.legendDataProvider(),w=l.indexOfName(n);if(0>w){return}var v=l.getItemVisual(w,"color"),m="roundRect",u=this._createItem(n,t,i,h,m,null,d,v,g);u.on("click",ach(aa7,n,c)).on("mouseover",ach(YB,null,n,c,f)).on("mouseout",ach(W3,null,n,c,f)),j.set(n,!0)}},this)}}},this)},_createItem:function(D,Q,H,L,V,G,E,K,C){var N=L.get("itemWidth"),T=L.get("itemHeight"),R=L.get("inactiveColor"),P=L.get("symbolKeepAspect"),F=L.isSelected(D),O=new OH,J=H.getModel("textStyle"),B=H.get("icon"),q=H.getModel("tooltip"),z=q.parentModel;if(V=B||V,O.add(TQ(V,0,0,N,T,F?K:R,null==P?!0:P)),!B&&G&&(G!==V||"none"===G)){var W=0.8*T;"none"===G&&(G="circle"),O.add(TQ(G,(N-W)/2,(T-W)/2,W,W,F?K:R,null==P?!0:P))}var A="left"===E?N+5:-5,U=E,j=L.get("formatter"),k=D;"string"==typeof j&&j?k=j.replace("{name}",null!=D?D:""):"function"==typeof j&&(k=j(D)),O.add(new ab3({style:lG({},J,{text:k,x:A,y:T/2,textFill:F?J.getTextColor():R,textAlign:U,textVerticalAlign:"middle"})}));var r=new agM({shape:O.getBoundingRect(),invisible:!0,tooltip:q.get("show")?aip({content:D,formatter:z.get("formatter",!0)||function(){return D},formatterParams:{componentType:"legend",legendIndex:L.componentIndex,name:D,$vars:["name"]}},q.option):null});return O.add(r),O.eachChild(function(a){a.silent=!0}),r.silent=!C,this.getContentGroup().add(O),aQ(O),O.__legendDataIndex=Q,O},layoutInner:function(d,f,g){var c=this.getContentGroup();ahH(d.get("orient"),c,d.get("itemGap"),g.width,g.height);var b=c.getBoundingRect();return c.attr("position",[-b.x,-b.y]),this.group.getBoundingRect()}}),aj=function(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.filterSeries(function(c){for(var d=0;d<b.length;d++){if(!b[d].isSelected(c.name)){return !1}}return !0})};MU(aj),akQ.registerSubTypeDefaulter("legend",function(){return"plain"});var Rq=afO.extend({type:"legend.scroll",setScrollDataIndex:function(a){this.option.scrollDataIndex=a},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(d,f,g,c){var b=KQ(d);Rq.superCall(this,"init",d,f,g,c),acU(this,d,b)},mergeOption:function(a,b){Rq.superCall(this,"mergeOption",a,b),acU(this,this.option,a)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}}),aje=jG,k2=["width","height"],tF=["x","y"],y5=P1.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){y5.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new aje),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new aje),this._showController},resetInner:function(){y5.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(k,h,d,g){function j(o,p){var i=o+"DataIndex",e=DX(h.get("pageIcons",!0)[h.getOrient().name][p],{onclick:aic(c._pageGo,c,i,h,g)},{x:-m[0]/2,y:-m[1]/2,width:m[0],height:m[1]});e.name=o,b.add(e)}var c=this;y5.superCall(this,"renderInner",k,h,d,g);var b=this._controllerGroup,m=h.get("pageIconSize",!0);ai9(m)||(m=[m,m]),j("pagePrev",0);var f=h.getModel("pageTextStyle");b.add(new ab3({name:"pageText",style:{textFill:f.getTextColor(),font:f.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),j("pageNext",1)},layoutInner:function(w,K,D){var G=this.getContentGroup(),N=this._containerGroup,C=this._controllerGroup,A=w.getOrient().index,z=k2[A],F=k2[1-A],q=tF[1-A];ahH(w.get("orient"),G,w.get("itemGap"),A?D.width:null,A?null:D.height),ahH("horizontal",C,w.get("pageButtonItemGap",!0));var H=G.getBoundingRect(),M=C.getBoundingRect(),L=this._showController=H[z]>D[z],J=[-H.x,-H.y];J[A]=G.position[A];var B=[0,0],I=[-M.x,-M.y],E=aj3(w.get("pageButtonGap",!0),w.get("itemGap",!0));if(L){var k=w.get("pageButtonPosition",!0);"end"===k?I[A]+=D[z]-M[z]:B[A]+=M[z]+E}I[1-A]+=H[F]/2-M[F]/2,G.attr("position",J),N.attr("position",B),C.attr("position",I);var b=this.group.getBoundingRect(),b={x:0,y:0};if(b[z]=L?D[z]:H[z],b[F]=Math.max(H[F],M[F]),b[q]=Math.min(0,M[q]+I[1-A]),N.__rectSize=D[z],L){var j={x:0,y:0};j[z]=Math.max(D[z]-M[z]-E,0),j[F]=b[F],N.setClipPath(new agM({shape:j})),N.__rectSize=j[z]}else{C.eachChild(function(a){a.attr({invisible:!0,silent:!0})})}var O=this._getPageInfo(w);return null!=O.pageIndex&&q5(G,{position:O.contentPosition},L?w:!1),this._updatePageInfoView(w,O),b},_pageGo:function(b,c,d){var a=this._getPageInfo(c)[b];null!=a&&d.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:c.id})},_updatePageInfoView:function(d,h){var k=this._controllerGroup;aiT(["pagePrev","pageNext"],function(l){var e=null!=h[l+"DataIndex"],m=k.childOfName(l);m&&(m.setStyle("fill",e?d.get("pageIconColor",!0):d.get("pageIconInactiveColor",!0)),m.cursor=e?"pointer":"default")});var c=k.childOfName("pageText"),b=d.get("pageFormatter"),j=h.pageIndex,g=null!=j?j+1:0,f=h.pageCount;c&&b&&c.setStyle("text",ai2(b)?b.replace("{current}",g).replace("{total}",f):b({current:g,total:f}))},_getPageInfo:function(B){function N(a){var b=a.getBoundingRect().clone();return b[M]+=a.position[K],b}var G,J,R,F,D=B.get("scrollDataIndex",!0),C=this.getContentGroup(),I=C.getBoundingRect(),A=this._containerGroup.__rectSize,K=B.getOrient().index,P=k2[K],O=k2[1-K],M=tF[K],E=C.position.slice();this._showController?C.eachChild(function(a){a.__legendDataIndex===D&&(F=a)}):F=C.childAt(0);var L=A?Math.ceil(I[P]/A):0;if(F){var H=F.getBoundingRect(),z=F.position[K]+H[M];E[K]=-z-I[M],G=Math.floor(L*(z+H[M]+A/2)/I[P]),G=I[P]&&L?Math.max(0,Math.min(L-1,G)):-1;var j={x:0,y:0};j[P]=A,j[O]=I[O],j[M]=-E[K]-I[M];var k,S=C.children();if(C.eachChild(function(b,c){var a=N(b);a.intersect(j)&&(null==k&&(k=c),R=b.__legendDataIndex),c===S.length-1&&a[M]+a[P]<=j[M]+j[P]&&(R=null)}),null!=k){var q=S[k],Q=N(q);if(j[M]=Q[M]+Q[P]-j[P],0>=k&&Q[M]>=j[M]){J=null}else{for(;k>0&&N(S[k-1]).intersect(j);){k--}J=S[k].__legendDataIndex}}}return{contentPosition:E,pageIndex:G,pageCount:L,pagePrevDataIndex:J,pageNextDataIndex:R}}});oJ("legendScroll","legendscroll",function(a,b){var c=a.scrollDataIndex;null!=c&&b.eachComponent({mainType:"legend",subType:"scroll",query:a},function(d){d.setScrollDataIndex(c)})}),YH({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:0.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var jN=aiT,Kq=agy,F6=["","-webkit-","-moz-","-o-"],HJ="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";ahD.prototype={constructor:ahD,_enterable:!0,update:function(){var a=this._container,b=a.currentStyle||document.defaultView.getComputedStyle(a),c=a.style;"absolute"!==c.position&&"absolute"!==b.position&&(c.position="relative")},show:function(a){clearTimeout(this._hideTimeout);var b=this.el;b.style.cssText=HJ+aii(a)+";left:"+this._x+"px;top:"+this._y+"px;"+(a.get("extraCssText")||""),b.style.display=b.innerHTML?"block":"none",b.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(a){this.el.innerHTML=null==a?"":a},setEnterable:function(a){this._enterable=a},getSize:function(){var a=this.el;return[a.clientWidth,a.clientHeight]},moveTo:function(d,f){var g,c=this._zr;c&&c.painter&&(g=c.painter.getViewportRootOffset())&&(d+=g.offsetLeft,f+=g.offsetTop);var b=this.el.style;b.left=d+"px",b.top=f+"px",this._x=d,this._y=f},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(a){!this._show||this._inContent&&this._enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(aic(this.hide,this),a)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var a=this.el.clientWidth,b=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var c=document.defaultView.getComputedStyle(this.el);c&&(a+=parseInt(c.paddingLeft,10)+parseInt(c.paddingRight,10)+parseInt(c.borderLeftWidth,10)+parseInt(c.borderRightWidth,10),b+=parseInt(c.paddingTop,10)+parseInt(c.paddingBottom,10)+parseInt(c.borderTopWidth,10)+parseInt(c.borderBottomWidth,10))}return{width:a,height:b}}},agr.prototype={constructor:agr,_enterable:!0,update:function(){},show:function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(q,k,d){this.el&&this._zr.remove(this.el);for(var g={},m=q,c="{marker",b="|}",v=m.indexOf(c);v>=0;){var f=m.indexOf(b),p=m.substr(v+c.length,f-v-c.length);g["marker"+p]=p.indexOf("sub")>-1?{textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:k[p],textOffset:[3,0]}:{textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:k[p]},m=m.substr(f+1),v=m.indexOf("{marker")}this.el=new ab3({style:{rich:g,text:q,textLineHeight:20,textBackgroundColor:d.get("backgroundColor"),textBorderRadius:d.get("borderRadius"),textFill:d.get("textStyle.color"),textPadding:d.get("padding")},z:d.get("z")}),this._zr.add(this.el);var j=this;this.el.on("mouseover",function(){j._enterable&&(clearTimeout(j._hideTimeout),j._show=!0),j._inContent=!0}),this.el.on("mouseout",function(){j._enterable&&j._show&&j.hideLater(j._hideDelay),j._inContent=!1})},setEnterable:function(a){this._enterable=a},getSize:function(){var a=this.el.getBoundingRect();return[a.width,a.height]},moveTo:function(a,b){this.el&&this.el.attr("position",[a,b])},hide:function(){this.el.hide(),this._show=!1},hideLater:function(a){!this._show||this._inContent&&this._enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(aic(this.hide,this),a)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){return this.getSize()}};var uZ=aic,adt=aiT,o9=wX,qN=new agM({shape:{x:-1,y:-1,width:2,height:2}});W6({type:"tooltip",init:function(d,f){if(!B3.node){var g=d.getComponent("tooltip"),c=g.get("renderMode");this._renderMode=yH(c);var b;"html"===this._renderMode?(b=new ahD(f.getDom(),f),this._newLine="<br/>"):(b=new agr(f),this._newLine="\n"),this._tooltipContent=b}},render:function(b,c,d){if(!B3.node){this.group.removeAll(),this._tooltipModel=b,this._ecModel=c,this._api=d,this._lastDataByCoordSys=null,this._alwaysShowContent=b.get("alwaysShowContent");var a=this._tooltipContent;a.update(),a.setEnterable(b.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var a=this._tooltipModel,b=a.get("triggerOn");aF("itemTooltip",this._api,uZ(function(d,e,c){"none"!==b&&(b.indexOf(d)>=0?this._tryShow(e,c):"leave"===d&&this._hide(c))},this))},_keepShow:function(){var b=this._tooltipModel,c=this._ecModel,d=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==b.get("triggerOn")){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){a.manuallyShowTip(b,c,d,{x:a._lastX,y:a._lastY})})}},manuallyShowTip:function(m,h,d,g){if(g.from!==this.uid&&!B3.node){var j=afQ(g,d);this._ticket="";var c=g.dataByCoordSys;if(g.tooltip&&null!=g.x&&null!=g.y){var b=qN;b.position=[g.x,g.y],b.update(),b.tooltip=g.tooltip,this._tryShow({offsetX:g.x,offsetY:g.y,target:b},j)}else{if(c){this._tryShow({offsetX:g.x,offsetY:g.y,position:g.position,event:{},dataByCoordSys:g.dataByCoordSys,tooltipOption:g.tooltipOption},j)}else{if(null!=g.seriesIndex){if(this._manuallyAxisShowTip(m,h,d,g)){return}var p=Qq(g,h),f=p.point[0],k=p.point[1];null!=f&&null!=k&&this._tryShow({offsetX:f,offsetY:k,position:g.position,target:p.el,event:{}},j)}else{null!=g.x&&null!=g.y&&(d.dispatchAction({type:"updateAxisPointer",x:g.x,y:g.y}),this._tryShow({offsetX:g.x,offsetY:g.y,position:g.position,target:d.getZr().findHover(g.x,g.y).target,event:{}},j))}}}}},manuallyHideTip:function(d,f,g,c){var b=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&b.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,c.from!==this.uid&&this._hide(afQ(c,g))},_manuallyAxisShowTip:function(k,h,d,g){var j=g.seriesIndex,c=g.dataIndex,b=h.getComponent("axisPointer").coordSysAxesInfo;if(null!=j&&null!=c&&null!=b){var m=h.getSeriesByIndex(j);if(m){var f=m.getData(),k=aax([f.getItemModel(c),m,(m.coordinateSystem||{}).model,k]);if("axis"===k.get("trigger")){return d.dispatchAction({type:"updateAxisPointer",seriesIndex:j,dataIndex:c,position:g.position}),!0}}}},_tryShow:function(d,f){var g=d.target,c=this._tooltipModel;if(c){this._lastX=d.offsetX,this._lastY=d.offsetY;var b=d.dataByCoordSys;b&&b.length?this._showAxisTooltip(b,d):g&&null!=g.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(d,g,f)):g&&g.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(d,g,f)):(this._lastDataByCoordSys=null,this._hide(f))}},_showOrMove:function(a,b){var c=a.get("showDelay");b=aic(b,this),clearTimeout(this._showTimout),c>0?this._showTimout=setTimeout(b,c):b()},_showAxisTooltip:function(w,m){var f=this._ecModel,j=this._tooltipModel,b=[m.offsetX,m.offsetY],a=[],x=[],g=aax([m.tooltipOption,j]),v=this._renderMode,k=this._newLine,q={};adt(w,function(c){adt(c.dataByAxis,function(r){var s=f.getComponent(r.axisDim+"Axis",r.axisIndex),n=r.value,y=[];if(s&&null!=n){var h=EZ(n,s.axis,f,r.seriesDataIndices,r.valueLabelOpt);aiT(r.seriesDataIndices,function(o){var i=f.getSeriesByIndex(o.seriesIndex),A=o.dataIndexInside,t=i&&i.getDataParams(A);if(t.axisDim=r.axisDim,t.axisIndex=r.axisIndex,t.axisType=r.axisType,t.axisId=r.axisId,t.axisValue=agN(s.axis,n),t.axisValueLabel=h,t){x.push(t);var z,l=i.formatTooltip(A,!0,null,v);if(ajq(l)){z=l.html;var e=l.markers;ai5(q,e)}else{z=l}y.push(z)}});var u=h;a.push("html"!==v?y.join(k):(u?aaE(u)+k:"")+y.join(k))}})},this),a.reverse(),a=a.join(this._newLine+this._newLine);var p=m.position;this._showOrMove(g,function(){this._updateContentNotChangedOnAxis(w)?this._updatePosition(g,p,b[0],b[1],this._tooltipContent,x):this._showTooltipContent(g,a,x,Math.random(),b[0],b[1],p,void 0,q)})},_showSeriesItemTooltip:function(G,B,q){var x=this._ecModel,E=B.seriesIndex,k=x.getSeriesByIndex(E),b=B.dataModel||k,H=B.dataIndex,w=B.dataType,F=b.getData(),y=aax([F.getItemModel(H),b,k&&(k.coordinateSystem||{}).model,this._tooltipModel]),D=y.get("trigger");if(null==D||"item"===D){var C,A,j=b.getDataParams(H,w),z=b.formatTooltip(H,!1,w,this._renderMode);ajq(z)?(C=z.html,A=z.markers):(C=z,A=null);var v="item_"+b.name+"_"+H;this._showOrMove(y,function(){this._showTooltipContent(y,C,j,v,G.offsetX,G.offsetY,G.position,G.target,A)}),q({type:"showTip",dataIndexInside:H,dataIndex:F.getRawIndex(H),seriesIndex:E,from:this.uid})}},_showComponentItemTooltip:function(d,h,k){var c=h.tooltip;if("string"==typeof c){var b=c;c={content:b,formatter:b}}var j=new f0(c,this._tooltipModel,this._ecModel),g=j.get("content"),f=Math.random();this._showOrMove(j,function(){this._showTooltipContent(j,g,j.get("formatterParams")||{},f,d.offsetX,d.offsetY,d.position,h)}),k({type:"showTip",from:this.uid})},_showTooltipContent:function(y,p,g,k,w,f,b,z,j){if(this._ticket="",y.get("showContent")&&y.get("show")){var x=this._tooltipContent,m=y.get("formatter");b=b||y.get("position");var v=p;if(m&&"string"==typeof m){v=afX(m,g,!0)}else{if("function"==typeof m){var q=uZ(function(c,a){c===this._ticket&&(x.setContent(a,j,y),this._updatePosition(y,b,w,f,x,g,z))},this);this._ticket=k,v=m(g,k,q)}}x.setContent(v,j,y),x.show(y),this._updatePosition(y,b,w,f,x,g,z)}},_updatePosition:function(C,x,k,q,A,j,b){var D=this._api.getWidth(),m=this._api.getHeight();x=x||C.get("position");var B=A.getSize(),v=C.get("align"),z=C.get("verticalAlign"),y=b&&b.getBoundingRect().clone();if(b&&y.applyTransform(b.transform),"function"==typeof x&&(x=x([k,q],j,A.el,y,{viewSize:[D,m],contentSize:B.slice()})),ai9(x)){k=o9(x[0],D),q=o9(x[1],m)}else{if(ajq(x)){x.width=B[0],x.height=B[1];var w=lq(x,{width:D,height:m});k=w.x,q=w.y,v=null,z=null}else{if("string"==typeof x&&b){var g=OK(x,y,B);k=g[0],q=g[1]}else{var g=acj(k,q,A,D,m,v?null:20,z?null:20);k=g[0],q=g[1]}}}if(v&&(k-=P3(v)?B[0]/2:"right"===v?B[0]:0),z&&(q-=P3(z)?B[1]/2:"bottom"===z?B[1]:0),C.get("confine")){var g=SX(k,q,A,D,m);k=g[0],q=g[1]}A.moveTo(k,q)},_updateContentNotChangedOnAxis:function(a){var b=this._lastDataByCoordSys,c=!!b&&b.length===a.length;return c&&adt(b,function(h,f){var d=h.dataByAxis||{},j=a[f]||{},g=j.dataByAxis||[];c&=d.length===g.length,c&&adt(d,function(m,n){var l=g[n]||{},k=m.seriesDataIndices||[],p=l.seriesDataIndices||[];c&=m.value===l.value&&m.axisType===l.axisType&&m.axisId===l.axisId&&k.length===p.length,c&&adt(k,function(q,r){var o=p[r];c&=q.seriesIndex===o.seriesIndex&&q.dataIndex===o.dataIndex})})}),this._lastDataByCoordSys=a,!!c},_hide:function(a){this._lastDataByCoordSys=null,a({type:"hideTip",from:this.uid})},dispose:function(a,b){B3.node||(this._tooltipContent.hide(),jW("itemTooltip",b))}}),oJ({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),oJ({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});var mB=ahK,NK=aaE,EV=YH({type:"marker",dependencies:["series","grid","polar","geo"],init:function(b,c,d,a){this.mergeDefaultAndTheme(b,d),this.mergeOption(b,d,a.createdBySelf,!0)},isAnimationEnabled:function(){if(B3.node){return !1}var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},mergeOption:function(d,f,h,c){var b=this.constructor,g=this.mainType+"Model";h||f.eachSeries(function(a){var i=a.get(this.mainType,!0),e=a[g];return i&&i.data?(e?e.mergeOption(i,f,!0):(c&&at(i),aiT(i.data,function(j){j instanceof Array?(at(j[0]),at(j[1])):at(j)}),e=new b(i,this,f),aip(e,{mainType:this.mainType,seriesIndex:a.seriesIndex,name:a.name,createdBySelf:!0}),e.__hostSeries=a),void (a[g]=e)):void (a[g]=null)},this)},formatTooltip:function(d){var f=this.getData(),h=this.getRawValue(d),c=ai9(h)?aiu(h,mB).join(", "):mB(h),b=f.getName(d),g=NK(this.name);return(null!=h||b)&&(g+="<br />"),b&&(g+=NK(b),null!=h&&(g+=" : ")),null!=h&&(g+=NK(c)),g},getData:function(){return this._data},setData:function(a){this._data=a}});aiZ(EV,E1),EV.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var r3=aij,I1=aie,gX={min:I1(tH,"min"),max:I1(tH,"max"),average:I1(tH,"average")},B0=W6({type:"marker",init:function(){this.markerGroupMap=aj6()},render:function(d,f,g){var c=this.markerGroupMap;c.each(function(a){a.__keep=!1});var b=this.type+"Model";f.eachSeries(function(e){var a=e[b];a&&this.renderSeries(e,a,f,g)},this),c.each(function(a){!a.__keep&&this.group.remove(a.group)},this)},renderSeries:function(){}});B0.extend({type:"markPoint",updateTransform:function(a,b,c){b.eachSeries(function(d){var f=d.markPointModel;f&&(adv(f.getData(),d,c),this.markerGroupMap.get(d.id).updateLayout(f))},this)},renderSeries:function(m,h,d,g){var j=m.coordinateSystem,c=m.id,b=m.getData(),p=this.markerGroupMap,f=p.get(c)||p.set(c,new J5),k=pq(j,m,h);h.setData(k),adv(h.getData(),m,g),k.each(function(e){var l=k.getItemModel(e),a=l.getShallow("symbolSize");"function"==typeof a&&(a=a(h.getRawValue(e),h.getDataParams(e))),k.setItemVisual(e,{symbolSize:a,color:l.get("itemStyle.color")||b.getVisual("color"),symbol:l.getShallow("symbol")})}),f.updateData(k),this.group.add(f.group),k.eachItemGraphicEl(function(a){a.traverse(function(e){e.dataModel=h})}),f.__keep=!0,f.group.silent=h.get("silent")||m.get("silent")}}),w3(function(a){a.markPoint=a.markPoint||{}}),EV.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});var Dj=function(C,x,i,b){var D=C.getData(),k=b.type;if(!ai9(b)&&("min"===k||"max"===k||"average"===k||"median"===k||null!=b.xAxis||null!=b.yAxis)){var B,q,z;if(null!=b.yAxis||null!=b.xAxis){q=null!=b.yAxis?"y":"x",B=x.getAxis(q),z=aj0(b.yAxis,b.xAxis)}else{var y=jU(b,D,x,C);q=y.valueDataDim,B=y.valueAxis,z=u1(D,q,k)}var w="x"===q?0:1,a=1-w,r=aiO(b),j={};r.type=null,r.coord=[],j.coord=[],r.coord[a]=-1/0,j.coord[a]=1/0;var A=i.get("precision");A>=0&&"number"==typeof z&&(z=+z.toFixed(Math.min(A,20))),r.coord[w]=j.coord[w]=z,b=[r,j,{type:k,valueIndex:b.valueIndex,value:z}]}return b=[y7(C,b[0]),y7(C,b[1]),aip({},b[2])],b[2].type=b[2].type||"",ai5(b[2],b[0]),ai5(b[2],b[1]),b};B0.extend({type:"markLine",updateTransform:function(a,b,c){b.eachSeries(function(g){var h=g.markLineModel;if(h){var f=h.getData(),d=h.__from,j=h.__to;d.each(function(i){EX(d,i,!0,g,c),EX(j,i,!1,g,c)}),f.each(function(e){f.setItemLayout(e,[d.getItemLayout(e),j.getItemLayout(e)])}),this.markerGroupMap.get(g.id).updateLayout()}},this)},renderSeries:function(E,z,m,v){function C(d,g,c){var f=d.getItemModel(g);EX(d,g,c,E,v),d.setItemVisual(g,{symbolSize:f.get("symbolSize")||x[c?0:1],symbol:f.get("symbol",!0)||j[c?0:1],color:f.get("itemStyle.color")||F.getVisual("color")})}var k=E.coordinateSystem,b=E.id,F=E.getData(),q=this.markerGroupMap,D=q.get(b)||q.set(b,new iQ);this.group.add(D.group);var w=r5(k,E,z),B=w.from,A=w.to,y=w.line;z.__from=B,z.__to=A,z.setData(y);var j=z.get("symbol"),x=z.get("symbolSize");ai9(j)||(j=[j,j]),"number"==typeof x&&(x=[x,x]),w.from.each(function(a){C(B,a,!0),C(A,a,!1)}),y.each(function(a){var c=y.getItemModel(a).get("lineStyle.color");y.setItemVisual(a,{color:c||B.getItemVisual(a,"color")}),y.setItemLayout(a,[B.getItemLayout(a),A.getItemLayout(a)]),y.setItemVisual(a,{fromSymbolSize:B.getItemVisual(a,"symbolSize"),fromSymbol:B.getItemVisual(a,"symbol"),toSymbolSize:A.getItemVisual(a,"symbolSize"),toSymbol:A.getItemVisual(a,"symbol")})}),D.updateData(y),w.line.eachItemGraphicEl(function(a){a.traverse(function(c){c.dataModel=z})}),D.__keep=!0,D.group.silent=z.get("silent")||E.get("silent")}}),w3(function(a){a.markLine=a.markLine||{}}),EV.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});var fB=function(o,j,c,f){var k=y7(o,f[0]),b=y7(o,f[1]),p=aj0,d=k.coord,m=b.coord;d[0]=p(d[0],-1/0),d[1]=p(d[1],-1/0),m[0]=p(m[0],1/0),m[1]=p(m[1],1/0);var g=aix([{},k,b]);return g.coord=[k.coord,b.coord],g.x0=k.x,g.y0=k.y,g.x1=b.x,g.y1=b.y,g},AG=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];B0.extend({type:"markArea",updateTransform:function(a,b,c){b.eachSeries(function(f){var g=f.markAreaModel;if(g){var d=g.getData();d.each(function(i){var h=aiu(AG,function(e){return Dt(d,i,e,f,c)});d.setItemLayout(i,h);var j=d.getItemGraphicEl(i);j.setShape("points",h)})}},this)},renderSeries:function(q,k,d,g){var m=q.coordinateSystem,c=q.id,b=q.getData(),f=this.markerGroupMap,p=f.get(c)||f.set(c,{group:new jG});this.group.add(p.group),p.__keep=!0;var j=fG(m,q,k);k.setData(j),j.each(function(a){j.setItemLayout(a,aiu(AG,function(e){return Dt(j,a,e,q,g)})),j.setItemVisual(a,{color:b.getVisual("color")})}),j.diff(p.__data).add(function(a){var h=new ahn({shape:{points:j.getItemLayout(a)}});j.setItemGraphicEl(a,h),p.group.add(h)}).update(function(e,h){var a=p.__data.getItemGraphicEl(h);q5(a,{shape:{points:j.getItemLayout(e)}},k,e),p.group.add(a),j.setItemGraphicEl(e,a)}).remove(function(a){var h=p.__data.getItemGraphicEl(a);p.group.remove(h)}).execute(),j.eachItemGraphicEl(function(l,v){var h=j.getItemModel(v),e=h.getModel("label"),u=h.getModel("emphasis.label"),s=j.getItemVisual(v,"color");l.useStyle(ain(h.getModel("itemStyle").getItemStyle(),{fill:M0(s,0.4),stroke:s})),l.hoverStyle=h.getModel("emphasis.itemStyle").getItemStyle(),ajD(l.style,l.hoverStyle,e,u,{labelFetcher:k,labelDataIndex:v,defaultText:j.getName(v)||"",isRectText:!0,autoColor:s}),aQ(l,{}),l.dataModel=k}),p.__data=j,p.group.silent=k.get("silent")||q.get("silent")}}),w3(function(a){a.markArea=a.markArea||{}});var bV=function(a){var b=a&&a.timeline;ai9(b)||(b=b?[b]:[]),aiT(b,function(c){c&&AJ(c)})};akQ.registerSubTypeDefaulter("timeline",function(){return"slider"}),oJ({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(a,b){var c=b.getComponent("timeline");return c&&null!=a.currentIndex&&(c.setCurrentIndex(a.currentIndex),!c.get("loop",!0)&&c.isIndexMax()&&c.setPlayState(!1)),b.resetOption("timeline"),ain({currentIndex:c.option.currentIndex},a)}),oJ({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(a,b){var c=b.getComponent("timeline");c&&null!=a.playState&&c.setPlayState(a.playState)});var d3=akQ.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2000,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(a,b,c){this._data,this._names,this.mergeDefaultAndTheme(a,c),this._initData()},mergeOption:function(){d3.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(a){null==a&&(a=this.option.currentIndex);var b=this._data.count();this.option.loop?a=(a%b+b)%b:(a>=b&&(a=b-1),0>a&&(a=0)),this.option.currentIndex=a},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(a){this.option.autoPlay=!!a},getPlayState:function(){return !!this.option.autoPlay},_initData:function(){var c=this.option,g=c.data||[],i=c.axisType,b=this._names=[];if("category"===i){var h=[];aiT(g,function(a,k){var l,j=hQ(a);ajq(a)?(l=aiO(a),l.value=k):l=k,h.push(l),ai2(j)||null!=j&&!isNaN(j)||(j=""),b.push(j+"")}),g=h}var f={category:"ordinal",time:"time"}[i]||"number",d=this._data=new akJ([{name:"value",type:f}],this);d.initData(g,b)},getData:function(){return this._data},getCategories:function(){return"category"===this.get("axisType")?this._names.slice():void 0}}),cQ=d3.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});aiZ(cQ,E1);var ad4=d9.extend({type:"timeline"}),h8=function(b,c,d,a){ado.call(this,b,c,d),this.type=a||"value",this.model=null};h8.prototype={constructor:h8,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return"horizontal"===this.model.get("orient")}},aiP(h8,ado);var ZU=aic,wj=aiT,L8=Math.PI;ad4.extend({type:"timeline.slider",init:function(a,b){this.api=b,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(d,g,j){if(this.model=d,this.api=j,this.ecModel=g,this.group.removeAll(),d.get("show",!0)){var c=this._layout(d,j),b=this._createGroup("mainGroup"),h=this._createGroup("labelGroup"),f=this._axis=this._createAxis(c,d);d.formatTooltip=function(a){return aaE(f.scale.getLabel(a))},wj(["AxisLine","AxisTick","Control","CurrentPointer"],function(a){this["_render"+a](c,b,f,d)},this),this._renderAxisLabel(c,h,f,d),this._position(c,d)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(D,Q){var I=D.get("label.position"),L=D.get("orient"),V=cV(D,Q);null==I||"auto"===I?I="horizontal"===L?V.y+V.height/2<Q.getHeight()/2?"-":"+":V.x+V.width/2<Q.getWidth()/2?"+":"-":isNaN(I)&&(I={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[L][I]);var H={horizontal:"center",vertical:I>=0||"+"===I?"left":"right"},F={horizontal:I>=0||"+"===I?"top":"bottom",vertical:"middle"},E={horizontal:0,vertical:L8/2},K="vertical"===L?V.height:V.width,C=D.getModel("controlStyle"),N=C.get("show",!0),T=N?C.get("itemSize"):0,R=N?C.get("itemGap"):0,P=T+R,G=D.get("label.rotate")||0;G=G*L8/180;var O,J,B,q,z=C.get("position",!0),W=N&&C.get("showPlayBtn",!0),A=N&&C.get("showPrevBtn",!0),U=N&&C.get("showNextBtn",!0),j=0,k=K;return"left"===z||"bottom"===z?(W&&(O=[0,0],j+=P),A&&(J=[j,0],j+=P),U&&(B=[k-T,0],k-=P)):(W&&(O=[k-T,0],k-=P),A&&(J=[0,0],j+=P),U&&(B=[k-T,0],k-=P)),q=[j,k],D.get("inverse")&&q.reverse(),{viewRect:V,mainLength:K,orient:L,rotation:E[L],labelRotation:G,labelPosOpt:I,labelAlign:D.get("label.align")||H[L],labelBaseline:D.get("label.verticalAlign")||D.get("label.baseline")||F[L],playPosition:O,prevBtnPosition:J,nextBtnPosition:B,axisExtent:q,controlSize:T,controlGap:R}},_position:function(G){function B(a){var c=a.position;a.origin=[y[0][0]-c[0],y[1][0]-c[1]]}function q(a){return[[a.x,a.x+a.width],[a.y,a.y+a.height]]}function x(f,g,h,d,c){f[d]+=h[d][c]-g[d][c]}var E=this._mainGroup,k=this._labelGroup,b=G.viewRect;if("vertical"===G.orient){var H=aj1(),w=b.x,F=b.y+b.height;kK(H,H,[-w,-F]),Lq(H,H,-L8/2),kK(H,H,[w,F]),b=b.clone(),b.applyTransform(H)}var y=q(b),D=q(E.getBoundingRect()),C=q(k.getBoundingRect()),A=E.position,j=k.position;j[0]=A[0]=y[0][0];var z=G.labelPosOpt;if(isNaN(z)){var v="+"===z?0:1;x(A,D,y,1,v),x(j,C,y,1,1-v)}else{var v=z>=0?0:1;x(A,D,y,1,v),j[1]=A[1]+z}E.attr("position",A),k.attr("position",j),E.rotation=k.rotation=G.rotation,B(E),B(k)},_createAxis:function(d,g){var j=g.getData(),c=g.get("axisType"),b=afB(g,c);b.getTicks=function(){return j.mapArray(["value"],function(a){return a})};var h=j.getDataExtent("value");b.setExtent(h[0],h[1]),b.niceTicks();var f=new h8("value",b,d.axisExtent,c);return f.model=g,f},_createGroup:function(a){var b=this["_"+a]=new jG;return this.group.add(b),b},_renderAxisLine:function(d,f,g,c){var b=g.getExtent();c.get("lineStyle.show")&&f.add(new adf({shape:{x1:b[0],y1:0,x2:b[1],y2:0},style:aip({lineCap:"round"},c.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(d,f,h,c){var b=c.getData(),g=h.scale.getTicks();wj(g,function(i){var n=h.dataToCoord(i),m=b.getItemModel(i),k=m.getModel("itemStyle"),a=m.getModel("emphasis.itemStyle"),e={position:[n,0],onclick:ZU(this._changeTimeline,this,i)},j=ij(m,k,f,e);aQ(j,a.getItemStyle()),m.get("tooltip")?(j.dataIndex=i,j.dataModel=c):j.dataIndex=j.dataModel=null},this)},_renderAxisLabel:function(d,g,j,c){var b=j.getLabelModel();if(b.get("show")){var h=c.getData(),f=j.getViewLabels();wj(f,function(n){var k=n.tickValue,q=h.getItemModel(k),p=q.getModel("label"),e=q.getModel("emphasis.label"),m=j.dataToCoord(n.tickValue),o=new ab3({position:[m,0],rotation:d.labelRotation-d.rotation,onclick:ZU(this._changeTimeline,this,k),silent:!1});lG(o.style,p,{text:n.formattedLabel,textAlign:d.labelAlign,textVerticalAlign:d.labelBaseline}),g.add(o),aQ(o,lG({},e))},this)}},_renderControl:function(w,m,f,j){function q(i,s,e,l){if(i){var r={position:i,origin:[d/2,0],rotation:l?-b:0,rectHover:!0,style:x,onclick:e},o=ad6(j,s,v,r);m.add(o),aQ(o,g)}}var d=w.controlSize,b=w.rotation,x=j.getModel("controlStyle").getItemStyle(),g=j.getModel("emphasis.controlStyle").getItemStyle(),v=[0,-d/2,d,d],k=j.getPlayState(),p=j.get("inverse",!0);q(w.nextBtnPosition,"controlStyle.nextIcon",ZU(this._changeTimeline,this,p?"-":"+")),q(w.prevBtnPosition,"controlStyle.prevIcon",ZU(this._changeTimeline,this,p?"+":"-")),q(w.playPosition,"controlStyle."+(k?"stopIcon":"playIcon"),ZU(this._handlePlayClick,this,!k),!0)},_renderCurrentPointer:function(k,h,d,g){var j=g.getData(),c=g.getCurrentIndex(),b=j.getItemModel(c).getModel("checkpointStyle"),m=this,f={onCreate:function(a){a.draggable=!0,a.drift=ZU(m._handlePointerDrag,m),a.ondragend=ZU(m._handlePointerDragend,m),ZW(a,c,d,g,!0)},onUpdate:function(a){ZW(a,c,d,g)}};this._currentPointer=ij(b,b,this._mainGroup,{},this._currentPointer,f)},_handlePlayClick:function(a){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},_handlePointerDrag:function(a,b,c){this._clearTimer(),this._pointerChangeTimeline([c.offsetX,c.offsetY])},_handlePointerDragend:function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},_pointerChangeTimeline:function(d,g){var j=this._toAxisCoord(d)[0],c=this._axis,b=x8(c.getExtent().slice());j>b[1]&&(j=b[1]),j<b[0]&&(j=b[0]),this._currentPointer.position[0]=j,this._currentPointer.dirty();var h=this._findNearestTick(j),f=this.model;(g||h!==f.getCurrentIndex()&&f.get("realtime"))&&this._changeTimeline(h)},_doPlayStop:function(){function a(){var b=this.model;this._changeTimeline(b.getCurrentIndex()+(b.get("rewind",!0)?-1:1))}this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(ZU(a,this),this.model.get("playInterval")))},_toAxisCoord:function(a){var b=this._mainGroup.getLocalTransform();return E8(a,b,!0)},_findNearestTick:function(d){var f,g=this.model.getData(),c=1/0,b=this._axis;return g.each(["value"],function(i,h){var e=b.dataToCoord(i),a=Math.abs(e-d);c>a&&(c=a,f=h)}),f},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(a){var b=this.model.getCurrentIndex();"+"===a?a=b+1:"-"===a&&(a=b-1),this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})}}),w3(bV),akQ.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var xV=["x","y","z","radius","angle","single"],nY=["cartesian2d","polar","singleAxis"],X2=Mj(xV,["axisIndex","axis","index","id"]),ah2=aiT,acJ=x8,afF=function(b,c,d,a){this._dimName=b,this._axisIndex=c,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=a,this._dataZoomModel=d};afF.prototype={constructor:afF,hostedBy:function(a){return this._dataZoomModel===a},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var a=[],b=this.ecModel;return b.eachSeries(function(e){if(wt(e.get("coordinateSystem"))){var d=this._dimName,c=b.queryComponents({mainType:d+"Axis",index:e.get(d+"AxisIndex"),id:e.get(d+"AxisId")})[0];this._axisIndex===(c&&c.componentIndex)&&a.push(e)}},this),a},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var d,g,j=this._dimName,c=this.ecModel,b=this.getAxisModel(),h="x"===j||"y"===j;h?(g="gridIndex",d="x"===j?"y":"x"):(g="polarIndex",d="angle"===j?"radius":"angle");var f;return c.eachComponent(d+"Axis",function(a){(a.get(g)||0)===(b.get(g)||0)&&(f=a)}),f},getMinMaxSpan:function(){return aiO(this._minMaxSpan)},calculateDataWindow:function(d){var h=this._dataExtent,k=this.getAxisModel(),c=k.axis.scale,b=this._dataZoomModel.getRangePropMode(),j=[0,100],g=[d.start,d.end],f=[];return ah2(["startValue","endValue"],function(a){f.push(null!=d[a]?c.parse(d[a]):null)}),ah2([0,1],function(e){var i=f[e],a=g[e];"percent"===b[e]?(null==a&&(a=j[e]),i=c.parse(Z7(a,j,h,!0))):a=Z7(i,h,j,!0),f[e]=i,g[e]=a}),{valueWindow:acJ(f),percentWindow:acJ(g)}},reset:function(a){if(a===this._dataZoomModel){var b=this.getTargetSeriesModels();this._dataExtent=n0(this,this._dimName,b);var c=this.calculateDataWindow(a.option);this._valueWindow=c.valueWindow,this._percentWindow=c.percentWindow,acg(this),ahA(this)}},restore:function(a){a===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,ahA(this,!0))},filterData:function(d){function f(a){return a>=g[0]&&a<=g[1]}if(d===this._dataZoomModel){var h=this._dimName,c=this.getTargetSeriesModels(),b=d.get("filterMode"),g=this._valueWindow;"none"!==b&&ah2(c,function(e){var a=e.getData(),j=a.mapDimension(h,!0);j.length&&("weakFilter"===b?a.filterSelf(function(v){for(var o,i,q,w=0;w<j.length;w++){var k=a.get(j[w],v),r=!isNaN(k),m=k<g[0],p=k>g[1];if(r&&!m&&!p){return !0}r&&(q=!0),m&&(o=!0),p&&(i=!0)}return q&&o&&i}):ah2(j,function(k){if("empty"===b){e.setData(a.map(k,function(l){return f(l)?l:0/0}))}else{var i={};i[k]=g,a.selectRange(i)}}),ah2(j,function(i){a.setApproximateExtent(g,i)}))})}}};var akZ=aiT,ab8=X2,aam=YH({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(b,c,d){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var a=afc(b);this.mergeDefaultAndTheme(b,d),this.doInit(a)},mergeOption:function(a){var b=afc(a);ai5(this.option,a,!0),this.doInit(b)},doInit:function(a){var b=this.option;B3.canvasSupported||(b.realtime=!1),this._setDefaultThrottle(a),akP(this,a),akZ([["start","startValue"],["end","endValue"]],function(c,d){"value"===this._rangePropMode[d]&&(b[c[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var a=this._axisProxies;this.eachTargetAxis(function(f,h,c,b){var g=this.dependentModels[f.axis][h],d=g.__dzAxisProxy||(g.__dzAxisProxy=new afF(f.name,h,this,b));a[f.name+"_"+h]=d},this)},_resetTarget:function(){var a=this.option,b=this._judgeAutoMode();ab8(function(c){var d=c.axisIndex;a[d]=sZ(a[d])},this),"axisIndex"===b?this._autoSetAxisIndex():"orient"===b&&this._autoSetOrient()},_judgeAutoMode:function(){var a=this.option,b=!1;ab8(function(d){null!=a[d.axisIndex]&&(b=!0)},this);var c=a.orient;return null==c&&b?"orient":b?void 0:(null==c&&(a.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var d=!0,f=this.get("orient",!0),g=this.option,c=this.dependentModels;if(d){var b="vertical"===f?"y":"x";c[b+"Axis"].length?(g[b+"AxisIndex"]=[0],d=!1):akZ(c.singleAxis,function(a){d&&a.get("orient",!0)===f&&(g.singleAxisIndex=[a.componentIndex],d=!1)})}d&&ab8(function(l){if(d){var j=[],h=this.dependentModels[l.axis];if(h.length&&!j.length){for(var m=0,k=h.length;k>m;m++){"category"===h[m].get("type")&&j.push(m)}}g[l.axisIndex]=j,j.length&&(d=!1)}},this),d&&this.ecModel.eachSeries(function(a){this._isSeriesHasAllAxesTypeOf(a,"value")&&ab8(function(l){var j=g[l.axisIndex],h=a.get(l.axisIndex),m=a.get(l.axisId),k=a.ecModel.queryComponents({mainType:l.axis,index:h,id:m})[0];h=k.componentIndex,aij(j,h)<0&&j.push(h)})},this)},_autoSetOrient:function(){var a;this.eachTargetAxis(function(b){!a&&(a=b.name)},this),this.option.orient="y"===a?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(a,b){var c=!0;return ab8(function(e){var d=a.get(e.axisIndex),f=this.dependentModels[e.axis][d];f&&f.get("type")===b||(c=!1)},this),c},_setDefaultThrottle:function(a){if(a.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var b=this.ecModel.option;this.option.throttle=b.animation&&b.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var a;return ab8(function(b){if(null==a){var c=this.get(b.axisIndex);c.length&&(a=this.dependentModels[b.axis][c[0]])}},this),a},eachTargetAxis:function(a,b){var c=this.ecModel;ab8(function(d){akZ(this.get(d.axisIndex),function(e){a.call(b,d,e,this,c)},this)},this)},getAxisProxy:function(a,b){return this._axisProxies[a+"_"+b]},getAxisModel:function(a,b){var c=this.getAxisProxy(a,b);return c&&c.getAxisModel()},setRawRange:function(a,b){var c=this.option;akZ([["start","startValue"],["end","endValue"]],function(d){(null!=a[d[0]]||null!=a[d[1]])&&(c[d[0]]=a[d[0]],c[d[1]]=a[d[1]])},this),!b&&akP(this,a)},getPercentRange:function(){var a=this.findRepresentativeAxisProxy();return a?a.getDataPercentWindow():void 0},getValueRange:function(a,b){if(null!=a||null!=b){return this.getAxisProxy(a,b).getDataValueWindow()}var c=this.findRepresentativeAxisProxy();return c?c.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(a){if(a){return a.__dzAxisProxy}var b=this._axisProxies;for(var c in b){if(b.hasOwnProperty(c)&&b[c].hostedBy(this)){return b[c]}}for(var c in b){if(b.hasOwnProperty(c)&&!b[c].hostedBy(this)){return b[c]}}},getRangePropMode:function(){return this._rangePropMode.slice()}}),Zt=d9.extend({type:"dataZoom",render:function(a,b,c){this.dataZoomModel=a,this.ecModel=b,this.api=c},getTargetCoordInfo:function(){function b(h,j,l,g){for(var f,k=0;k<l.length;k++){if(l[k].model===h){f=l[k];break}}f||l.push(f={model:h,axisModels:[],coordIndex:g}),f.axisModels.push(j)}var c=this.dataZoomModel,d=this.ecModel,a={};return c.eachTargetAxis(function(h,f){var i=d.getComponent(h.axis,f);if(i){var g=i.getCoordSysModel();g&&b(g,i,a[g.mainType]||(a[g.mainType]=[]),g.componentIndex)}},this),a}}),adV=(aam.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:0.5,opacity:0.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:0.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),agM),WK=Z7,agg=x8,aj2=aic,ai1=aiT,ahs=7,abx=1,agR=30,adk="horizontal",U7="vertical",Q2=5,St=["line","bar","candlestick","scatter"],bJ=Zt.extend({type:"dataZoom.slider",init:function(a,b){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=b},render:function(b,c,d,a){return bJ.superApply(this,"render",arguments),c0(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=b.get("orient"),this.dataZoomModel.get("show")===!1?void this.group.removeAll():(a&&"dataZoom"===a.type&&a.from===this.uid||this._buildView(),void this._updateView())},remove:function(){bJ.superApply(this,"remove",arguments),aeb(this,"_dispatchZoomAction")},dispose:function(){bJ.superApply(this,"dispose",arguments),aeb(this,"_dispatchZoomAction")},_buildView:function(){var a=this.group;a.removeAll(),this._resetLocation(),this._resetInterval();var b=this._displayables.barGroup=new jG;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),a.add(b),this._positionGroup()},_resetLocation:function(){var d=this.dataZoomModel,g=this.api,j=this._findCoordRect(),c={width:g.getWidth(),height:g.getHeight()},b=this._orient===adk?{right:c.width-j.x-j.width,top:c.height-agR-ahs,width:j.width,height:agR}:{right:ahs,top:j.y,width:agR,height:j.height},h=KQ(d.option);aiT(["right","top","width","height"],function(a){"ph"===h[a]&&(h[a]=b[a])});var f=lq(h,c,d.padding);this._location={x:f.x,y:f.y},this._size=[f.width,f.height],this._orient===U7&&this._size.reverse()},_positionGroup:function(){var d=this.group,h=this._location,k=this._orient,c=this.dataZoomModel.getFirstTargetAxisModel(),b=c&&c.get("inverse"),j=this._displayables.barGroup,g=(this._dataShadowInfo||{}).otherAxisInverse;j.attr(k!==adk||b?k===adk&&b?{scale:g?[-1,1]:[-1,-1]}:k!==U7||b?{scale:g?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:g?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:g?[1,1]:[1,-1]});var f=d.getBoundingRect([j]);d.attr("position",[h.x-f.x,h.y-f.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var a=this.dataZoomModel,b=this._size,c=this._displayables.barGroup;c.add(new adV({silent:!0,shape:{x:0,y:0,width:b[0],height:b[1]},style:{fill:a.get("backgroundColor")},z2:-40})),c.add(new adV({shape:{x:0,y:0,width:b[0],height:b[1]},style:{fill:"transparent"},z2:0,onclick:aic(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var F=this._dataShadowInfo=this._prepareDataShadowInfo();if(F){var A=this._size,q=F.series,w=q.getRawData(),D=q.getShadowDim?q.getShadowDim():F.otherDim;if(null!=D){var k=w.getDataExtent(D),b=0.3*(k[1]-k[0]);k=[k[0]-b,k[1]+b];var v,E=[0,A[1]],x=[0,A[0]],C=[[A[0],0],[0,0]],B=[],z=x[1]/(w.count()-1),j=0,y=Math.round(w.count()/A[0]);w.each([D],function(c,d){if(y>0&&d%y){return void (j+=z)}var f=null==c||isNaN(c)||""===c,a=f?0:WK(c,k,E,!0);f&&!v&&d?(C.push([C[C.length-1][0],0]),B.push([B[B.length-1][0],0])):!f&&v&&(C.push([j,0]),B.push([j,0])),C.push([j,a]),B.push([j,a]),j+=z,v=f});var s=this.dataZoomModel;this._displayables.barGroup.add(new ahn({shape:{points:C},style:ain({fill:s.get("dataBackgroundColor")},s.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new abs({shape:{points:B},style:s.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var b=this.dataZoomModel,c=b.get("showDataShadow");if(c!==!1){var d,a=this.ecModel;return b.eachTargetAxis(function(e,g){var f=b.getAxisProxy(e.name,g).getTargetSeriesModels();aiT(f,function(j){if(!(d||c!==!0&&aij(St,j.get("type"))<0)){var n,m=a.getComponent(e.axis,g).axis,i=abF(e.name),k=j.coordinateSystem;null!=i&&k.getOtherAxis&&(n=k.getOtherAxis(m).inverse),i=j.getData().mapDimension(i),d={thisAxis:m,series:j,thisDim:e.name,otherDim:i,otherAxisInverse:n}}},this)},this),d}},_renderHandle:function(){var d=this._displayables,f=d.handles=[],h=d.handleLabels=[],c=this._displayables.barGroup,b=this._size,g=this.dataZoomModel;c.add(d.filler=new adV({draggable:!0,cursor:ZQ(this._orient),drift:aj2(this._onDragMove,this,"all"),onmousemove:function(a){ai8(a.event)},ondragstart:aj2(this._showDataInfo,this,!0),ondragend:aj2(this._onDragEnd,this),onmouseover:aj2(this._showDataInfo,this,!0),onmouseout:aj2(this._showDataInfo,this,!1),style:{fill:g.get("fillerColor"),textPosition:"inside"}})),c.add(new adV(aeS({silent:!0,shape:{x:0,y:0,width:b[0],height:b[1]},style:{stroke:g.get("dataBackgroundColor")||g.get("borderColor"),lineWidth:abx,fill:"rgba(0,0,0,0)"}}))),ai1([0,1],function(j){var i=DX(g.get("handleIcon"),{cursor:ZQ(this._orient),draggable:!0,drift:aj2(this._onDragMove,this,j),onmousemove:function(a){ai8(a.event)},ondragend:aj2(this._onDragEnd,this),onmouseover:aj2(this._showDataInfo,this,!0),onmouseout:aj2(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),m=i.getBoundingRect();this._handleHeight=wX(g.get("handleSize"),this._size[1]),this._handleWidth=m.width/m.height*this._handleHeight,i.setStyle(g.getModel("handleStyle").getItemStyle());var k=g.get("handleColor");null!=k&&(i.style.fill=k),c.add(f[j]=i);var e=g.textStyleModel;this.group.add(h[j]=new ab3({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:e.getTextColor(),textFont:e.getFont()},z2:10}))},this)},_resetInterval:function(){var a=this._range=this.dataZoomModel.getPercentRange(),b=this._getViewExtent();this._handleEnds=[WK(a[0],[0,100],b,!0),WK(a[1],[0,100],b,!0)]},_updateInterval:function(k,h){var d=this.dataZoomModel,g=this._handleEnds,j=this._getViewExtent(),c=d.findRepresentativeAxisProxy().getMinMaxSpan(),b=[0,100];bt(h,g,j,d.get("zoomLock")?"all":k,null!=c.minSpan?WK(c.minSpan,b,j,!0):null,null!=c.maxSpan?WK(c.maxSpan,b,j,!0):null);var m=this._range,f=this._range=agg([WK(g[0],j,b,!0),WK(g[1],j,b,!0)]);return !m||m[0]!==f[0]||m[1]!==f[1]},_updateView:function(d){var f=this._displayables,g=this._handleEnds,c=agg(g.slice()),b=this._size;ai1([0,1],function(e){var a=f.handles[e],h=this._handleHeight;a.attr({scale:[h/2,h/2],position:[g[e],b[1]/2-h/2]})},this),f.filler.setShape({x:c[0],y:0,width:c[1]-c[0],height:b[1]}),this._updateDataInfo(d)},_updateDataInfo:function(w){function m(c){var i=N1(j.handles[c].parent,this.group),o=sH(0===c?"right":"left",i),h=this._handleWidth/2+Q2,a=E8([p[c]+(0===c?-h:h),this._size[1]/2],i);q[c].setStyle({x:a[0],y:a[1],textVerticalAlign:d===adk?"middle":o,textAlign:d===adk?o:"center",text:b[c]})}var f=this.dataZoomModel,j=this._displayables,q=j.handleLabels,d=this._orient,b=["",""];if(f.get("showDetail")){var x=f.findRepresentativeAxisProxy();if(x){var g=x.getAxisModel().axis,v=this._range,k=w?x.calculateDataWindow({start:v[0],end:v[1]}).valueWindow:x.getDataValueWindow();b=[this._formatLabel(k[0],g),this._formatLabel(k[1],g)]}}var p=agg(this._handleEnds.slice());m.call(this,0),m.call(this,1)},_formatLabel:function(d,f){var h=this.dataZoomModel,c=h.get("labelFormatter"),b=h.get("labelPrecision");(null==b||"auto"===b)&&(b=f.getPixelPrecision());var g=null==d||isNaN(d)?"":"category"===f.type||"time"===f.type?f.scale.getLabel(Math.round(d)):d.toFixed(Math.min(b,20));return aif(c)?c(d,g):ai2(c)?c.replace("{value}",g):g},_showDataInfo:function(a){a=this._dragging||a;var b=this._displayables.handleLabels;b[0].attr("invisible",!a),b[1].attr("invisible",!a)},_onDragMove:function(d,g,j){this._dragging=!0;var c=this._displayables.barGroup.getLocalTransform(),b=E8([g,j],c,!0),h=this._updateInterval(d,b[0]),f=this.dataZoomModel.get("realtime");this._updateView(!f),h&&f&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1);var a=this.dataZoomModel.get("realtime");!a&&this._dispatchZoomAction()},_onClickPanelClick:function(d){var f=this._size,h=this._displayables.barGroup.transformCoordToLocal(d.offsetX,d.offsetY);if(!(h[0]<0||h[0]>f[0]||h[1]<0||h[1]>f[1])){var c=this._handleEnds,b=(c[0]+c[1])/2,g=this._updateInterval("all",h[0]-b);this._updateView(),g&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:a[0],end:a[1]})},_findCoordRect:function(){var a;if(ai1(this.getTargetCoordInfo(),function(d){if(!a&&d.length){var f=d[0].model.coordinateSystem;a=f.getRect&&f.getRect()}}),!a){var b=this.api.getWidth(),c=this.api.getHeight();a={x:0.2*b,y:0.2*c,width:0.6*b,height:0.6*c}}return a}});aam.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});var TX="\x00_ec_dataZoom_roams",akG=aic,nG=Zt.extend({type:"dataZoom.inside",init:function(){this._range},render:function(a,b,c){nG.superApply(this,"render",arguments),this._range=a.getPercentRange(),aiT(this.getTargetCoordInfo(),function(g,f){var d=aiu(g,function(e){return VG(e.model)});aiT(g,function(i){var j=i.model,h={};aiT(["pan","zoom","scrollMove"],function(e){h[e]=akG(v1[e],this,i,f)},this),Yj(c,{coordId:VG(j),allCoordIds:d,containsPoint:function(k,l,m){return j.coordinateSystem.containPoint([l,m])},dataZoomId:a.id,dataZoomModel:a,getRange:h})},this)},this)},dispose:function(){ads(this.api,this.dataZoomModel.id),nG.superApply(this,"dispose",arguments),this._range=null}}),v1={zoom:function(q,k,d,g){var m=this._range,c=m.slice(),b=q.axisModels[0];if(b){var v=BJ[k](null,[g.originX,g.originY],b,d,q),f=(v.signal>0?v.pixelStart+v.pixelLength-v.pixel:v.pixel-v.pixelStart)/v.pixelLength*(c[1]-c[0])+c[0],p=Math.max(1/g.scale,0);c[0]=(c[0]-f)*p+f,c[1]=(c[1]-f)*p+f;var j=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return bt(0,c,[0,100],0,j.minSpan,j.maxSpan),this._range=c,m[0]!==c[0]||m[1]!==c[1]?c:void 0}},pan:ago(function(d,g,j,c,b,h){var f=BJ[c]([h.oldX,h.oldY],[h.newX,h.newY],g,b,j);return f.signal*(d[1]-d[0])*f.pixel/f.pixelLength}),scrollMove:ago(function(d,g,j,c,b,h){var f=BJ[c]([0,0],[h.scrollDelta,h.scrollDelta],g,b,j);return f.signal*(d[1]-d[0])*h.scrollDelta})},BJ={grid:function(d,h,k,c,b){var j=k.axis,g={},f=b.model.coordinateSystem.getRect();return d=d||[0,0],"x"===j.dim?(g.pixel=h[0]-d[0],g.pixelLength=f.width,g.pixelStart=f.x,g.signal=j.inverse?1:-1):(g.pixel=h[1]-d[1],g.pixelLength=f.height,g.pixelStart=f.y,g.signal=j.inverse?-1:1),g},polar:function(m,h,d,g,j){var c=d.axis,b={},p=j.model.coordinateSystem,f=p.getRadiusAxis().getExtent(),k=p.getAngleAxis().getExtent();return m=m?p.pointToCoord(m):[0,0],h=p.pointToCoord(h),"radiusAxis"===d.mainType?(b.pixel=h[0]-m[0],b.pixelLength=f[1]-f[0],b.pixelStart=f[0],b.signal=c.inverse?1:-1):(b.pixel=h[1]-m[1],b.pixelLength=k[1]-k[0],b.pixelStart=k[0],b.signal=c.inverse?-1:1),b},singleAxis:function(d,h,k,c,b){var j=k.axis,g=b.model.coordinateSystem.getRect(),f={};return d=d||[0,0],"horizontal"===j.orient?(f.pixel=h[0]-d[0],f.pixelLength=g.width,f.pixelStart=g.x,f.signal=j.inverse?1:-1):(f.pixel=h[1]-d[1],f.pixelLength=g.height,f.pixelStart=g.y,f.signal=j.inverse?-1:1),f}};MU({getTargetSeries:function(a){var b=aj6();return a.eachComponent("dataZoom",function(c){c.eachTargetAxis(function(f,g,e){var d=e.getAxisProxy(f.name,g);aiT(d.getTargetSeriesModels(),function(h){b.set(h.uid,h)})})}),b},modifyOutputEnd:!0,overallReset:function(a,b){a.eachComponent("dataZoom",function(c){c.eachTargetAxis(function(e,f,d){d.getAxisProxy(e.name,f).reset(d,b)}),c.eachTargetAxis(function(e,f,d){d.getAxisProxy(e.name,f).filterData(d,b)})}),a.eachComponent("dataZoom",function(d){var f=d.findRepresentativeAxisProxy(),g=f.getDataPercentWindow(),c=f.getDataValueWindow();d.setRawRange({start:g[0],end:g[1],startValue:c[0],endValue:c[1]},!0)})}}),oJ("dataZoom",function(b,c){var d=xX(aic(c.eachComponent,c,"dataZoom"),X2,function(f,g){return f.get(g.axisIndex)}),a=[];c.eachComponent({mainType:"dataZoom",query:b},function(e){a.push.apply(a,d(e).nodes)}),aiT(a,function(f){f.setRawRange({start:b.start,end:b.end,startValue:b.startValue,endValue:b.endValue})})});var l4=["rect","polygon","keep","clear"],L4=function(d,h){var k=d&&d.brush;if(ai9(k)||(k=k?[k]:[]),k.length){var c=[];aiT(k,function(a){var i=a.hasOwnProperty("toolbox")?a.toolbox:[];i instanceof Array&&(c=c.concat(i))});var b=d&&d.toolbox;ai9(b)&&(b=b[0]),b||(b={feature:{}},d.toolbox=[b]);var j=b.feature||(b.feature={}),g=j.brush||(j.brush={}),f=g.type||(g.type=[]);f.push.apply(f,c),acR(f),h&&!f.length&&f.push.apply(f,l4)}},IK=aiT,J2={lineX:akd(0),lineY:akd(1),rect:{point:function(a,b,c){return a&&c.boundingRect.contain(a[0],a[1])},rect:function(a,b,c){return a&&c.boundingRect.intersect(a)}},polygon:{point:function(a,b,c){return a&&c.boundingRect.contain(a[0],a[1])&&ajV(c.range,a[0],a[1])},rect:function(k,h,d){var g=d.range;if(!k||g.length<=1){return !1}var j=k.x,c=k.y,b=k.width,m=k.height,f=g[0];return ajV(g,j,c)||ajV(g,j+b,c)||ajV(g,j,c+m)||ajV(g,j+b,c+m)||acw.create(k).contain(f[0],f[1])||uY(j,c,j+b,c,g)||uY(j,c,j,c+m,g)||uY(j+b,c,j+b,c+m,g)||uY(j,c+m,j+b,c+m,g)?!0:void 0}}},xt=aiT,aew=aij,rU=aie,s5=["dataToPoint","pointToData"],o0=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],PK=HH.prototype;PK.setOutputRanges=function(a,b){this.matchOutputRanges(a,b,function(d,f,g){if((d.coordRanges||(d.coordRanges=[])).push(f),!d.coordRange){d.coordRange=f;var c=jj[d.brushType](0,g,f);d.__rangeOffset={offset:Et[d.brushType](c.values,d.range,[1,1]),xyMinMax:c.xyMinMax}}})},PK.matchOutputRanges=function(a,b,c){xt(a,function(e){var d=this.findTargetInfo(e,b);d&&d!==!0&&aiT(d.coordSyses,function(g){var f=jj[e.brushType](1,g,e.range);c(e,f.values,g,b)})},this)},PK.setInputRanges=function(a,b){xt(a,function(e){var f=this.findTargetInfo(e,b);if(e.range=e.range||[],f&&f!==!0){e.panelId=f.panelId;var d=jj[e.brushType](0,f.coordSys,e.coordRange),c=e.__rangeOffset;e.range=c?Et[e.brushType](d.values,c.offset,r2(d.xyMinMax,c.xyMinMax)):d.values}},this)},PK.makePanelOpts=function(a,b){return aiu(this._targetInfoList,function(d){var c=d.getPanelRect();return{panelId:d.panelId,defaultBrushType:b&&b(d),clipPath:af5(c),isTargetByCursor:Tt(c,a,d.coordSysModel),getLinearBrushOtherExtent:acy(c)}})},PK.controlSeries=function(b,c,d){var a=this.findTargetInfo(b,d);return a===!0||a&&aew(a.coordSyses,c.coordinateSystem)>=0},PK.findTargetInfo=function(d,g){for(var j=this._targetInfoList,c=v9(g,d),b=0;b<j.length;b++){var h=j[b],f=d.panelId;if(f){if(h.panelId===f){return h}}else{for(var b=0;b<uH.length;b++){if(uH[b](c,h)){return h}}}}return !0};var G8={grid:function(d,h){var k=d.xAxisModels,c=d.yAxisModels,b=d.gridModels,j=aj6(),g={},f={};(k||c||b)&&(xt(k,function(a){var i=a.axis.grid.model;j.set(i.id,i),g[i.id]=!0}),xt(c,function(a){var i=a.axis.grid.model;j.set(i.id,i),f[i.id]=!0}),xt(b,function(a){j.set(a.id,a),g[a.id]=!0,f[a.id]=!0}),j.each(function(i){var e=i.coordinateSystem,l=[];xt(e.getCartesians(),function(a){(aew(k,a.getAxis("x").model)>=0||aew(c,a.getAxis("y").model)>=0)&&l.push(a)}),h.push({panelId:"grid--"+i.id,gridModel:i,coordSysModel:i,coordSys:l[0],coordSyses:l,getPanelRect:Lt.grid,xAxisDeclared:g[i.id],yAxisDeclared:f[i.id]})}))},geo:function(a,b){xt(a.geoModels,function(c){var d=c.coordinateSystem;b.push({panelId:"geo--"+c.id,geoModel:c,coordSysModel:c,coordSys:d,coordSyses:[d],getPanelRect:Lt.geo})})}},uH=[function(d,f){var g=d.xAxisModel,c=d.yAxisModel,b=d.gridModel;return !b&&g&&(b=g.axis.grid.model),!b&&c&&(b=c.axis.grid.model),b&&b===f.gridModel},function(a,b){var c=a.geoModel;return c&&c===b.geoModel}],Lt={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var a=this.coordSys,b=a.getBoundingRect().clone();return b.applyTransform(N1(a)),b}},jj={lineX:rU(ad3,0),lineY:rU(ad3,1),rect:function(d,f,h){var c=f[s5[d]]([h[0][0],h[1][0]]),b=f[s5[d]]([h[0][1],h[1][1]]),g=[I0([c[0],b[0]]),I0([c[1],b[1]])];return{values:g,xyMinMax:g}},polygon:function(d,f,g){var c=[[1/0,-1/0],[1/0,-1/0]],b=aiu(g,function(h){var e=f[s5[d]](h);return c[0][0]=Math.min(c[0][0],e[0]),c[1][0]=Math.min(c[1][0],e[1]),c[0][1]=Math.max(c[0][1],e[0]),c[1][1]=Math.max(c[1][1],e[1]),e});return{values:b,xyMinMax:c}}},Et={lineX:rU(qK,0),lineY:rU(qK,1),rect:function(a,b,c){return[[a[0][0]-c[0]*b[0][0],a[0][1]-c[0]*b[0][1]],[a[1][0]-c[1]*b[1][0],a[1][1]-c[1]*b[1][1]]]},polygon:function(a,b,c){return aiu(a,function(e,d){return[e[0]-c[0]*b[d][0],e[1]-c[1]*b[d][1]]})}},FX=["inBrush","outOfBrush"],hZ="__ecBrushSelect",C1="__ecInBrushSelectEvent",dU=gV.VISUAL.BRUSH;abL(dU,function(a,b,c){a.eachComponent({mainType:"brush"},function(f){c&&"takeGlobalCursor"===c.type&&f.setBrushOption("brush"===c.key?c.brushOption:{brushType:!1});var d=f.brushTargetManager=new HH(f.option,a);d.setInputRanges(f.areas,a)})}),aeK(dU,function(c,f,h){var b,g,d=[];c.eachComponent({mainType:"brush"},function(q,a){function j(e){return"all"===i||C[e]}function D(e){return !!e.length}function o(l,m){var u=l.coordinateSystem;B|=u.hasAxisBrushed(),j(m)&&u.eachActiveState(l.getData(),function(n,v){"active"===n&&(z[v]=1)})}function s(v,l,e){var u=Kj(v);if(u&&!h7(q,l)&&(aiT(t,function(n){u[n.brushType]&&q.brushTargetManager.controlSeries(n,v,c)&&e.push(n),B|=D(e)}),j(l)&&D(e))){var m=v.getData();m.each(function(n){tB(u,e,m,n)&&(z[n]=1)})}}var r={brushId:q.id,brushIndex:a,brushName:q.name,areas:aiO(q.areas),selected:[]};d.push(r);var p=q.option,i=p.brushLink,C=[],z=[],A=[],B=0;a||(b=p.throttleType,g=p.throttleDelay);var t=aiu(q.areas,function(e){return C9(ain({boundingRect:gF[e.brushType](e)},e))}),k=P0(q.option,FX,function(e){e.mappingMethod="fixed"});ai9(i)&&aiT(i,function(e){C[e]=1}),c.eachSeries(function(l,m){var u=A[m]=[];"parallel"===l.subType?o(l,m,u):s(l,m,u)}),c.eachSeries(function(u,w){var y={seriesId:u.id,seriesIndex:w,seriesName:u.name,dataIndex:[]};r.selected.push(y);var m=Kj(u),l=A[w],x=u.getData(),v=j(w)?function(e){return z[e]?(y.dataIndex.push(x.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(e){return tB(m,l,x,e)?(y.dataIndex.push(x.getRawIndex(e)),"inBrush"):"outOfBrush"};(j(w)?B:D(l))&&a7(FX,k,x,v)})}),OG(f,b,g,d,h)});var gF={lineX:ajU,lineY:ajU,rect:function(a){return EU(a.range)},polygon:function(d){for(var f,h=d.range,c=0,b=h.length;b>c;c++){f=f||[[1/0,-1/0],[1/0,-1/0]];var g=h[c];g[0]<f[0][0]&&(f[0][0]=g[0]),g[0]>f[0][1]&&(f[0][1]=g[0]),g[1]<f[1][0]&&(f[1][0]=g[1]),g[1]>f[1][1]&&(f[1][1]=g[1])}return f&&EU(f)}},e4=["#ddd"];YH({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:10000},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(b,c){var d=this.option;!c&&Rj(d,b,["inBrush","outOfBrush"]);var a=d.inBrush=d.inBrush||{};d.outOfBrush=d.outOfBrush||{color:e4},a.hasOwnProperty("liftZ")||(a.liftZ=5)},setAreas:function(a){a&&(this.areas=aiu(a,function(b){return gW(this.option,b)},this))},setBrushOption:function(a){this.brushOption=gW(this.option,a),this.brushType=this.brushOption.brushType}});W6({type:"brush",init:function(a,b){this.ecModel=a,this.api=b,this.model,(this._brushController=new nt(b.getZr())).on("brush",aic(this._onBrush,this)).mount()},render:function(a){return this.model=a,BZ.apply(this,arguments)},updateTransform:BZ,updateView:BZ,dispose:function(){this._brushController.dispose()},_onBrush:function(a,b){var c=this.model.id;this.model.brushTargetManager.setOutputRanges(a,this.ecModel),(!b.isEnd||b.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:c,areas:aiO(a),$from:c})}}),oJ({type:"brush",event:"brush"},function(a,b){b.eachComponent({mainType:"brush",query:a},function(c){c.setAreas(a.areas)})}),oJ({type:"brushSelect",event:"brushSelected",update:"none"},function(){});var ae4={},kQ=afM.toolbox.brush;d2.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:aiO(kQ.title)};var aaW=d2.prototype;aaW.render=aaW.updateView=function(d,f){var g,c,b;f.eachComponent({mainType:"brush"},function(a){g=a.brushType,c=a.brushOption.brushMode||"single",b|=a.areas.length}),this._brushType=g,this._brushMode=c,aiT(d.get("type",!0),function(a){d.setIconStatus(a,("keep"===a?"multiple"===c:"clear"===a?b:a===g)?"emphasis":"normal")})},aaW.getIcons=function(){var a=this.model,b=a.get("icon",!0),c={};return aiT(a.get("type",!0),function(d){b[d]&&(c[d]=b[d])}),c},aaW.onclick=function(d,f,g){var c=this._brushType,b=this._brushMode;"clear"===g?(f.dispatchAction({type:"axisAreaSelect",intervals:[]}),f.dispatchAction({type:"brush",command:"clear",areas:[]})):f.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===g?c:c===g?!1:g,brushMode:"keep"===g?"multiple"===b?"single":"multiple":b}})},cK("brush",d2),w3(L4);var yW=aiT,NF=function(a){var b=a&&a.visualMap;ai9(b)||(b=b?[b]:[]),yW(b,function(c){if(c){aeE(c,"splitList")&&!aeE(c,"pieces")&&(c.pieces=c.splitList,delete c.splitList);var d=c.pieces;d&&ai9(d)&&yW(d,function(e){ajq(e)&&(aeE(e,"start")&&!aeE(e,"min")&&(e.min=e.start),aeE(e,"end")&&!aeE(e,"max")&&(e.max=e.end))})}})};akQ.registerSubTypeDefaulter("visualMap",function(a){return a.categories||(a.pieces?a.pieces.length>0:a.splitNumber>0)&&!a.calculable?"piecewise":"continuous"});var z6=gV.VISUAL.COMPONENT;aeK(z6,{createOnAllSeries:!0,reset:function(a,b){var c=[];return b.eachComponent("visualMap",function(f){var d=a.pipelineContext;!f.isTargetSeries(a)||d&&d.large||c.push(SU(f.stateList,f.targetVisuals,aic(f.getValueState,f),f.getDataDimension(a.getData())))}),c}}),aeK(z6,{createOnAllSeries:!0,reset:function(b,c){var d=b.getData(),a=[];c.eachComponent("visualMap",function(h){if(h.isTargetSeries(b)){var f=h.getVisualMeta(aic(jK,null,b,h))||{stops:[],outerColors:[]},i=h.getDataDimension(d),g=d.getDimensionInfo(i);null!=g&&(f.dimension=g.index,a.push(f))}}),b.getData().setVisual("visualMeta",a)}});var qj={get:function(c,d,f){var b=aiO((XJ[c]||{})[d]);return f&&ai9(b)?b[b.length-1]:b}},XJ={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[0.3,1],inactive:[0,0]},colorLightness:{active:[0.9,0.5],inactive:[0,0]},colorAlpha:{active:[0.3,1],inactive:[0,0]},opacity:{active:[0.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},ahQ=vQ.mapVisual,acx=vQ.eachVisual,aft=ai9,akV=aiT,abW=x8,aaa=Z7,Y0=ajU,adJ=YH({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(a,b,c){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(a,c)},optionUpdated:function(a,b){var c=this.option;B3.canvasSupported||(c.realtime=!1),!b&&Rj(c,a,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(a){var b=this.stateList;a=aic(a,this),this.controllerVisuals=P0(this.option.controller,b,a),this.targetVisuals=P0(this.option.target,b,a)},getTargetSeriesIndices:function(){var a=this.option.seriesIndex,b=[];return null==a||"all"===a?this.ecModel.eachSeries(function(c,d){b.push(d)}):b=sZ(a),b},eachTargetSeries:function(a,b){aiT(this.getTargetSeriesIndices(),function(c){a.call(b,this.ecModel.getSeriesByIndex(c))},this)},isTargetSeries:function(a){var b=!1;return this.eachTargetSeries(function(c){c===a&&(b=!0)}),b},formatValueText:function(m,h,d){function g(a){return a===f[0]?"min":a===f[1]?"max":(+a).toFixed(Math.min(p,20))}var j,c,b=this.option,p=b.precision,f=this.dataBound,k=b.formatter;return d=d||["<",">"],ai9(m)&&(m=m.slice(),j=!0),c=h?m:j?[g(m[0]),g(m[1])]:g(m),ai2(k)?k.replace("{value}",j?c[0]:c).replace("{value2}",j?c[1]:c):aif(k)?j?k(m[0],m[1]):k(m):j?m[0]===f[0]?d[0]+" "+c[1]:m[1]===f[1]?d[1]+" "+c[0]:c[0]+" - "+c[1]:c},resetExtent:function(){var a=this.option,b=abW([a.min,a.max]);this._dataExtent=b},getDataDimension:function(d){var g=this.option.dimension,j=d.dimensions;if(null!=g||j.length){if(null!=g){return d.getDimension(g)}for(var c=d.dimensions,b=c.length-1;b>=0;b--){var h=c[b],f=d.getDimensionInfo(h);if(!f.isCalculationCoord){return h}}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function j(e){aft(a.color)&&!e.inRange&&(e.inRange={color:a.color.slice().reverse()}),e.inRange=e.inRange||{color:b.get("gradientColor")},akV(this.stateList,function(l){var m=e[l];if(ai2(m)){var h=qj.get(m,"active",f);h?(e[l]={},e[l][m]=h):delete e[l]}},this)}function g(m,o,p){var l=m[o],h=m[p];l&&!h&&(h=m[p]={},akV(l,function(q,r){if(vQ.isValidType(r)){var s=qj.get(r,"inactive",f);null!=s&&(h[r]=s,"color"!==r||h.hasOwnProperty("opacity")||h.hasOwnProperty("colorAlpha")||(h.opacity=[0,0]))}}))}function c(l){var m=(l.inRange||{}).symbol||(l.outOfRange||{}).symbol,o=(l.inRange||{}).symbolSize||(l.outOfRange||{}).symbolSize,h=this.get("inactiveColor");akV(this.stateList,function(t){var q=this.itemSize,p=l[t];p||(p=l[t]={color:f?h:[h]}),null==p.symbol&&(p.symbol=m&&aiO(m)||(f?"roundRect":["roundRect"])),null==p.symbolSize&&(p.symbolSize=o&&aiO(o)||(f?q[0]:[q[0],q[0]])),p.symbol=ahQ(p.symbol,function(r){return"none"===r||"square"===r?"roundRect":r});var e=p.symbolSize;if(null!=e){var n=-1/0;acx(e,function(r){r>n&&(n=r)}),p.symbolSize=ahQ(e,function(r){return aaa(r,[0,n],[0,q[0]],!0)})}},this)}var b=this.ecModel,a=this.option,k={inRange:a.inRange,outOfRange:a.outOfRange},d=a.target||(a.target={}),i=a.controller||(a.controller={});ai5(d,k),ai5(i,k);var f=this.isCategory();j.call(this,d),j.call(this,i),g.call(this,d,"inRange","outOfRange"),c.call(this,i)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return !!this.option.categories},setSelected:Y0,getValueState:Y0,getVisualMeta:Y0}),V6=[20,140],af4=adJ.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(){af4.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(a){a.mappingMethod="linear",a.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){af4.superApply(this,"resetItemSize",arguments);var a=this.itemSize;"horizontal"===this._orient&&a.reverse(),(null==a[0]||isNaN(a[0]))&&(a[0]=V6[0]),(null==a[1]||isNaN(a[1]))&&(a[1]=V6[1])},_resetRange:function(){var a=this.getExtent(),b=this.option.range;!b||b.auto?(a.auto=1,this.option.range=a):ai9(b)&&(b[0]>b[1]&&b.reverse(),b[0]=Math.max(b[0],a[0]),b[1]=Math.min(b[1],a[1]))},completeVisualOption:function(){adJ.prototype.completeVisualOption.apply(this,arguments),aiT(this.stateList,function(a){var b=this.option.controller[a].symbolSize;b&&b[0]!==b[1]&&(b[0]=0)},this)},setSelected:function(a){this.option.range=a.slice(),this._resetRange()},getSelected:function(){var a=this.getExtent(),b=x8((this.get("range")||[]).slice());return b[0]>a[1]&&(b[0]=a[1]),b[1]>a[1]&&(b[1]=a[1]),b[0]<a[0]&&(b[0]=a[0]),b[1]<a[0]&&(b[1]=a[0]),b},getValueState:function(a){var b=this.option.range,c=this.getExtent();return(b[0]<=c[0]||b[0]<=a)&&(b[1]>=c[1]||a<=b[1])?"inRange":"outOfRange"},findTargetDataIndices:function(a){var b=[];return this.eachTargetSeries(function(e){var d=[],c=e.getData();c.each(this.getDataDimension(c),function(f,g){a[0]<=f&&f<=a[1]&&d.push(g)},this),b.push({seriesId:e.id,dataIndex:d})},this),b},getVisualMeta:function(q){function k(a,h){m.push({value:a,color:q(a,h)})}for(var d=aau(this,"outOfRange",this.getExtent()),g=aau(this,"inRange",this.option.range.slice()),m=[],c=0,b=0,v=g.length,f=d.length;f>b&&(!g.length||d[b]<=g[0]);b++){d[b]<g[c]&&k(d[b],"outOfRange")}for(var p=1;v>c;c++,p=0){p&&m.length&&k(g[c],"outOfRange"),k(g[c],"inRange")}for(var p=1;f>b;b++){(!g.length||g[g.length-1]<d[b])&&(p&&(m.length&&k(m[m.length-1].value,"outOfRange"),p=0),k(d[b],"outOfRange"))}var j=m.length;return{stops:m,outerColors:[j?m[0].color:"transparent",j?m[j-1].color:"transparent"]}}}),ajH=W6({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(a,b){this.ecModel=a,this.api=b,this.visualMapModel},render:function(a){return this.visualMapModel=a,a.get("show")===!1?void this.group.removeAll():void this.doRender.apply(this,arguments)},renderBackground:function(b){var c=this.visualMapModel,d=dG(c.get("padding")||0),a=b.getBoundingRect();b.add(new agM({z2:-1,silent:!0,shape:{x:a.x-d[3],y:a.y-d[0],width:a.width+d[3]+d[1],height:a.height+d[0]+d[2]},style:{fill:c.get("backgroundColor"),stroke:c.get("borderColor"),lineWidth:c.get("borderWidth")}}))},getControllerVisual:function(q,k,d){function g(a){return v[a]}function m(a,h){v[a]=h}d=d||{};var c=d.forceState,b=this.visualMapModel,v={};if("symbol"===k&&(v.symbol=b.get("itemSymbol")),"color"===k){var f=b.get("contentColor");v.color=f}var p=b.controllerVisuals[c||b.getValueState(q)],j=vQ.prepareVisualTypes(p);return aiT(j,function(e){var a=p[e];d.convertOpacityToAlpha&&"opacity"===e&&(e="colorAlpha",a=p.__alphaForOpacity),vQ.dependsOn(e,k)&&a&&a.applyVisual(q,g,m)}),v[k]},positionGroup:function(a){var b=this.visualMapModel,c=this.api;tX(a,b.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()})},doRender:ajU}),aiG=Z7,ahg=aiT,abl=Math.min,agF=Math.max,ac8=12,UV=6,QJ=ajH.extend({type:"visualMap.continuous",init:function(){QJ.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(b,c,d,a){a&&"selectDataRange"===a.type&&a.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var a=this.visualMapModel,b=this.group;this._orient=a.get("orient"),this._useHandle=a.get("calculable"),this._resetInterval(),this._renderBar(b);var c=a.get("text");this._renderEndsText(b,c,0),this._renderEndsText(b,c,1),this._updateView(!0),this.renderBackground(b),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(b)},_renderEndsText:function(w,m,f){if(m){var j=m[1-f];j=null!=j?j+"":"";var q=this.visualMapModel,d=q.get("textGap"),b=q.itemSize,x=this._shapes.barGroup,g=this._applyTransform([b[0]/2,0===f?-d:b[1]+d],x),v=this._applyTransform(0===f?"bottom":"top",x),k=this._orient,p=this.visualMapModel.textStyleModel;this.group.add(new ab3({style:{x:g[0],y:g[1],textVerticalAlign:"horizontal"===k?"middle":v,textAlign:"horizontal"===k?v:"center",text:j,textFont:p.getFont(),textFill:p.getTextColor()}}))}},_renderBar:function(m){var h=this.visualMapModel,d=this._shapes,g=h.itemSize,j=this._orient,c=this._useHandle,b=xU(h,this.api,g),p=d.barGroup=this._createBarGroup(b);p.add(d.outOfRange=y4()),p.add(d.inRange=y4(null,c?aeI(this._orient):null,aic(this._dragHandle,this,"all",!1),aic(this._dragHandle,this,"all",!0)));var f=h.textStyleModel.getTextRect("国"),k=agF(f.width,f.height);c&&(d.handleThumbs=[],d.handleLabels=[],d.handleLabelPoints=[],this._createHandle(p,0,g,k,j,b),this._createHandle(p,1,g,k,j,b)),this._createIndicator(p,g,k,j),m.add(p)},_createHandle:function(w,m,f,j,q){var d=aic(this._dragHandle,this,m,!1),b=aic(this._dragHandle,this,m,!0),x=y4(o8(m,j),aeI(this._orient),d,b);x.position[0]=f[0],w.add(x);var g=this.visualMapModel.textStyleModel,v=new ab3({draggable:!0,drift:d,onmousemove:function(a){ai8(a.event)},ondragend:b,style:{x:0,y:0,text:"",textFont:g.getFont(),textFill:g.getTextColor()}});this.group.add(v);var k=["horizontal"===q?j/2:1.5*j,"horizontal"===q?0===m?-(1.5*j):1.5*j:0===m?-j/2:j/2],p=this._shapes;p.handleThumbs[m]=x,p.handleLabelPoints[m]=k,p.handleLabels[m]=v},_createIndicator:function(k,h,d,g){var j=y4([[0,0]],"move");j.position[0]=h[0],j.attr({invisible:!0,silent:!0}),k.add(j);var c=this.visualMapModel.textStyleModel,b=new ab3({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:c.getFont(),textFill:c.getTextColor()}});this.group.add(b);var m=["horizontal"===g?d/2:UV+3,0],f=this._shapes;f.indicator=j,f.indicatorLabel=b,f.indicatorLabelPoint=m},_dragHandle:function(d,f,g,c){if(this._useHandle){if(this._dragging=!f,!f){var b=this._applyTransform([g,c],this._shapes.barGroup,!0);this._updateInterval(d,b[1]),this._updateView()}f===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),f?!this._hovering&&this._clearHoverLinkToSeries():abJ(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[d],!1)}},_resetInterval:function(){var b=this.visualMapModel,c=this._dataInterval=b.getSelected(),d=b.getExtent(),a=[0,b.itemSize[1]];this._handleEnds=[aiG(c[0],d,a,!0),aiG(c[1],d,a,!0)]},_updateInterval:function(d,f){f=f||0;var h=this.visualMapModel,c=this._handleEnds,b=[0,h.itemSize[1]];bt(f,c,b,d,0);var g=h.getExtent();this._dataInterval=[aiG(c[0],b,g,!0),aiG(c[1],b,g,!0)]},_updateView:function(d){var h=this.visualMapModel,k=h.getExtent(),c=this._shapes,b=[0,h.itemSize[1]],j=d?b:this._handleEnds,g=this._createBarVisual(this._dataInterval,k,j,"inRange"),f=this._createBarVisual(k,k,b,"outOfRange");c.inRange.setStyle({fill:g.barColor,opacity:g.opacity}).setShape("points",g.barPoints),c.outOfRange.setStyle({fill:f.barColor,opacity:f.opacity}).setShape("points",f.barPoints),this._updateHandle(j,g)},_createBarVisual:function(d,h,k,c){var b={forceState:c,convertOpacityToAlpha:!0},j=this._makeColorGradient(d,b),g=[this.getControllerVisual(d[0],"symbolSize",b),this.getControllerVisual(d[1],"symbolSize",b)],f=this._createBarPoints(k,g);return{barColor:new akB(0,0,0,1,j),barPoints:f,handlesColor:[j[0].color,j[j.length-1].color]}},_makeColorGradient:function(d,g){var j=100,c=[],b=(d[1]-d[0])/j;c.push({color:this.getControllerVisual(d[0],"color",g),offset:0});for(var h=1;j>h;h++){var f=d[0]+b*h;if(f>d[1]){break}c.push({color:this.getControllerVisual(f,"color",g),offset:h/j})}return c.push({color:this.getControllerVisual(d[1],"color",g),offset:1}),c},_createBarPoints:function(a,b){var c=this.visualMapModel.itemSize;return[[c[0]-b[0],a[0]],[c[0],a[0]],[c[0],a[1]],[c[0]-b[1],a[1]]]},_createBarGroup:function(a){var b=this._orient,c=this.visualMapModel.get("inverse");return new jG("horizontal"!==b||c?"horizontal"===b&&c?{scale:"bottom"===a?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==b||c?{scale:"left"===a?[1,1]:[-1,1]}:{scale:"left"===a?[1,-1]:[-1,-1]}:{scale:"bottom"===a?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(d,f){if(this._useHandle){var h=this._shapes,c=this.visualMapModel,b=h.handleThumbs,g=h.handleLabels;ahg([0,1],function(i){var e=b[i];e.setStyle("fill",f.handlesColor[i]),e.position[1]=d[i];var a=E8(h.handleLabelPoints[i],N1(e,this.group));g[i].setStyle({x:a[0],y:a[1],text:c.formatValueText(this._dataInterval[i]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===i?"bottom":"top":"left",h.barGroup)})},this)}},_showIndicator:function(G,B,q,x){var E=this.visualMapModel,k=E.getExtent(),b=E.itemSize,H=[0,b[1]],w=aiG(G,k,H,!0),F=this._shapes,y=F.indicator;if(y){y.position[1]=w,y.attr("invisible",!1),y.setShape("points",VQ(!!q,x,w,b[1]));var D={convertOpacityToAlpha:!0},C=this.getControllerVisual(G,"color",D);y.setStyle("fill",C);var A=E8(F.indicatorLabelPoint,N1(y,this.group)),j=F.indicatorLabel;j.attr("invisible",!1);var z=this._applyTransform("left",F.barGroup),v=this._orient;j.setStyle({text:(q?q:"")+E.formatValueText(B),textVerticalAlign:"horizontal"===v?z:"middle",textAlign:"horizontal"===v?"center":z,x:A[0],y:A[1]})}},_enableHoverLinkToSeries:function(){var a=this;this._shapes.barGroup.on("mousemove",function(c){if(a._hovering=!0,!a._dragging){var d=a.visualMapModel.itemSize,b=a._applyTransform([c.offsetX,c.offsetY],a._shapes.barGroup,!0,!0);b[1]=abl(agF(0,b[1]),d[1]),a._doHoverLinkToSeries(b[1],0<=b[0]&&b[0]<=d[0])}}).on("mouseout",function(){a._hovering=!1,!a._dragging&&a._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var a=this.api.getZr();this.visualMapModel.option.hoverLink?(a.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),a.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(y,p){var g=this.visualMapModel,k=g.itemSize;if(g.option.hoverLink){var w=[0,k[1]],f=g.getExtent();y=abl(agF(w[0],y),w[1]);var b=ag3(g,f,w),z=[y-b,y+b],j=aiG(y,w,f,!0),x=[aiG(z[0],w,f,!0),aiG(z[1],w,f,!0)];z[0]<w[0]&&(x[0]=-1/0),z[1]>w[1]&&(x[1]=1/0),p&&(x[0]===-1/0?this._showIndicator(j,x[1],"< ",b):1/0===x[1]?this._showIndicator(j,x[0],"> ",b):this._showIndicator(j,j,"≈ ",b));var m=this._hoverLinkDataIndices,v=[];(p||abJ(g))&&(v=this._hoverLinkDataIndices=g.findTargetDataIndices(x));var q=eY(m,v);this._dispatchHighDown("downplay",M5(q[0])),this._dispatchHighDown("highlight",M5(q[1]))}},_hoverLinkFromSeriesMouseOver:function(d){var f=d.target,h=this.visualMapModel;if(f&&null!=f.dataIndex){var c=this.ecModel.getSeriesByIndex(f.seriesIndex);if(h.isTargetSeries(c)){var b=c.getData(f.dataType),g=b.get(h.getDataDimension(b),f.dataIndex,!0);isNaN(g)||this._showIndicator(g,g)}}},_hideIndicator:function(){var a=this._shapes;a.indicator&&a.indicator.attr("invisible",!0),a.indicatorLabel&&a.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var a=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",M5(a)),a.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var a=this.api.getZr();a.off("mouseover",this._hoverLinkFromSeriesMouseOver),a.off("mouseout",this._hideIndicator)},_applyTransform:function(d,f,g,c){var b=N1(f,c?null:this.group);return rG[ai9(d)?"applyTransform":"transformDirection"](d,b,g)},_dispatchHighDown:function(a,b){b&&b.length&&this.api.dispatchAction({type:a,batch:b})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}}),R0={type:"selectDataRange",event:"dataRangeSelected",update:"update"};oJ(R0,function(a,b){b.eachComponent({mainType:"visualMap",query:a},function(c){c.setSelected(a.selected)})}),w3(NF);var bB=adJ.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(c,d){bB.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var f=this._mode=this._determineMode();Tq[this._mode].call(this),this._resetSelected(c,d);var b=this.option.categories;this.resetVisual(function(a,g){"categories"===f?(a.mappingMethod="category",a.categories=aiO(b)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=aiu(this._pieceList,function(e){var e=aiO(e);return"inRange"!==g&&(e.visual=null),e}))})},completeVisualOption:function(){function d(a,h,i){return a&&a[h]&&(ajq(a[h])?a[h].hasOwnProperty(i):a[h]===i)}var f=this.option,g={},c=vQ.listVisualTypes(),b=this.isCategory();aiT(f.pieces,function(a){aiT(c,function(h){a.hasOwnProperty(h)&&(g[h]=1)})}),aiT(g,function(h,a){var e=0;aiT(this.stateList,function(i){e|=d(f,i,a)||d(f.target,i,a)},this),!e&&aiT(this.stateList,function(i){(f[i]||(f[i]={}))[a]=qj.get(a,"inRange"===i?"active":"inactive",b)})},this),adJ.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(d,f){var h=this.option,c=this._pieceList,b=(f?h:d).selected||{};if(h.selected=b,aiT(c,function(a){var i=this.getSelectedMapKey(a);b.hasOwnProperty(i)||(b[i]=!0)},this),"single"===h.selectedMode){var g=!1;aiT(c,function(a){var i=this.getSelectedMapKey(a);b[i]&&(g?b[i]=!1:g=!0)},this)}},getSelectedMapKey:function(a){return"categories"===this._mode?a.value+"":a.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var a=this.option;return a.pieces&&a.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(a){this.option.selected=aiO(a)},getValueState:function(a){var b=vQ.findPieceIndex(a,this._pieceList);return null!=b&&this.option.selected[this.getSelectedMapKey(this._pieceList[b])]?"inRange":"outOfRange"},findTargetDataIndices:function(a){var b=[];return this.eachTargetSeries(function(e){var d=[],c=e.getData();c.each(this.getDataDimension(c),function(g,h){var f=vQ.findPieceIndex(g,this._pieceList);f===a&&d.push(h)},this),b.push({seriesId:e.id,dataIndex:d})},this),b},getRepresentValue:function(a){var b;if(this.isCategory()){b=a.value}else{if(null!=a.value){b=a.value}else{var c=a.interval||[];b=c[0]===-1/0&&1/0===c[1]?0:(c[0]+c[1])/2}}return b},getVisualMeta:function(d){function h(l,m){var i=b.getRepresentValue({interval:l});m||(m=b.getValueState(i));var a=d(i,m);l[0]===-1/0?c[0]=a:1/0===l[1]?c[1]=a:k.push({value:l[0],color:a},{value:l[1],color:a})}if(!this.isCategory()){var k=[],c=[],b=this,j=this._pieceList.slice();if(j.length){var g=j[0].interval[0];g!==-1/0&&j.unshift({interval:[-1/0,g]}),g=j[j.length-1].interval[1],1/0!==g&&j.push({interval:[g,1/0]})}else{j.push({interval:[-1/0,1/0]})}var f=-1/0;return aiT(j,function(a){var e=a.interval;e&&(e[0]>f&&h([f,e[0]],"outOfRange"),h(e.slice()),f=e[1])},this),{stops:k,outerColors:c}}}}),Tq={splitNumber:function(){var m=this.option,h=this._pieceList,d=Math.min(m.precision,20),g=this.getExtent(),j=m.splitNumber;j=Math.max(parseInt(j,10),1),m.splitNumber=j;for(var c=(g[1]-g[0])/j;+c.toFixed(d)!==c&&5>d;){d++}m.precision=d,c=+c.toFixed(d);var b=0;m.minOpen&&h.push({index:b++,interval:[-1/0,g[0]],close:[0,0]});for(var p=g[0],f=b+j;f>b;p+=c){var k=b===j-1?g[1]:p+c;h.push({index:b++,interval:[p,k],close:[1,1]})}m.maxOpen&&h.push({index:b++,interval:[g[1],1/0],close:[0,0]}),afm(h),aiT(h,function(a){a.text=this.formatValueText(a.interval)},this)},categories:function(){var a=this.option;aiT(a.categories,function(b){this._pieceList.push({text:this.formatValueText(b,!0),value:b})},this),akh(a,this._pieceList)},pieces:function(){var a=this.option,b=this._pieceList;aiT(a.pieces,function(x,g){ajq(x)||(x={value:x});var k={text:"",index:g};if(null!=x.label&&(k.text=x.label),x.hasOwnProperty("value")){var v=k.value=x.value;k.interval=[v,v],k.close=[1,1]}else{for(var f=k.interval=[],e=k.close=[0,0],y=[1,0,1],j=[-1/0,1/0],w=[],m=0;2>m;m++){for(var q=[["gte","gt","min"],["lte","lt","max"]][m],p=0;3>p&&null==f[m];p++){f[m]=x[q[p]],e[m]=y[p],w[m]=2===p}null==f[m]&&(f[m]=j[m])}w[0]&&1/0===f[1]&&(e[0]=0),w[1]&&f[0]===-1/0&&(e[1]=0),f[0]===f[1]&&e[0]&&e[1]&&(k.value=f[0])}k.visual=vQ.retrieveVisuals(x),b.push(k)},this),akh(a,b),afm(b),aiT(b,function(c){var d=c.close,f=[["<","≤"][d[1]],[">","≥"][d[0]]];c.text=c.text||this.formatValueText(null!=c.value?c.value:c.interval,!1,f)},this)}};ajH.extend({type:"visualMap.piecewise",doRender:function(){function w(i){var c=i.piece,e=new jG;e.onclick=aic(this._onItemClick,this,c),this._enableHoverLink(e,i.indexInModelPieceList);var l=f.getRepresentValue(c);if(this._createItemSymbol(e,l,[0,0,g[0],g[1]]),p){var n=this.visualMapModel.getValueState(l);e.add(new ab3({style:{x:"right"===x?-j:g[0]+j,y:g[1]/2,text:c.text,textVerticalAlign:"middle",textAlign:x,textFont:d,textFill:b,opacity:"outOfRange"===n?0.5:1}}))}m.add(e)}var m=this.group;m.removeAll();var f=this.visualMapModel,j=f.get("textGap"),q=f.textStyleModel,d=q.getFont(),b=q.getTextColor(),x=this._getItemAlign(),g=f.itemSize,v=this._getViewData(),k=v.endsText,p=aj0(f.get("showLabel",!0),!k);k&&this._renderEndsText(m,k[0],g,p,x),aiT(v.viewPieceList,w,this),k&&this._renderEndsText(m,k[1],g,p,x),ahH(f.get("orient"),m,f.get("itemGap")),this.renderBackground(m),this.positionGroup(m)},_enableHoverLink:function(a,b){function c(d){var e=this.visualMapModel;e.option.hoverLink&&this.api.dispatchAction({type:d,batch:M5(e.findTargetDataIndices(b))})}a.on("mouseover",aic(c,this,"highlight")).on("mouseout",aic(c,this,"downplay"))},_getItemAlign:function(){var a=this.visualMapModel,b=a.option;if("vertical"===b.orient){return xU(a,this.api,a.itemSize)}var c=b.align;return c&&"auto"!==c||(c="left"),c},_renderEndsText:function(d,g,j,c,b){if(g){var h=new jG,f=this.visualMapModel.textStyleModel;h.add(new ab3({style:{x:c?"right"===b?j[0]:0:j[0]/2,y:j[1]/2,textVerticalAlign:"middle",textAlign:c?b:"center",text:g,textFont:f.getFont(),textFill:f.getTextColor()}})),d.add(h)}},_getViewData:function(){var d=this.visualMapModel,f=aiu(d.getPieceList(),function(a,h){return{piece:a,indexInModelPieceList:h}}),g=d.get("text"),c=d.get("orient"),b=d.get("inverse");return("horizontal"===c?b:!b)?f.reverse():g&&(g=g.slice().reverse()),{viewPieceList:f,endsText:g}},_createItemSymbol:function(a,b,c){a.add(TQ(this.getControllerVisual(b,"symbol"),c[0],c[1],c[2],c[3],this.getControllerVisual(b,"color")))},_onItemClick:function(c){var d=this.visualMapModel,g=d.option,b=aiO(g.selected),f=d.getSelectedMapKey(c);"single"===g.selectedMode?(b[f]=!0,aiT(b,function(a,h){b[h]=h===f})):b[f]=!b[f],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:b})}});w3(NF);var aku=YH({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){aku.superApply(this,"optionUpdated",arguments),aiT(this.option.feature,function(a,b){var c=ft(b);c&&ai5(a,c.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}}}});W6({type:"toolbox",render:function(q,k,d,g){function m(e,l){var h,u=j[e],t=j[l],n=f[u],o=new f0(n,q,q.ecModel);if(u&&!t){if(aa8(u)){h={model:o,onclick:o.option.onclick,featureName:u}}else{var i=ft(u);if(!i){return}h=new i(o,k,d)}p[u]=h}else{if(h=p[t],!h){return}h.model=o,h.ecModel=k,h.api=d}return !u&&t?void (h.dispose&&h.dispose(k,d)):!o.get("show")||h.unusable?void (h.remove&&h.remove(k,d)):(c(o,h,u),o.setIconStatus=function(r,s){var w=this.option,a=this.iconPaths;w.iconStatus=w.iconStatus||{},w.iconStatus[r]=s,a[r]&&a[r].trigger(s)},void (h.render&&h.render(o,k,d,g)))}function c(s,z,n){var r=s.getModel("iconStyle"),A=s.getModel("emphasis.iconStyle"),t=z.getIcons?z.getIcons():s.get("icon"),y=s.get("title")||{};if("string"==typeof t){var x=t,e=y;t={},y={},t[n]=x,y[n]=e}var w=s.iconPaths={};aiT(t,function(l,a){var i=DX(l,{},{x:-v/2,y:-v/2,width:v,height:v});i.setStyle(r.getItemStyle()),i.hoverStyle=A.getItemStyle(),aQ(i),q.get("showTitle")&&(i.__title=y[a],i.on("mouseover",function(){var h=A.getItemStyle();i.setStyle({text:y[a],textPosition:h.textPosition||"bottom",textFill:h.fill||h.stroke||"#000",textAlign:h.textAlign||"center"})}).on("mouseout",function(){i.setStyle({textFill:null})})),i.trigger(s.get("iconStatus."+a)||"normal"),b.add(i),i.on("click",aic(z.onclick,z,k,d,a)),w[a]=i})}var b=this.group;if(b.removeAll(),q.get("show")){var v=+q.get("itemSize"),f=q.get("feature")||{},p=this._features||(this._features={}),j=[];aiT(f,function(a,h){j.push(h)}),new aaA(this._featureNames||[],j).add(m).update(m).remove(aie(m,null)).execute(),this._featureNames=j,aeH(b,q,d),b.add(akg(b.getBoundingRect(),q)),b.eachChild(function(x){var z=x.__title,w=x.hoverStyle;if(w&&z){var r=N2(z,wZ(w)),A=x.position[0]+b.position[0],n=x.position[1]+b.position[1]+v,s=!1;n+r.height>d.getHeight()&&(w.textPosition="top",s=!0);var y=s?-5-r.height:v+8;A+r.width/2>d.getWidth()?(w.textPosition=["100%",y],w.textAlign="right"):A-r.width/2<0&&(w.textPosition=[0,y],w.textAlign="left")}})}},updateView:function(b,c,d,a){aiT(this._features,function(e){e.updateView&&e.updateView(e.model,c,d,a)})},remove:function(a,b){aiT(this._features,function(c){c.remove&&c.remove(a,b)}),this.group.removeAll()},dispose:function(a,b){aiT(this._features,function(c){c.dispose&&c.dispose(a,b)})}});var m3=afM.toolbox.saveAsImage;YF.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:m3.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:m3.lang.slice()},YF.prototype.unusable=!B3.canvasSupported;var vG=YF.prototype;vG.onclick=function(C,x){var k=this.model,q=k.get("name")||C.get("title.0.text")||"echarts",A=document.createElement("a"),j=k.get("type",!0)||"png";A.download=q+"."+j,A.target="_blank";var b=x.getConnectedDataURL({type:j,backgroundColor:k.get("backgroundColor",!0)||C.get("backgroundColor")||"#fff",excludeComponents:k.get("excludeComponents"),pixelRatio:k.get("pixelRatio")});if(A.href=b,"function"!=typeof MouseEvent||B3.browser.ie||B3.browser.edge){if(window.navigator.msSaveOrOpenBlob){for(var D=atob(b.split(",")[1]),m=D.length,B=new Uint8Array(m);m--;){B[m]=D.charCodeAt(m)}var v=new Blob([B]);window.navigator.msSaveOrOpenBlob(v,q+"."+j)}else{var z=k.get("lang"),y='<body style="margin:0;"><img src="'+b+'" style="max-width:100%;" title="'+(z&&z[0]||"")+'" /></body>',w=window.open();w.document.write(y)}}else{var g=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});A.dispatchEvent(g)}},cK("saveAsImage",YF);var A5=afM.toolbox.magicType;W4.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:aiO(A5.title),option:{},seriesIndex:{}};var lK=W4.prototype;lK.getIcons=function(){var a=this.model,b=a.get("icon"),c={};return aiT(a.get("type"),function(d){b[d]&&(c[d]=b[d])}),c};var L0={line:function(b,c,d,a){return"bar"===b?ai5({id:c,type:"line",data:d.get("data"),stack:d.get("stack"),markPoint:d.get("markPoint"),markLine:d.get("markLine")},a.get("option.line")||{},!0):void 0},bar:function(b,c,d,a){return"line"===b?ai5({id:c,type:"bar",data:d.get("data"),stack:d.get("stack"),markPoint:d.get("markPoint"),markLine:d.get("markLine")},a.get("option.bar")||{},!0):void 0},stack:function(b,c,d,a){return"line"===b||"bar"===b?ai5({id:c,stack:"__ec_magicType_stack__"},a.get("option.stack")||{},!0):void 0},tiled:function(b,c,d,a){return"line"===b||"bar"===b?ai5({id:c,stack:""},a.get("option.tiled")||{},!0):void 0}},H6=[["line","bar"],["stack","tiled"]];lK.onclick=function(d,g,j){var c=this.model,b=c.get("seriesIndex."+j);if(L0[j]){var h={series:[]},f=function(s){var w=s.subType,i=s.id,m=L0[j](w,i,s,c);m&&(ain(m,s.option),h.series.push(m));var x=s.coordinateSystem;if(x&&"cartesian2d"===x.type&&("line"===j||"bar"===j)){var n=x.getAxesByScale("ordinal")[0];if(n){var v=n.dim,t=v+"Axis",q=d.queryComponents({mainType:t,index:s.get(name+"Index"),id:s.get(name+"Id")})[0],k=q.componentIndex;h[t]=h[t]||[];for(var o=0;k>=o;o++){h[t][k]=h[t][k]||{}}h[t][k].boundaryGap="bar"===j}}};aiT(H6,function(a){aij(a,j)>=0&&aiT(a,function(e){c.setIconStatus(e,"normal")})}),c.setIconStatus(j,"emphasis"),d.eachComponent({mainType:"series",query:null==b?null:{seriesIndex:b}},f),g.dispatchAction({type:"changeMagicType",currentType:j,newOption:h})}},oJ({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,b){b.mergeOption(a.newOption)}),cK("magicType",W4);var JJ=afM.toolbox.dataView,w0=new Array(60).join("-"),aek="    ",q8=new RegExp("["+aek+"]+","g");SY.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:aiO(JJ.title),lang:aiO(JJ.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},SY.prototype.onclick=function(w,K){function D(){G.removeChild(C),j._dom=null}var G=K.getDom(),N=this.model;this._dom&&G.removeChild(this._dom);var C=document.createElement("div");C.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",C.style.backgroundColor=N.get("backgroundColor")||"#fff";var A=document.createElement("h4"),z=N.get("lang")||[];A.innerHTML=z[0]||N.get("title"),A.style.cssText="margin: 10px 20px;",A.style.color=N.get("textColor");var F=document.createElement("div"),q=document.createElement("textarea");F.style.cssText="display:block;width:100%;overflow:auto;";var H=N.get("optionToContent"),M=N.get("contentToOption"),L=aik(w);if("function"==typeof H){var J=H(K.getOption());"string"==typeof J?F.innerHTML=J:ajo(J)&&F.appendChild(J)}else{F.appendChild(q),q.readOnly=N.get("readOnly"),q.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",q.style.color=N.get("textColor"),q.style.borderColor=N.get("textareaBorderColor"),q.style.backgroundColor=N.get("textareaColor"),q.value=L.value}var B=L.meta,I=document.createElement("div");I.style.cssText="position:absolute;bottom:0;left:0;right:0;";var E="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",k=document.createElement("div"),b=document.createElement("div");E+=";background-color:"+N.get("buttonColor"),E+=";color:"+N.get("buttonTextColor");var j=this;agf(k,"click",D),agf(b,"click",function(){var c;try{c="function"==typeof M?M(F,K.getOption()):ack(q.value,B)}catch(a){throw D(),new Error("Data view format error "+a)}c&&K.dispatchAction({type:"changeDataView",newOption:c}),D()}),k.innerHTML=z[1],b.innerHTML=z[2],b.style.cssText=E,k.style.cssText=E,!N.get("readOnly")&&I.appendChild(b),I.appendChild(k),agf(q,"keydown",function(c){if(9===(c.keyCode||c.which)){var d=this.value,f=this.selectionStart,a=this.selectionEnd;this.value=d.substring(0,f)+aek+d.substring(a),this.selectionStart=this.selectionEnd=f+1,ai8(c)}}),C.appendChild(A),C.appendChild(F),C.appendChild(I),F.style.height=G.clientHeight-80+"px",G.appendChild(C),this._dom=C},SY.prototype.remove=function(a,b){this._dom&&b.getDom().removeChild(this._dom)},SY.prototype.dispose=function(a,b){this.remove(a,b)},cK("dataView",SY),oJ({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,b){var c=[];aiT(a.newOption.series,function(f){var e=b.getSeriesByName(f.name)[0];if(e){var d=e.get("data");c.push({name:f.name,data:OQ(f.data,d)})}else{c.push(aip({type:"scatter"},f))}}),b.mergeOption(ain({series:c},a.newOption))});var sQ=aiT,oF="\x00_ec_hist_store";aam.extend({type:"dataZoom.select"}),Zt.extend({type:"dataZoom.select"});var O6=afM.toolbox.dataZoom,GW=aiT,t4="\x00_ec_\x00toolbox-dataZoom_";tJ.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:aiO(O6.title)};var K0=tJ.prototype;K0.render=function(b,c,d,a){this.model=b,this.ecModel=c,this.api=d,KF(b,c,this,a,d),jV(b,c)},K0.onclick=function(a,b,c){iY[c].call(this)},K0.remove=function(){this._brushController.unmount()},K0.dispose=function(){this._brushController.dispose()};var iY={zoom:function(){var a=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:a})},back:function(){this._dispatchZoomAction(aB(this.ecModel))}};K0._onBrush=function(d,g){function j(k,p,q){var o=p.getAxis(k),m=o.model,a=c(k,m,h),i=a.findRepresentativeAxisProxy(m).getMinMaxSpan();(null!=i.minValueSpan||null!=i.maxValueSpan)&&(q=bt(0,q.slice(),o.scale.getExtent(),0,i.minValueSpan,i.maxValueSpan)),a&&(b[a.id]={dataZoomId:a.id,startValue:q[0],endValue:q[1]})}function c(k,l,m){var a;return m.eachComponent({mainType:"dataZoom",subType:"select"},function(i){var e=i.getAxisModel(k,l.componentIndex);e&&(a=i)}),a}if(g.isEnd&&d.length){var b={},h=this.ecModel;this._brushController.updateCovers([]);var f=new HH(y8(this.model.option),h,{include:["grid"]});f.matchOutputRanges(d,h,function(m,n,l){if("cartesian2d"===l.type){var k=m.brushType;"rect"===k?(j("x",l,n[0]),j("y",l,n[1])):j({lineX:"x",lineY:"y"}[k],l,n)}}),P4(h,b),this._dispatchZoomAction(b)}},K0._dispatchZoomAction=function(a){var b=[];GW(a,function(c){b.push(aiO(c))}),b.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:b})},cK("dataZoom",tJ),w3(function(d){function f(j,k){if(k){var i=j+"Index",l=k[i];null==l||"all"===l||ai9(l)||(l=l===!1||"none"===l?[]:[l]),h(j,function(m,o){if(null==l||"all"===l||-1!==aij(l,o)){var a={type:"select",$fromToolbox:!0,id:t4+j+o};a[i]=o,c.push(a)}})}}function h(j,k){var a=d[j];ai9(a)||(a=a?[a]:[]),GW(a,k)}if(d){var c=d.dataZoom||(d.dataZoom=[]);ai9(c)||(d.dataZoom=c=[c]);var b=d.toolbox;if(b&&(ai9(b)&&(b=b[0]),b&&b.feature)){var g=b.feature.dataZoom;f("xAxis",g),f("yAxis",g)}}});var D0=afM.toolbox.restore;F9.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:D0.title};var Fq=F9.prototype;Fq.onclick=function(a,b){RB(a),b.dispatchAction({type:"restore",from:this.uid})},cK("restore",F9),oJ({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,b){b.resetOption("recreate")}),w3(function(a){var b=a.graphic;ai9(b)?a.graphic=b[0]&&b[0].elements?[a.graphic[0]]:[{elements:b}]:b&&!b.elements&&(a.graphic=[{elements:[b]}])});var hB=YH({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(){var a=this.option.elements;this.option.elements=null,hB.superApply(this,"mergeOption",arguments),this.option.elements=a},optionUpdated:function(k,h){var d=this.option,g=(h?d:k).elements,j=d.elements=h?[]:d.elements,c=[];this._flatten(g,c);var b=D6(j,c);f8(b);var m=this._elOptionsToUpdate=[];aiT(b,function(a,i){var l=a.option;l&&(m.push(l),qV(a,l),mH(j,i,l),NV(j[i],l))},this);for(var f=j.length-1;f>=0;f--){null==j[f]?j.splice(f,1):delete j[f].$action}},_flatten:function(a,b,c){aiT(a,function(e){if(e){c&&(e.parentOption=c),b.push(e);var d=e.children;"group"===e.type&&d&&this._flatten(d,b,e),delete e.children}},this)},useElOptionsToUpdate:function(){var a=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,a}});W6({type:"graphic",init:function(){this._elMap=aj6(),this._lastGraphicModel},render:function(a,b,c){a!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=a,this._updateElements(a),this._relocate(a,c)},_updateElements:function(b){var c=b.useElOptionsToUpdate();if(c){var d=this._elMap,a=this.group;aiT(c,function(k){var n=k.$action,g=k.id,f=d.get(g),q=k.parentId,i=null!=q?d.get(q):a,p=k.style;"text"===k.type&&p&&(k.hv&&k.hv[1]&&(p.textVerticalAlign=p.textBaseline=null),!p.hasOwnProperty("textFill")&&p.fill&&(p.textFill=p.fill),!p.hasOwnProperty("textStroke")&&p.stroke&&(p.textStroke=p.stroke));var j=adw(k);n&&"merge"!==n?"replace"===n?(u2(f,d),HQ(g,i,j,d)):"remove"===n&&u2(f,d):f?f.attr(j):HQ(g,i,j,d);var m=d.get(g);m&&(m.__ecGraphicWidth=k.width,m.__ecGraphicHeight=k.height,EY(m,b,k))})}},_relocate:function(m,h){for(var d=m.option.elements,g=this.group,j=this._elMap,c=d.length-1;c>=0;c--){var b=d[c],p=j.get(b.id);if(p){var f=p.parent,k=f===g?{width:h.getWidth(),height:h.getHeight()}:{width:f.__ecGraphicWidth||0,height:f.__ecGraphicHeight||0};tX(p,b,k,null,{hv:b.hv,boundingMode:b.bounding})}}},_clear:function(){var a=this._elMap;a.each(function(b){u2(b,a)}),this._elMap=aj6()},dispose:function(){this._clear()}}),ail.version=PZ,ail.dependencies=HG,ail.PRIORITY=gV,ail.init=A8,ail.connect=b7,ail.disConnect=eV,ail.disconnect=aj5,ail.dispose=dq,ail.getInstanceByDom=aen,ail.getInstanceById=i1,ail.registerTheme=aad,ail.registerPreprocessor=w3,ail.registerProcessor=MU,ail.registerPostUpdate=yB,ail.registerAction=oJ,ail.registerCoordinateSystem=VV,ail.getCoordinateSystemDimensions=ag5,ail.registerLayout=abL,ail.registerVisual=aeK,ail.registerLoading=aba,ail.extendComponentModel=YH,ail.extendComponentView=W6,ail.extendSeriesModel=acX,ail.extendChartView=Uq,ail.setCanvasCreator=afi,ail.registerMap=aio,ail.getMap=ahG,ail.dataTool=ai4,ail.zrender=g5,ail.number=CW,ail.format=NB,ail.throttle=ej,ail.helper=aj8,ail.matrix=acO,ail.vector=ZJ,ail.color=OB,ail.parseGeoJSON=ahw,ail.parseGeoJson=Vq,ail.util=Q6,ail.graphic=SH,ail.List=akJ,ail.Model=f0,ail.Axis=ado,ail.env=B3});